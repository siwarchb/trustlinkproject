(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},r=[];function n(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"431196c0","chunk-2d216257":"69e90091","chunk-6b1bccf1":"74447310"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=i[t]=[e,s]}));e.push(a[2]=s);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=n(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",c.name="ChunkLoadError",c.type=s,c.request=r,a[1](c)}i[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03dd":function(t,e,a){"use strict";a("cc82")},"0ecf":function(t,e,a){},"0f9f":function(t,e,a){"use strict";a("3238")},1832:function(t,e,a){"use strict";a("a4cd")},1975:function(t,e,a){},"1c89":function(t,e,a){"use strict";a("d6cf")},"1fcd":function(t,e,a){"use strict";a("b9a5")},"289a":function(t,e,a){"use strict";a("c9aa")},2983:function(t,e,a){"use strict";a("e18a")},"2a6b":function(t,e,a){"use strict";a("dab5")},"2d4e":function(t,e,a){"use strict";a("3ff9")},3238:function(t,e,a){},"34e6":function(t,e,a){},"37ab":function(t,e,a){t.exports=a.p+"img/Trustlink.d21b2004.png"},"39ed":function(t,e,a){"use strict";a("9425")},"3bc9":function(t,e,a){},"3ff9":function(t,e,a){},4225:function(t,e,a){"use strict";a("ef8d")},"428b":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"52d8":function(t,e,a){"use strict";a("f35c")},"52de":function(t,e,a){"use strict";a("34e6")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t._self._c;return e("router-view")},r=[],n={name:"App"},o=n,l=(a("5883"),a("2877")),c=Object(l["a"])(o,i,r,!1,null,null,null),d=c.exports,u=a("8c4f"),p=a("7496"),m=a("f6c4"),h=function(){var t=this,e=t._self._c;return e(p["a"],{staticClass:"pa-6"},[e("Header"),e("Sidebar"),e(m["a"],{staticClass:"content"},[e("router-view")],1)],1)},v=[],f=a("40dc"),g=a("4ca6"),b=a("8336"),_=a("132d"),k=a("8860"),x=a("da13"),C=a("5d23"),y=a("1baa"),w=a("34c3"),q=a("e449"),S=a("2fa4"),B=a("2a7f"),R=function(){var t=this,e=t._self._c;return e(f["a"],{staticClass:"main-header",attrs:{height:"54",fixed:"",color:"info",dark:""}},[e(b["a"],{staticClass:"mx-1",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.TOGGLE_DRAWER.apply(null,arguments)}}},[t.DRAWER_STATE?[e(_["a"],{staticStyle:{"font-size":"28px"}},[t._v("mdi-arrow-left")])]:[e(_["a"],{staticStyle:{"font-size":"28px"}},[t._v("mdi-menu")])]],2),e(B["a"],[t._v("TRUSTLINK")]),e(S["a"]),e("Search"),e(q["a"],{attrs:{"offset-y":"",bottom:"","nudge-bottom":"10",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"mr-2",staticStyle:{"font-size":"28px"},attrs:{icon:""},on:{click:function(e){t.notificationsBadge&&(t.notificationsBadge=!t.notificationsBadge)}}},"v-btn",s,!1),a),[e(g["a"],{attrs:{value:t.notificationsBadge,color:"error",content:"4",overlap:""}},[e(_["a"],{staticStyle:{"font-size":"28px"},attrs:{color:"rgba(255, 255, 255, 0.35)"}},[t._v("mdi-bell-outline")])],1)],1)]}}])},[e(k["a"],[e(y["a"],{attrs:{color:"primary"}},t._l(t.notifications,(function(a,s){return e(x["a"],{key:s},[e(w["a"],{staticClass:"mr-4 mb-1"},[e(_["a"],{attrs:{color:a.color},domProps:{textContent:t._s(a.icon)}})],1),e(C["a"],[e(C["c"],{domProps:{textContent:t._s(a.text)}})],1)],1)})),1)],1)],1),e(q["a"],{attrs:{"max-width":"280","offset-y":"",bottom:"","nudge-bottom":"10",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"mr-2",staticStyle:{"font-size":"28px"},attrs:{icon:""},on:{click:function(e){t.messageBadge&&(t.messageBadge=!t.messageBadge)}}},"v-btn",s,!1),a),[e(g["a"],{attrs:{value:t.messageBadge,color:"warning",content:"3",overlap:""}},[e(_["a"],{staticStyle:{"font-size":"28px"},attrs:{color:t.config.light.iconColor}},[t._v(" mdi-email-outline")])],1)],1)]}}])},[e(k["a"],[e("div",{staticClass:"text-h5 grey--text text--darken-3 px-4 pt-4"},[t._v("New Messages")]),e("div",{staticClass:"subtitle-2 error--text font-weight-regular px-4 pb-2 link-item"},[t._v("4 new Messages")]),e(y["a"],{attrs:{color:"primary"}},t._l(t.messages,(function(a,s){return e(x["a"],{key:s},[e(w["a"],{staticClass:"mr-4 mb-1 d-flex flex-column"},[e(b["a"],{attrs:{fab:"","x-small":"",depressed:"",color:a.color}},[t._v(t._s(a.text)+" ")]),e("div",{staticStyle:{"font-size":"11px"}},[t._v(t._s(a.time))])],1),e(x["a"],{attrs:{"two-line":""}},[e(C["a"],{staticStyle:{width:"190px"}},[e(C["c"],{staticClass:"pb-2",domProps:{textContent:t._s(a.name)}}),e(C["b"],{staticClass:"text-truncate",domProps:{textContent:t._s(a.message)}})],1)],1)],1)})),1),e("div",{staticClass:"d-flex justify-center my-3"},[e(b["a"],{staticClass:"text-capitalize",attrs:{large:"",color:"primary",rounded:"",elevation:"5"}},[t._v(" Send New Message "),e(_["a"],{attrs:{right:"",dark:""}},[t._v("mdi-send")])],1)],1)],1)],1),e(q["a"],{attrs:{"min-width":"180","offset-y":"",bottom:"",left:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"mr-0",attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{staticStyle:{"font-size":"28px"},attrs:{color:t.config.light.iconColor}},[t._v("mdi-account")])],1)]}}])},[e(k["a"],[e("div",{staticClass:"text-h6 grey--text text--darken-3 px-4 pt-4"},[t._v(t._s(t.username))]),e("div",{staticClass:"subtitle-2 primary--text font-weight-regular px-4"},[t._v(t._s(t.userrole))]),e(y["a"],{attrs:{color:"primary"}},t._l(t.account,(function(a,s){return e(x["a"],{key:s},[e(w["a"],{staticClass:"mr-4"},[e(_["a"],{attrs:{color:a.color},domProps:{textContent:t._s(a.icon)}})],1),e(C["a"],[e(C["c"],{attrs:{color:t.config.light.textColor},domProps:{textContent:t._s(a.text)}})],1)],1)})),1),e("div",{staticClass:"d-flex justify-center my-3"},[e(b["a"],{staticClass:"text-capitalize",attrs:{width:"80%",large:"",outlined:"",color:"primary"},on:{click:t.logOut}},[t._v("Sign Out ")])],1)],1)],1)],1)},E=[],j=(a("14d9"),a("2f62")),A={light:{primary:"#536DFE",secondary:"#57beff",error:"#FF4081",warning:"#FFC260",success:"#3CD4A0",info:"#2382bf",textColor:"#B9B9B9",iconColor:"#FFFFFF59",grayBold:"#4a4a4a"}},T=function(){var t=this,e=t._self._c;return e("form",{attrs:{action:"#"}},[e("label",{attrs:{"data-state":t.state}},[e("input",{attrs:{type:"text",placeholder:"Search"},on:{click:function(e){t.state="open"},blur:function(e){t.state="close"}}}),e(_["a"],{attrs:{color:t.config.light.iconColor,size:"28"}},[t._v("mdi-magnify")])],1)])},I=[],O={name:"Search",data(){return{config:A,state:"close"}}},P=O,L=(a("1c89"),Object(l["a"])(P,T,I,!1,null,null,null)),D=L.exports,$={name:"Header",components:{Search:D},data:()=>({config:A,searchCollapse:!0,notifications:[{text:"Check out this awesome ticket",icon:"mdi-tag",color:"warning"},{text:"What is the best way to get ...",icon:"mdi-thumb-up",color:"success"},{text:"This is just a simple notification",icon:"mdi-flag",color:"error"},{text:"12 new orders has arrived today",icon:"mdi-cart",color:"primary"}],messages:[{text:"JH",name:"Jane Hew",message:"Hey! How is it going?",time:"09:32",color:"warning"},{text:"LB",name:"Lloyd Brown",message:"Check out my new Dashboard",time:"10:02",color:"success"},{text:"MW",name:"Mark Winstein",message:"I want rearrange the appointment",time:"12:16",color:"error"},{text:"LD",name:"Liana Dutti",message:"Good news from sale department",time:"14:56",color:"primary"}],account:[{text:"Profile",icon:"mdi-account",color:"textColor"},{text:"Tasks",icon:"mdi-thumb-up",color:"textColor"},{text:"Messages",icon:"mdi-flag",color:"textColor"}],notificationsBadge:!0,messageBadge:!0,username:"",userrole:""}),computed:{...Object(j["c"])(["drawer"]),DRAWER_STATE:{get(){return this.drawer}}},mounted(){let t=JSON.parse(window.localStorage.getItem("userData"));this.userrole=t[0]["role"],this.username=t[0]["name"]},methods:{...Object(j["b"])(["TOGGLE_DRAWER"]),logOut:function(){localStorage.clear(),this.$router.push("/login")}}},z=$,M=(a("a819"),Object(l["a"])(z,R,E,!1,null,null,null)),N=M.exports,F=a("62ad"),H=a("ce7e"),G=a("56b0"),Y=a("1800"),Q=a("f774"),V=a("0fd9"),W=function(){var t=this,e=t._self._c;return e(Q["a"],{class:{"drawer-mini":!t.DRAWER_STATE},attrs:{app:"",clipped:"","mini-variant":!t.DRAWER_STATE,width:t.sidebarWidth,permanent:t.$vuetify.breakpoint.mdAndUp,temporary:t.$vuetify.breakpoint.smAndDown,"mini-variant-width":t.sidebarMinWidth},model:{value:t.DRAWER_STATE,callback:function(e){t.DRAWER_STATE=e},expression:"DRAWER_STATE"}},[e(k["a"],[t._l(t.items,(function(a,s){return[a.heading?e(V["a"],{key:a.heading,attrs:{align:"center"}},[e(F["a"],{staticClass:"py-5",attrs:{cols:"6"}},[e("span",{staticClass:"text-body-1 subheader",class:a.heading&&t.DRAWER_STATE?"show ":"hide",staticStyle:{"padding-left":"32px"}},[t._v(" "+t._s(a.heading)+" ")])])],1):a.divider?e(H["a"],{key:s,staticClass:"my-4",attrs:{dark:""}}):a.children&&t.DRAWER_STATE&&a.show?e(G["a"],{key:a.title,attrs:{color:"info","append-icon":""},scopedSlots:t._u([{key:"prependIcon",fn:function(){return[e(_["a"],{attrs:{size:"28"}},[t._v("mdi-image-filter-none")])]},proxy:!0},{key:"activator",fn:function(){return[e(C["a"],[e(C["c"],{staticClass:"grey--text",attrs:{color:"info"}},[t._v(" "+t._s(a.title)+" ")])],1)]},proxy:!0}],null,!0),model:{value:a.model,callback:function(e){t.$set(a,"model",e)},expression:"item.model"}},t._l(a.children,(function(a,s){return e(x["a"],{key:s,attrs:{to:a.link,link:""}},[a.icon?e(Y["a"],[e(_["a"],{attrs:{size:""}},[t._v(t._s(a.icon))])],1):t._e(),e(C["a"],[e(C["c"],{staticClass:"grey--text"},[t._v(" "+t._s(a.title)+" ")])],1)],1)})),1):a.show?e(x["a"],{key:a.text,attrs:{color:"info",href:a.href?a.href:null,to:"#"===a.link?null:a.link,link:""}},[e(Y["a"],[e(_["a"],{attrs:{size:"28",color:a.color?a.color:""}},[t._v(t._s(a.icon))])],1),e(C["a"],[e(C["c"],{staticClass:"grey--text",attrs:{link:""}},[t._v(" "+t._s(a.title)+" ")])],1)],1):t._e()]}))],2)],1)},J=[],U=a("bc3a");const Z=U["a"].create({baseURL:"https://crmsav.4help.tn/api/"});var X,K,tt={props:{source:String},data(){return{items:[{title:"Dashboard",icon:"mdi-home",link:"/dashboard",show:!0},{title:"Receipt",icon:" mdi-animation",link:"/tickets",show:!0},{title:"Tickets",icon:" mdi-ticket-outline",link:"/diagnostics",show:!0},{title:"Interventions",icon:"mdi-folder-file-outline",link:"/interventions",model:!1,show:!0,children:[{title:"Contrats",icon:"mdi-book-account-outline",link:"/contrats"},{title:"Interventions",icon:"mdi-file-settings",link:"/interventions"}]},{title:"Planning Intervention ",icon:" mdi-calendar",link:"/events",show:!0},{title:"Clients",icon:"mdi-account-multiple",link:"/clients",show:!0},{title:"Accessories",icon:"mdi mdi-tools ",link:"/accessoires",show:!0},{title:"Machines",icon:"mdi-slot-machine-outline ",link:"/machines",show:!0},{title:"Inventory",icon:"mdi-cube-outline",link:"/stocks",model:!1,show:!0,children:[{title:"See stock",icon:"mdi-cube-outline",link:"/stocks"},{title:"Add Spare part",icon:"mdi-plus",link:"/addpr"},{title:"demandes",icon:"mdi-archive-eye-outline",link:"/demandes"}]},{title:"Location",icon:" mdi-server",link:"/emplacements",show:!0},{title:"Breakdowns",icon:"mdi-alert-box",link:"/pannes",show:!0},{title:"buyers",icon:"mdi-clipboard-account",link:"/acheteurs",show:!0},{title:"Users",icon:"mdi-account-plus",link:"/users",show:!0},{title:"Client_Devis",icon:"mdi-account",link:"/client_area",show:!0},{title:"Tickets.",icon:"mdi-animation",link:"/tickets_technicien",show:!0},{title:"Quote",icon:"mdi-animation",link:"/appels_doffres",show:!0,children:[{title:"devis Interne",icon:"mdi-note-search",link:"/devis_interne"},{title:"Offres ",icon:"mdi-file-sign",link:"/appels_doffres"}]},{title:"Import",icon:"mdi-database-import-outline",link:"/imports",show:!0},{title:"Diagnostics.",icon:" mdi-wrench",link:"/diagnostics_technicien",show:!0},{title:"Interventions.",icon:" mdi-calendar",link:"/eventstechnicien",show:!0},{divider:!0}],sidebarWidth:240,sidebarMinWidth:96,user:[]}},created(){this.getuser()},mounted(){let t=JSON.parse(window.localStorage.getItem("userData"));if("client"==t[0]["role"]){var e=this.items.find(t=>"Machines"===t.title);e.show=!1;var a=this.items.find(t=>"Interventions"===t.title);a.show=!1;var s=this.items.find(t=>"Receipt"===t.title);s.show=!1;var i=this.items.find(t=>"Quote"===t.title);i.show=!1;var r=this.items.find(t=>"Clients"===t.title);r.show=!1;var n=this.items.find(t=>"Inventory"===t.title);n.show=!1;var o=this.items.find(t=>"Location"===t.title);o.show=!1;var l=this.items.find(t=>"Tickets"===t.title);l.show=!1;var c=this.items.find(t=>"Buyers"===t.title);c.show=!1;var d=this.items.find(t=>"Users"===t.title);d.show=!1;var u=this.items.find(t=>"Breakdowns"===t.title);u.show=!1;var p=this.items.find(t=>"Import"===t.title);p.show=!1;var m=this.items.find(t=>"Planning Intervention "===t.title);m.show=!1;var h=this.items.find(t=>"Tickets."===t.title);h.show=!1;var v=this.items.find(t=>"Diagnostics."===t.title);v.show=!1}else if("admin"==t[0]["role"]){var f=this.items.find(t=>"Client_Devis"===t.title);f.show=!1;h=this.items.find(t=>"Tickets."===t.title);h.show=!1;v=this.items.find(t=>"Diagnostics."===t.title);v.show=!1;var g=this.items.find(t=>"Interventions."===t.title);g.show=!1}else if("technicien"==t[0]["role"]){f=this.items.find(t=>"Client_Devis"===t.title);f.show=!1;s=this.items.find(t=>"Receipt"===t.title);s.show=!1;r=this.items.find(t=>"Clients"===t.title);r.show=!1;n=this.items.find(t=>"Inventory"===t.title);n.show=!1;o=this.items.find(t=>"Location"===t.title);o.show=!1;l=this.items.find(t=>"Tickets"===t.title);l.show=!1;c=this.items.find(t=>"Buyers"===t.title);c.show=!1;d=this.items.find(t=>"Users"===t.title);d.show=!1;u=this.items.find(t=>"Breakdowns"===t.title);u.show=!1;var b=this.items.find(t=>"Quote"===t.title);b.show=!1;p=this.items.find(t=>"Import"===t.title);p.show=!1;m=this.items.find(t=>"Planning Intervention "===t.title);m.show=!1;a=this.items.find(t=>"Interventions"===t.title);a.show=!1}else if("réception"==t[0]["role"]){f=this.items.find(t=>"Client_Devis"===t.title);f.show=!1;h=this.items.find(t=>"Tickets."===t.title);h.show=!1;p=this.items.find(t=>"Import"===t.title);p.show=!1;r=this.items.find(t=>"Clients"===t.title);r.show=!1;n=this.items.find(t=>"Inventory"===t.title);n.show=!1;o=this.items.find(t=>"Location"===t.title);o.show=!1;l=this.items.find(t=>"Tickets"===t.title);l.show=!1;c=this.items.find(t=>"Buyers"===t.title);c.show=!1;d=this.items.find(t=>"Users"===t.title);d.show=!1;u=this.items.find(t=>"Breakdowns"===t.title);u.show=!1;v=this.items.find(t=>"Diagnostics."===t.title);v.show=!1;m=this.items.find(t=>"Planning Intervention "===t.title);m.show=!1;var _=this.items.find(t=>"Accessories"===t.title);_.show=!1;g=this.items.find(t=>"Interventions."===t.title);g.show=!1;e=this.items.find(t=>"Machines"===t.title);e.show=!1}},computed:{...Object(j["c"])(["drawer"]),DRAWER_STATE:{get(){return this.drawer},set(t){t!==this.drawer&&this.TOGGLE_DRAWER()}}},methods:{getuser(){var t=localStorage.getItem("token");Z.get("auth/getuser/"+t).then(t=>{this.user=t.data,"client"==this.user.role&&console.log("eee")}).then(t=>console.log(t))},...Object(j["b"])(["TOGGLE_DRAWER"])}},et=tt,at=(a("95cd"),Object(l["a"])(et,W,J,!1,null,null,null)),st=at.exports,it=(a("e87c"),{name:"Layout",components:{Header:N,Sidebar:st}}),rt=it,nt=(a("84b4"),Object(l["a"])(rt,h,v,!1,null,null,null)),ot=nt.exports,lt=a("b0af"),ct=a("99d9"),dt=a("a523"),ut=a("8e36"),pt=a("b974"),mt=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Dashboard")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Latest Reports")])]}}])})],1),e(V["a"],[e(F["a"],{attrs:{lg:"3",sm:"6",md:"5",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("number of tickets")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e("div",{staticClass:"v-card__text pa-5 pt-0"},[e("div",{staticClass:"row pb-0 no-gutters"},[e("div",{staticClass:"my-auto col col-5"},[e("span",{staticClass:"font-weight-medium greyBold--text",staticStyle:{"font-size":"24px"}},[t._v(t._s(this.nbtickets))]),e("p",{staticClass:"greyBold--text mb-0"},[t._v("Tickets")])]),e("div",{staticClass:"col col-6"},[e("div",{staticStyle:{"min-height":"98.7px"}},[e("div",{staticClass:"apexcharts-canvas apexchartsqxbq93o2 apexcharts-theme-light",staticStyle:{width:"122px",height:"98.7px"},attrs:{id:"apexchartsqxbq93o2"}},[e("svg",{staticClass:"apexcharts-svg",staticStyle:{background:"transparent"},attrs:{id:"SvgjsSvg2656",width:"122",height:"98.7",xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.dev","xmlns:data":"ApexChartsNS",transform:"translate(0, 0)"}},[e("g",{staticClass:"apexcharts-inner apexcharts-graphical",attrs:{id:"SvgjsG2658",transform:"translate(14, 0)"}},[e("defs",{attrs:{id:"SvgjsDefs2657"}},[e("clipPath",{attrs:{id:"gridRectMaskqxbq93o2"}},[e("rect",{attrs:{id:"SvgjsRect2660",width:"102",height:"120",x:"-3",y:"-1",rx:"0",ry:"0",opacity:"1","stroke-width":"0",stroke:"none","stroke-dasharray":"0",fill:"#fff"}})]),e("clipPath",{attrs:{id:"forecastMaskqxbq93o2"}}),e("clipPath",{attrs:{id:"nonForecastMaskqxbq93o2"}}),e("clipPath",{attrs:{id:"gridRectMarkerMaskqxbq93o2"}},[e("rect",{attrs:{id:"SvgjsRect2661",width:"100",height:"122",x:"-2",y:"-2",rx:"0",ry:"0",opacity:"1","stroke-width":"0",stroke:"none","stroke-dasharray":"0",fill:"#fff"}})])]),e("g",{staticClass:"apexcharts-radialbar",attrs:{id:"SvgjsG2662"}},[e("g",{attrs:{id:"SvgjsG2663"}},[e("g",{staticClass:"apexcharts-tracks",attrs:{id:"SvgjsG2664"}},[e("g",{staticClass:"apexcharts-radialbar-track apexcharts-track",attrs:{id:"SvgjsG2665",rel:"1"}},[e("path",{staticClass:"apexcharts-radialbar-area",attrs:{id:"apexcharts-radialbarTrack-0",d:"M 47.99999999999999 77.54939024390245 A 29.549390243902444 29.549390243902444 0 1 1 48.0515733889877 77.54934523761881",fill:"none","fill-opacity":"1",stroke:"rgba(242,242,242,0.85)","stroke-opacity":"1","stroke-linecap":"butt","stroke-width":"4.0609878048780494","stroke-dasharray":"0","data:pathOrig":"M 47.99999999999999 77.54939024390245 A 29.549390243902444 29.549390243902444 0 1 1 48.0515733889877 77.54934523761881"}})])]),e("g",{attrs:{id:"SvgjsG2667"}},[e("g",{staticClass:"apexcharts-series apexcharts-radial-series",attrs:{id:"SvgjsG2671",seriesName:"seriesx1",rel:"1","data:realIndex":"0"}},[e("path",{staticClass:"apexcharts-radialbar-area apexcharts-radialbar-slice-0",attrs:{id:"SvgjsPath2672",d:"M 47.99999999999999 77.54939024390245 A 29.549390243902444 29.549390243902444 0 1 1 70.63614619389561 29.006018077427203",fill:"none","fill-opacity":"0.85",stroke:"rgba(83,109,254,0.85)","stroke-opacity":"1","stroke-linecap":"butt","stroke-width":"4.186585365853659","stroke-dasharray":"4","data:angle":"230","data:value":"64",index:"0",j:"0","data:pathOrig":"M 47.99999999999999 77.54939024390245 A 29.549390243902444 29.549390243902444 0 1 1 70.63614619389561 29.006018077427203"}})]),e("circle",{staticClass:"apexcharts-radialbar-hollow",attrs:{id:"SvgjsCircle2668",r:"22.518896341463417",cx:"48",cy:"48",fill:"transparent"}}),e("g",{staticClass:"apexcharts-datalabels-group",staticStyle:{opacity:"1"},attrs:{id:"SvgjsG2669",transform:"translate(0, 0) scale(1)"}},[e("text",{staticClass:"apexcharts-text apexcharts-datalabel-value",staticStyle:{"font-family":"Helvetica, Arial,"},attrs:{id:"SvgjsText2670","font-family":"Helvetica, Arial, sans-serif",x:"48",y:"56","text-anchor":"middle","dominant-baseline":"auto","font-size":"16px","font-weight":"400",fill:"#b9b9b9"}},[t._v(" 22% ")])])])])]),e("line",{staticClass:"apexcharts-ycrosshairs",attrs:{id:"SvgjsLine2673",x1:"0",y1:"0",x2:"96",y2:"0",stroke:"#b6b6b6","stroke-dasharray":"0","stroke-width":"1","stroke-linecap":"butt"}}),e("line",{staticClass:"apexcharts-ycrosshairs-hidden",attrs:{id:"SvgjsLine2674",x1:"0",y1:"0",x2:"96",y2:"0","stroke-dasharray":"0","stroke-width":"0","stroke-linecap":"butt"}})]),e("g",{staticClass:"apexcharts-annotations",attrs:{id:"SvgjsG2659"}})]),e("div",{staticClass:"apexcharts-legend"})])])])]),e("div",{staticClass:"row pb-0 no-gutters justify-space-between"},[e("div",{staticClass:"d-flex flex-column align-center col col-auto"},[e("p",{staticClass:"greyTint--text my-0",staticStyle:{"font-size":"12px"}},[t._v(" En cours ")]),e("div",[e("span",{staticClass:"greyBold--text font-weight-regular",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.nbticketsencours))]),e("i",{staticClass:"v-icon notranslate mt-n1 mdi mdi-circle-small theme--light success--text",staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"d-flex flex-column align-center col col-auto"},[e("p",{staticClass:"greyTint--text my-0",staticStyle:{"font-size":"12px"}},[t._v(" Ouverts ")]),e("div",{staticClass:"d-flex flex-row justify-start"},[e("span",{staticClass:"greyBold--text font-weight-regular",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.nbticketsouverts))]),e("i",{staticClass:"v-icon notranslate mt-n1 mdi mdi-circle-small theme--light warning--text",staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"d-flex flex-column align-center col col-auto"},[e("p",{staticClass:"greyTint--text my-0",staticStyle:{"font-size":"12px"}},[t._v(" Cloturé ")]),e("div",[e("span",{staticClass:"greyBold--text font-weight-regular",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.nbticketscloture))]),e("i",{staticClass:"v-icon notranslate pl-0 mt-n1 mdi mdi-circle-small theme--light primary--text",staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}})])])])])])],1)],1),e(F["a"],{attrs:{lg:"3",sm:"6",md:"7",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-8"},[e("p",[t._v("Tickets en Réparation ("+t._s(t.nbticketsenreparation)+")")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{staticClass:"pb-5",attrs:{"no-gutters":""}},[e("div",{staticClass:"mr-4"},[e(_["a"],{staticClass:"ml-n2",attrs:{color:"success"}},[t._v(" mdi-circle-medium ")]),e("span",{staticClass:"card-light-grey"},[t._v("Garantie ("+t._s(t.nbticketsenreparationgarantie)+")")])],1),e("div",[e(_["a"],{attrs:{color:"error"}},[t._v(" mdi-circle-medium ")]),e("span",{staticClass:"card-light-grey"},[t._v("Hors Garantie ("+t._s(t.nbticketsenreparationhorsgarantie)+")")])],1)]),e(V["a"],{staticClass:"pb-3",attrs:{"no-gutters":""}},[e(F["a"],[e("div",{staticClass:"text-h6 card-light-grey font-weight-regular"},[t._v(" Garantie ")]),e(ut["a"],{attrs:{value:t.nbticketsenreparationgarantie,"background-color":"#ececec",color:"success"}})],1)],1),e(V["a"],{staticClass:"pb-1",attrs:{"no-gutters":""}},[e(F["a"],[e("div",{staticClass:"text-h6 card-light-grey font-weight-regular"},[t._v(" Hors Garantie ")]),e(ut["a"],{attrs:{value:t.nbticketsenreparationhorsgarantie,"background-color":"#ececec",color:"error"}})],1),e("br"),e("br")],1)],1)],1)],1),e(F["a"],{attrs:{lg:"3",sm:"6",md:"7",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1",staticStyle:{"min-height":"228px"}},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Server Overview")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto text-truncate",attrs:{cols:"6",md:"5",lg:"6",xl:"4"}},[e("span",[t._v("60% / 37°С / 3.3 Ghz")])]),e(F["a"],{attrs:{cols:"6",md:"7",lg:"6",xl:"8"}},[t.apexLoading?e("ApexChart",{attrs:{height:"35",type:"area",options:t.mock.apexArea1.options,series:t.mock.apexArea1.series}}):t._e()],1)],1),e(V["a"],{staticClass:"my-3",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto text-truncate",attrs:{cols:"6",md:"5",lg:"6",xl:"4"}},[e("span",[t._v("54% / 31°С / 3.3 Ghz")])]),e(F["a"],{attrs:{cols:"6",md:"7",lg:"6",xl:"8"}},[t.apexLoading?e("ApexChart",{attrs:{height:"35",type:"area",options:t.mock.apexArea2.options,series:t.mock.apexArea2.series}}):t._e()],1)],1),e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto text-truncate",attrs:{cols:"6",md:"5",lg:"6",xl:"4"}},[e("span",[t._v("57% / 21°С / 3.3 Ghz")])]),e(F["a"],{attrs:{cols:"6",md:"7",lg:"6",xl:"8"}},[t.apexLoading?e("ApexChart",{attrs:{height:"35",type:"area",options:t.mock.apexArea3.options,series:t.mock.apexArea3.series}}):t._e()],1)],1)],1)],1)],1),e(F["a"],{attrs:{lg:"3",sm:"6",md:"5",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1",staticStyle:{height:"250px"}},[e(ct["c"],{staticClass:"flex-nowrap pa-6 pb-3"},[e("p",{staticClass:"text-truncate"},[t._v("Number of interventions by customer type")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-6 pt-0 mb-1"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("apexchart",{attrs:{width:"330",type:"donut",options:t.options,series:t.series}})],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"d-flex align-center",attrs:{cols:"7",sm:"4",md:"4",lg:"5"}},[e("p",[t._v("Nb répartition par marque produit")])]),e(F["a"],{staticClass:"d-none d-sm-flex align-center",attrs:{sm:"6",md:"6",lg:"5"}},[e(_["a"],{attrs:{size:"18",color:"warning"}},[t._v("mdi-circle-medium")]),e("span",{staticClass:"card-dark-grey font-weight-regular mr-3",staticStyle:{"font-size":"18px"}},[t._v("Tablet")]),e(_["a"],{attrs:{size:"18",color:"primary"}},[t._v("mdi-circle-medium")]),e("span",{staticClass:"card-dark-grey font-weight-regular mr-3",staticStyle:{"font-size":"18px"}},[t._v("Mobile")]),e(_["a"],{attrs:{size:"18",color:"#B1BCFF"}},[t._v("mdi-circle-medium")]),e("span",{staticClass:"card-dark-grey font-weight-regular",staticStyle:{"font-size":"18px"}},[t._v("Desktop")])],1),e(F["a"],{attrs:{cols:"6",sm:"2",md:"2",lg:"1","offset-lg":"1"}},[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(pt["a"],t._g(t._b({staticClass:"main-chart-select",attrs:{dense:"",flat:"","single-line":"","hide-details":"",items:t.mock.select,outlined:""},model:{value:t.mainApexAreaSelect,callback:function(e){t.mainApexAreaSelect=e},expression:"mainApexAreaSelect"}},"v-select",s,!1),a))]}}])})],1)],1)],1),e(ct["b"],{staticClass:"pa-6"},[e(V["a"],[e(F["a"],[e("apexcharts",{attrs:{width:"1500",height:"350",type:"bar",options:t.chartOptions,series:t.series1.data}})],1)],1)],1)],1)],1),e(F["a"],{attrs:{lg:"4",sm:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Light Blue")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto",attrs:{cols:"6"}},[e("span",{staticStyle:{"font-size":"42px"}},[t._v("199 "),e("span",{staticClass:"caption error--text"},[t._v("-3.7%")])])]),e(F["a"],{attrs:{cols:"6"}},[t.apexLoading?e("ApexChart",{attrs:{height:"100",type:"bar",options:t.mock.apexBar1.options,series:t.mock.apexBar1.series}}):t._e()],1)],1),e(V["a"],{staticClass:"justify-space-between",attrs:{"no-gutters":""}},[e("div",[e("div",{staticClass:"subtext"},[t._v(" 33 "),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Registrations")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 3.25%"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Bounce Rate")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 330"),e(_["a"],{attrs:{color:"error"}},[t._v(" mdi-arrow-bottom-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Views")])])])],1)],1)],1),e(F["a"],{attrs:{lg:"4",sm:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Sing App")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto",attrs:{cols:"7"}},[e("span",{staticStyle:{"font-size":"42px"}},[t._v("121 "),e("span",{staticClass:"error--text caption"},[t._v("-3.2%")])])]),e(F["a"],{attrs:{cols:"5"}},[t.apexLoading?e("ApexChart",{attrs:{height:"100",type:"bar",options:t.mock.apexBar2.options,series:t.mock.apexBar2.series}}):t._e()],1)],1),e(V["a"],{staticClass:"justify-space-between",attrs:{"no-gutters":""}},[e("div",[e("div",{staticClass:"subtext"},[t._v(" 15"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Registrations")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 3.01%"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Bounce Rate")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 302"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Views")])])])],1)],1)],1),e(F["a"],{attrs:{lg:"4",sm:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("RNS")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto",attrs:{cols:"7"}},[e("span",{staticStyle:{"font-size":"42px"}},[t._v("175 "),e("span",{staticClass:"error--text caption"},[t._v("-3.1%")])])]),e(F["a"],{attrs:{cols:"5"}},[t.apexLoading?e("ApexChart",{attrs:{height:"100",type:"bar",options:t.mock.apexBar3.options,series:t.mock.apexBar3.series}}):t._e()],1)],1),e(V["a"],{staticClass:"justify-space-between",attrs:{"no-gutters":""}},[e("div",[e("div",{staticClass:"subtext"},[t._v(" 31 "),e(_["a"],{attrs:{color:"error"}},[t._v(" mdi-arrow-bottom-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Registrations")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 3.23%"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Bounce Rate")])]),e("div",[e("div",{staticClass:"subtext"},[t._v(" 301"),e(_["a"],{attrs:{color:"success"}},[t._v(" mdi-arrow-top-right")])],1),e("div",{staticClass:"subtext-index"},[t._v("Views")])])])],1)],1)],1)],1)],1)])},ht=[],vt={bigStat:[{product:"Light Blue",total:"4,232",color:"primary",registrations:{value:830,profit:!0},bounce:{value:4.5,profit:!1}},{product:"Sing App",total:"754",color:"danger",registrations:{value:30,profit:!0},bounce:{value:2.5,profit:!0}},{product:"RNS",total:"1,025",color:"info",registrations:{value:230,profit:!0},bounce:{value:21.5,profit:!1}}],trend:{gradient:[A.light.success]},table:[{id:0,name:"Mark Otto",email:"ottoto@wxample.com",product:"ON the Road",price:"$25 224.2",date:"11 May 2017",city:"Otsego",status:"Sent"},{id:1,name:"Jacob Thornton",email:"thornton@wxample.com",product:"HP Core i7",price:"$1 254.2",date:"4 Jun 2017",city:"Fivepointville",status:"Sent"},{id:2,name:"Larry the Bird",email:"bird@wxample.com",product:"Air Pro",price:"$1 570.0",date:"27 Aug 2017",city:"Leadville North",status:"Pending"},{id:3,name:"Joseph May",email:"josephmay@wxample.com",product:"Version Control",price:"$5 224.5",date:"19 Feb 2018",city:"Seaforth",status:"Declined"},{id:4,name:"Peter Horadnia",email:"horadnia@wxample.com",product:"Let's Dance",price:"$43 594.7",date:"1 Mar 2018",city:"Hanoverton",status:"Sent"}],menu:["Edit","Copy","Delete","Print"],lastReports:[{title:"Print PDF",icon:"mdi-printer"},{title:"Download",icon:"mdi-download"},{title:"Sand by mail",icon:"mdi-email"},{title:"Share",icon:"mdi-share-variant"}],select:["Daily","Weekly","Monthly"],apexPie:{options:{dataLabels:{enabled:!1},colors:[A.light.primary,A.light.secondary,A.light.success,A.light.warning],labels:["Group A","Group B","Group C","Group D"],legend:{}},series:[400,300,300,200]},apexArea1:{options:{chart:{id:"apexAreaFirst",sparkline:{enabled:!0}},colors:[A.light.secondary],fill:{type:"solid",opacity:.3},stroke:{width:2,curve:"smooth"}},series:[{data:[50,56,52,51,52,55,53]}]},apexArea2:{options:{chart:{sparkline:{enabled:!0}},colors:[A.light.primary],fill:{type:"solid",opacity:.3},stroke:{width:2,curve:"smooth"}},series:[{data:[55,56,52,51,52,55,53]}]},apexArea3:{options:{chart:{sparkline:{enabled:!0}},colors:[A.light.warning],fill:{type:"solid",opacity:.3},stroke:{width:2,curve:"smooth"}},series:[{data:[55,56,52,51,52,55,53]}]},mainApexArea:{options:{chart:{width:"100%",toolbar:{show:!1}},dataLabels:{enabled:!1},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},markers:{size:[5,0,0]},stroke:{width:[3,3,0],curve:["straight","smooth","smooth"]},fill:{type:"linear"},legend:{show:!1},colors:[A.light.warning,A.light.primary,"#f3f5ff"],yaxis:{axisBorder:{show:!0,color:"#B9B9B980"},labels:{style:{colors:["#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980"],fontSize:"12px"}},tickAmount:5},xaxis:{labels:{style:{fontSize:"12px",colors:["#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980","#B9B9B980"]}},tickAmount:10}},series:[{name:"Tablet",type:"line",data:[3100,4e3,2800,5100,4200,6090,5100,3100,4e3,2800,5100,4200,6090,5100]},{name:"Mobile",type:"line",data:[1100,3200,4500,3020,3400,5200,4100,1100,3200,4500,3020,3400,5200,4100]},{name:"Desktop",type:"area",data:[2100,2e3,1800,4100,1200,3600,6100,2100,2e3,1800,4100,1200,3600,6100]}],series2:[{name:"Tablet",type:"line",data:[2100,3e3,2800,6100,5200,5090,4100,2100,2e3,3800,6100,5200,7090,6100]},{name:"Mobile",type:"line",data:[1100,3200,4500,3020,3400,5200,4100,1100,3200,4500,3020,3400,5200,4100]},{name:"Desktop",type:"area",data:[2100,2e3,1800,4100,1200,3600,6100,2100,2e3,1800,4100,1200,3600,6100]}],series3:[{name:"Tablet",type:"line",data:[4100,5e3,4800,8100,7200,7090,6100,4100,4e3,5800,8100,7200,9090,8100]},{name:"Mobile",type:"line",data:[4100,5200,7500,6020,6400,8200,7100,4100,6200,7500,6020,6400,8200,7100]},{name:"Desktop",type:"area",data:[5100,5e3,4800,7100,4200,6600,9100,5100,5e3,4800,7100,4200,4600,9100]}]},apexBar1:{options:{chart:{id:"chartFirst",toolbar:{show:!1}},fill:{colors:[A.light.primary],opacity:1},plotOptions:{bar:{columnWidth:"50%",distributed:!0,endingShape:"rounded",startingShape:"rounded"}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},dataLabels:{enabled:!1,dropShadow:{enable:!1}},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{labels:{show:!1}}},series:[{data:[70,63,84,79,70,65,80]}]},apexBar2:{options:{chart:{id:"chartFirst",toolbar:{show:!1}},fill:{colors:[A.light.warning],opacity:1},plotOptions:{bar:{columnWidth:"45%",distributed:!0,endingShape:"rounded",startingShape:"rounded"}},grid:{padding:{left:-20,right:0},margin:{bottom:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},dataLabels:{enabled:!1,dropShadow:{enable:!1}},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{labels:{show:!1}}},series:[{data:[30,23,54,69,40,25,60]}]},apexBar3:{options:{chart:{id:"chartFirst",toolbar:{show:!1}},fill:{colors:[A.light.secondary],opacity:1},plotOptions:{bar:{columnWidth:"45%",distributed:!0,endingShape:"rounded",startingShape:"rounded"}},grid:{padding:{left:-20,right:0},margin:{bottom:0},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},dataLabels:{enabled:!1,dropShadow:{enable:!1}},legend:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{labels:{show:!1}}},series:[{data:[60,43,24,19,30,45,60]}]}},ft=(a("da19"),a("1321")),gt=a.n(ft),bt={name:"Dashboard",components:{apexcharts:gt.a},data(){return{nbtickets:"",nbticketsencours:"",nbticketsenreparation:"",nbticketrepare:"",nbticketscloture:"",nbticketsouverts:"",nbticketsenreparationhorsgarantie:"",nbticketsenreparationgarantie:"",options:{labels:["Client final","Revendeur"]},mock:vt,apexLoading:!1,value:this.getRandomInt(10,90),value2:this.getRandomInt(10,90),mainApexAreaSelect:"Daily",series:[],chartOptions:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series1:{name:"series-1",data:[]}}},created(){this.counticket(),this.counticketencours(),this.counticketenreparation(),this.counticketcloture(),this.counticketrepare(),this.nbticketsouvertss(),this.counticketenreparationhorsgarantie(),this.counticketenreparationgarantie(),this.counticketsbytypeclient(),this.generatePieSeries(),this.geticketmarquepdt()},methods:{counticket(){Z.get("tickets/counticket").then(t=>{this.nbtickets=t.data,console.log(this.nbtickets)}).then(t=>console.log(t))},counticketenreparation(){Z.get("tickets/counticketenreparation").then(t=>{this.nbticketsenreparation=t.data,console.log(this.nbticketsenreparation)}).then(t=>console.log(t))},counticketenreparationhorsgarantie(){Z.get("tickets/counticketenreparationhorsgarantie").then(t=>{this.nbticketsenreparationhorsgarantie=t.data,console.log(this.nbticketsenreparationhorsgarantie)}).then(t=>console.log(t))},counticketenreparationgarantie(){Z.get("tickets/counticketenreparationgarantie").then(t=>{this.nbticketsenreparationgarantie=t.data,console.log(this.nbticketsenreparationgarantie)}).then(t=>console.log(t))},counticketencours(){Z.get("tickets/counticketencours").then(t=>{this.nbticketsencours=t.data}).then(t=>console.log(t))},counticketcloture(){Z.get("tickets/counticketcloture").then(t=>{this.nbticketscloture=t.data}).then(t=>console.log(t))},counticketrepare(){Z.get("tickets/counticketrepare").then(t=>{this.nbticketrepare=t.data,console.log(this.nbticketrepare)}).then(t=>console.log(t))},nbticketsouvertss(){Z.get("tickets/counticketouvert").then(t=>{this.nbticketsouverts=t.data,console.log(this.nbticketsouverts)}).then(t=>console.log(t))},counticketsbytypeclient(){Z.get("tickets/counticketsbytypeclient").then(t=>{console.log(this.nbticketsouverts)}).then(t=>console.log(t))},getRandomDataForTrends(){const t=[];for(let e=0;e<12;e+=1)t.push(10*Math.random().toFixed(1));return t},generatePieSeries(){Z.get("tickets/counticketsbytypeclient").then(t=>(t.data.forEach((t,e)=>{let a=t.count;this.series.push(a)}),this.series))},geticketmarquepdt(){Z.get("tickets/counticketsbymarquepdt").then(t=>(t.data.forEach((t,e)=>{let a=t.count;this.series1.data.push(a),console.log(this.series1),this.chartOptions.xaxis.categories.push(t._id)}),this.series1.data,this.chartOptions))},getRandomInt(t,e){let a=t-.5+Math.random()*(e-t+1);return Math.round(a)}},mounted(){setTimeout(()=>{this.apexLoading=!0})}},_t=bt,kt=(a("c596"),Object(l["a"])(_t,mt,ht,!1,null,null,null)),xt=kt.exports,Ct=a("cc20"),yt=a("169a"),wt=a("4bd4"),qt=a("1f4f"),St=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Tickets Diagnostics")]),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste of tickets")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-0"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Number")]),e("th",{staticClass:"text-left"},[t._v("client")]),e("th",{staticClass:"text-left"},[t._v("warranty")]),e("th",{staticClass:"text-left"},[t._v("status")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.tickets,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.numero))]),e("td",[t._v(t._s(a.revendeur))]),"garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" garantie ")])],1):"nn garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"error"}},[t._v(" non garantie ")])],1):e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente ")])],1),"réparation en cours"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},"v-chip",s,!1),a),[t._v(" réparation en cours ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous terminé la réparation ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la réparation "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatereparationticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):t._e(),"en attente de facturation"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},"v-chip",s,!1),a),[t._v(" en attente de facturation ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous facturé le devis ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" êtes vous sure ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatedevisfactur(a._id)}}},[t._v(" Oui ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):"en cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"secondary"}},[t._v(" En cours de diagnostic ")])],1):t._e(),"PRreçu"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{color:"success"}},[t._v(" PR Reçu ")])],1):"ouverte"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" Ouverte ")])],1):"devis_en_attente_accord_reception_client"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord réception client ")])],1):"diagnostic_en_cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" diagnostic en cours ")])],1):"devis_attente_accord_client_final"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord client final ")])],1):"cloturesansreponse"===a.etat||"refusparréception"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"clôturé et décharge recu"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" clôturé et décharge recu ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous livré sans décharge ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Livré sans décharge ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatelivrerticket(a._id)}}},[t._v(" Livrer ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):t._e(),"réparation terminé"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" réparation terminé ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous cloturé ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la cloture ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updateclotureticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):t._e(),"livré sans décharge"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Livré sans décharge ")])],1):"en_attente_pr"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente PR ")])],1):t._e(),e("td",["clôturé et décharge recu"==a.etat||"cloturesansreponse"==a.etat||"refusparréception"==a.etat||"livré sans décharge"==a.etat||"en attente de facturation"==a.etat||"devis_attente_accord_client_final"==a.etat||"devis_en_attente_accord_reception_client"==a.etat||"réparation en cours"==a.etat||"réparation terminé"==a.etat||"en cours"==a.etat||"facturé"==a.etat?e("router-link",{attrs:{to:{}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"green",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1):"en_attente_pr"==a.etat||"PRreçu"==a.etat?e("router-link",{attrs:{to:{name:"viewdiagnosticenattentepr",params:{id:a._id}}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"red",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1):e("router-link",{attrs:{to:{name:"viewticketdiagnostic",params:{id:a._id}}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"blue",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Bt=[],Rt={data(){return{tickets:[]}},computed:{searchFunction(){return this.tickets.filter(t=>t.numero.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.gettickets()},methods:{gettickets(){Z.get("tickets/getalltickets").then(t=>{this.tickets=t.data,console.log(this.tickets)}).then(t=>console.log(t))},updatereparationticket(t){console.log(t);let e={_id:t};Z.put("diagnostics/updatereparationticket",e).then(()=>{this.$toast.success("Ticket Réparé!",{position:"top-right"}),location.reload()})},updateclotureticket(t){console.log(t);let e={_id:t};Z.put("diagnostics/updateclotureticket",e).then(()=>{this.$toast.success("Ticket cloturé et décharge reçu!",{position:"top-right"}),location.reload()})},updatedevisfactur(t){console.log(t);let e={_id:t};Z.put("tickets/updatedevisfactur",e).then(()=>{this.$toast.success("Devis Facturé!",{position:"top-right"}),location.reload()})},updatelivrerticket(t){let e={_id:t};Z.put("diagnostics/updatelivrerticket",e).then(()=>{this.$toast.success("Ticket livré sans décharge!",{position:"top-right"}),location.reload()})}}},Et=Rt,jt=(a("5ab5"),Object(l["a"])(Et,St,Bt,!1,null,null,null)),At=jt.exports,Tt=a("ac7c"),It=a("2b5d"),Ot=a("cd55"),Pt=a("49e2"),Lt=a("c865"),Dt=a("0393"),$t=a("0789"),zt=a("a722"),Mt=a("67b6"),Nt=a("43a6"),Ft=a("8654"),Ht=a("f665"),Gt=a("1e6c"),Yt=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h6",{staticClass:"page-title"},[t._v("Diagnosis the ticket:")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},"v-btn",s,!1),a),[t._v("Back")])]}}])})],1),e(V["a"],[e("div",{staticClass:"passenger",staticStyle:{display:"flex","justify-content":"center",width:"200vw",height:"50%"}},[e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO")]),e("br"),t._v(" "+t._s(t.ticket.numero)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("CLIENT")]),e("br"),t._v(" "+t._s(t.ticket.client_id["name"])+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("REVENDEUR")]),e("br"),t._v(" "+t._s(t.ticket.revendeur)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO FACTURE")]),e("br"),t._v(" "+t._s(t.ticket.numerofacture)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("DATE FACTURE")]),e("br"),t._v(" "+t._s(t._f("formatDate")(t.ticket.datefacture))+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket__bottom"})])]),e(Ht["a"],{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[e(S["a"]),e("br"),e("br"),e(Gt["a"],{attrs:{value:1}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(dt["a"],[e("div",[e(ct["b"],[e(S["a"]),e("br"),e("h4",[t._v("Select Tip:")]),e(dt["a"],[e(wt["a"],{model:{value:t.ispanneValid,callback:function(e){t.ispanneValid=e},expression:"ispanneValid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",rules:t.categoryRules,outlined:"",dense:""},model:{value:t.categorie,callback:function(e){t.categorie=e},expression:"categorie"}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Categorie")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Categorie"},model:{value:t.categorieadd,callback:function(e){t.categorieadd=e},expression:"categorieadd"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addcategorie()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.articles,"item-text":"name",label:"Article",rules:t.articleRules,outlined:"",dense:""},model:{value:t.article,callback:function(e){t.article=e},expression:"article"}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add article")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.articleaddgroupe,callback:function(e){t.articleaddgroupe=e},expression:"articleaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Article"},model:{value:t.articleaddname,callback:function(e){t.articleaddname=e},expression:"articleaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addarticle()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Commentaire"},model:{value:t.commentaire,callback:function(e){t.commentaire=e},expression:"commentaire"}})],1),e(zt["a"],{attrs:{"justify-center":""}},[e(ct["a"],[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:""}},"v-btn",s,!1),a),[t._v(" Add Panne "),e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Panne")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.panneaddgroupe,callback:function(e){t.panneaddgroupe=e},expression:"panneaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.articles,label:"Article","item-text":"name",outlined:"",dense:""},model:{value:t.panneaddarticle,callback:function(e){t.panneaddarticle=e},expression:"panneaddarticle"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Panne"},model:{value:t.panneaddname,callback:function(e){t.panneaddname=e},expression:"panneaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog3=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addpanne()}}},[t._v(" Save ")])],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{directives:[{name:"show",rawName:"v-show",value:t.categorie||t.article,expression:"categorie || article"}],attrs:{flat:""}},[e(ct["b"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],t._l(t.pannes,(function(a,s){return e(F["a"],{key:s,attrs:{cols:"12",sm:"4",md:"4"}},[e(Tt["a"],{staticClass:"animate__animated animate__bounce",attrs:{label:a.name,color:"green",value:a.name,required:!0,"hide-details":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)})),1)],1)],1)],1)],1)],1)],1)],1),e("br")],1)],1)])],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{attrs:{color:"primary",depressed:"",disabled:!t.ispanneValid},on:{click:function(e){t.step++}}},[t._v(" Next ")])],1)],1),e(S["a"]),e("br"),e("br"),e(Gt["a"],{attrs:{value:2}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e(_["a"]),e("h4",{staticClass:"info--text"},[e(_["a"],[t._v("mdi-hand-pointing-right")]),t._v(" Sélectionner les piéces de rechanges ")],1),e("br"),e("br"),t._l(t.form.piecequan,(function(a){return e(Dt["a"],{key:a},[e(Ot["a"],[e(Lt["a"],{scopedSlots:t._u([{key:"default",fn:function({open:s}){return[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"4"}},[e("b",[t._v("Reference :"+t._s(a.reference))])]),e(F["a"],{staticClass:"text--secondary",attrs:{cols:"8"}},[e($t["c"],[e(V["a"],{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"4"}},[s?e("span",{key:"0"},[t._v(" Please complete the form ")]):e("span",{key:"1"},[e("b",[t._v("Marque : "+t._s(a.marque))])])]),e(F["a"],{attrs:{cols:"4"}},[a.quantite>0?e(Ct["a"],{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" Disponible ("+t._s(a.quantite)+") ")]):e(Ct["a"],{staticClass:"ma-2",attrs:{color:"red","text-color":"white"}},[t._v(" Non Disponible ")])],1),e(F["a"],{attrs:{cols:"4"}},[e("div",{staticClass:"text-center"},[e(yt["a"],{attrs:{width:"900"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"blue lighten-2",dark:""}},"v-btn",s,!1),a),[t._v(" REQUEST STOCKS ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Demande Stocks ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Veuillez contactez l'acheteur : "),e("br"),e("br"),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[e(Ft["a"],{ref:"inputField",refInFor:!0,attrs:{outlined:"",label:"Produit",disabled:""},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"\n                                                            data.reference\n                                                          "}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.marquepiece,callback:function(e){t.marquepiece=e},expression:"marquepiece"}},[e(Ft["a"],{ref:"marque",refInFor:!0,attrs:{outlined:"",disabled:"",label:"Produit",value:a.marque},model:{value:a.marque,callback:function(e){t.$set(a,"marque",e)},expression:"data.marque"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(Ft["a"],{attrs:{label:"Quantité",placeholder:"Quantité",rules:t.quantiteRules,outlined:""},model:{value:t.quantitee,callback:function(e){t.quantitee=e},expression:"quantitee"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(It["a"],{attrs:{items:t.acheteursemails,label:"email","item-text":"email",rules:t.emailRules,outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1)],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.sendemaill()}}},[t._v(" Envoyer Mail ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1)])],1)],1)],1)],1)]}}],null,!0)}),e(Pt["a"],[e(V["a"],{staticClass:"mb-12"},[a.quantite>0?e(F["a"],{attrs:{cols:"12",md:"12"}},[e(wt["a"],{model:{value:t.valid1,callback:function(e){t.valid1=e},expression:"valid1"}},[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",placeholder:"Quantité",rules:[t=>t<=a.quantite||"quantite doit etre inferieur à la quantité disponible"]},model:{value:a.quantitedemandes,callback:function(e){t.$set(a,"quantitedemandes",e)},expression:"data.quantitedemandes"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",label:"Prix unitaire",placeholder:"Prix unit",disabled:""},model:{value:a.prixunitaire,callback:function(e){t.$set(a,"prixunitaire",e)},expression:"data.prixunitaire"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",label:"Produit",disabled:""},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"data.reference"}})],1),e("br")],1)],1)],1):t._e()],1)],1)],1)],1)})),e("br")],2),e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"==t.ticket.typeproduit,expression:"ticket.typeproduit == 'autre'"}]},[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v(" Ajouter des piéces de rechanges "),e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog4,callback:function(e){t.dialog4=e},expression:"dialog4"}},[e(wt["a"],{model:{value:t.valid2,callback:function(e){t.valid2=e},expression:"valid2"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add piéce de rechange")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"6"}},[e(Ft["a"],{attrs:{label:"Libellé",rules:t.champRules},model:{value:t.libelle,callback:function(e){t.libelle=e},expression:"libelle"}})],1),e(F["a"],{attrs:{cols:"6"}},[e(Ft["a"],{attrs:{label:"Référence",rules:t.champRules},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"6"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,"item-text":"nom","item-value":"_id",rules:t.champRules,"return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"6"}},[e(Ft["a"],{attrs:{label:"Prix unitaire",rules:t.champRules,type:"number",required:""},model:{value:t.prixunit,callback:function(e){t.prixunit=e},expression:"prixunit"}})],1),e(F["a"],{attrs:{cols:"6"}},[e(Ft["a"],{attrs:{rules:t.preRules,label:"Quantite",type:"number",required:""},model:{value:t.quantitepr,callback:function(e){t.quantitepr=e},expression:"quantitepr"}})],1),e(F["a"],{attrs:{cols:"6"}},[e(Ft["a"],{attrs:{rules:t.champRules,counter:15,label:"produit",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1)],1)],1),e("small",[t._v("*champs obligatoires")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog4=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"blue darken-1",text:"",disabled:0==t.valid2},on:{click:function(e){return t.addpr()}}},[t._v(" Add ")])],1)],1)],1)],1)],1),e("div",{attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("reference")]),e("th",[t._v("Quantité ")]),e("th",[t._v("Prixunit ")])])]),t._l(t.form1.piecequan,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(" "+t._s(a.newpr.produit)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(" "+t._s(a.newpr.prixunit)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(" "+t._s(a.newpr.quantite)+" ")])])}))],2)])],1)],1)],1)],1)],1),"en_attente_pr"==t.ticket.etat?e(ct["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e(b["a"],{attrs:{color:"primary",disable_d:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{staticStyle:{display:"none"},attrs:{color:"primary",depressed:"",id:"next",disabled:0==t.valid1},on:{click:function(e){t.step++}}},[t._v(" Next ")]),e(b["a"],{staticStyle:{display:"block"},attrs:{color:"primary",depressed:"",id:"enregistrerr"},on:{click:function(e){return t.adddiagnosticpr()}}},[t._v(" Add ")])],1):e(ct["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e(b["a"],{attrs:{color:"primary",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{staticStyle:{display:"block"},attrs:{color:"primary",depressed:"",id:"next",disabled:0==t.valid1},on:{click:function(e){t.step++,t.showonlyprselected()}}},[t._v(" Next ")]),e(b["a"],{staticStyle:{display:"none"},attrs:{color:"primary",depressed:"",id:"enregistrer"},on:{click:function(e){return t.adddiagnosticpr()}}},[t._v(" Add ")])],1),e(ct["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"==t.ticket.typeproduit,expression:"ticket.typeproduit == 'autre'"}]},[e(b["a"],{attrs:{color:"primary",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{staticStyle:{display:"block"},attrs:{color:"primary",depressed:"",id:"next",disabled:t.form1.piecequan.length>0==0},on:{click:function(e){t.step++}}},[t._v(" Next ")]),e(b["a"],{staticStyle:{display:"none"},attrs:{color:"primary",depressed:"",id:"enregistrer"},on:{click:function(e){return t.adddiagnosticpr()}}},[t._v(" Add ")])],1)],1),e(Gt["a"],{attrs:{value:3}},[e("div",{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v(" Etat Garantie "),e(dt["a"],{attrs:{fluid:"",p0:""}},[e(Nt["a"],{model:{value:t.etat_garantie,callback:function(e){t.etat_garantie=e},expression:"etat_garantie"}},[e(Mt["a"],{attrs:{label:"garantie",color:"blue",value:"garantie",id:"garantie"}}),e(Mt["a"],{attrs:{label:"non garantie",color:"blue",id:"nn garantie",value:"non garantie"}})],1)],1)],1)],1)],1)],1)],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"autre"==t.ticket.typeproduit,expression:"ticket.typeproduit == 'autre'"}]},[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v(" Etat Garantie "),e(dt["a"],{attrs:{fluid:"",p0:""}},[e(Nt["a"],{model:{value:t.etat_garantiee,callback:function(e){t.etat_garantiee=e},expression:"etat_garantiee"}},[e(Mt["a"],{attrs:{label:"garantie",color:"blue",value:"garantie",id:"garantiee"}}),e(Mt["a"],{attrs:{label:"non garantie",color:"blue",id:"nn garantiee",value:"non garantie"}})],1)],1)],1)],1)],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e("div",{staticStyle:{display:"none"},attrs:{id:"nextstep"}},[e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.step++}}},[t._v(" Next ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"nextstepp"}},[e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.step+=2}}},[t._v(" Next ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"nextstepp3"}},[e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.step+=3}}},[t._v(" Nextt3 ")])],1)],1)],1),e(Gt["a"],{attrs:{value:4}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e("div",{staticClass:"v-card__text invoiceBody"},[e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.name)+" "+t._s(t.ticket.prenom)+" ")]),e("address",[e("strong",[t._v("Consultant")]),t._v(" at "),e("a",{attrs:{href:"#"}},[t._v("Allspana")]),t._v(" "),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.email))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" "+t._s(t.ticket.telephone)),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" (012) 678-132-901 ")])])]),e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("  Maintenance price: "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Prix Maintenace"},model:{value:t.prixmain,callback:function(e){t.prixmain=e},expression:"prixmain"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("   Labor price: : "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Labor price:"},model:{value:t.prix_oeuvre,callback:function(e){t.prix_oeuvre=e},expression:"prix_oeuvre"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" Duration Preparation per day(s): "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Durée"},model:{value:t.duree,callback:function(e){t.duree=e},expression:"duree"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" last confirmation date: "),e(Ft["a"],{attrs:{outlined:"",type:"date",placeholder:"Date confirmation"},model:{value:t.date_confirmation,callback:function(e){t.date_confirmation=e},expression:"date_confirmation"}})],1)],1),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",{attrs:{id:"table1"}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",[t._l(t.prselected.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.marque))]),e("td",[t._v(" "+t._s(a.quantitedemandes)+" ")]),e("td",[t._v(t._s(a.prixunitaire)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.prixunitaire)*parseInt(a.quantitedemandes))+" dt ")])])})),t._l(t.oldiagnostic,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.produit))]),e("td",[t._v(" "+t._s(a.quantite)+" ")]),e("td",[t._v(t._s(a.prixunit)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.prixunit)*parseInt(a.quantite))+" dt ")])])}))],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("span",{attrs:{id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.addoffre()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Confirmer   ")])])])])],1)]),e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"==t.ticket.typeproduit,expression:"ticket.typeproduit == 'autre'"}]},[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.name)+" "+t._s(t.ticket.prenom)+" ")]),e("address",[e("strong",[t._v("Consultant")]),t._v(" at "),e("a",{attrs:{href:"#"}},[t._v("Allspana")]),t._v(" "),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.email))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" "+t._s(t.ticket.telephone)),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" (012) 678-132-901 ")])])]),e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("  Maintenance price: "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Prix Maintenace"},model:{value:t.prixmain,callback:function(e){t.prixmain=e},expression:"prixmain"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("   Labor price: : "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Labor price:"},model:{value:t.prix_oeuvre,callback:function(e){t.prix_oeuvre=e},expression:"prix_oeuvre"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" Duration Preparation per day(s): "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Durée"},model:{value:t.duree,callback:function(e){t.duree=e},expression:"duree"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" last confirmation date: "),e(Ft["a"],{attrs:{outlined:"",type:"date",placeholder:"Date confirmation"},model:{value:t.date_confirmation,callback:function(e){t.date_confirmation=e},expression:"date_confirmation"}})],1)],1),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",{attrs:{id:"table1"}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",t._l(t.form1.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.newpr.produit))]),e("td",[t._v(" "+t._s(a.newpr.quantite)+" ")]),e("td",[t._v(t._s(a.newpr.prixunit)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.newpr.prixunit)*parseInt(a.newpr.quantite))+" dt ")])])})),0)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("span",{attrs:{id:"val"}},[t._v(" "+t._s(t.totalPrice1)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.addoffretypeautre()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Confirmer   ")])])])])],1)])],1)])],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"])],1)],1),e(Gt["a"],{attrs:{value:5}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e("div",{staticClass:"v-card__text invoiceBody"},[e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"!=t.ticket.typeproduit,expression:"ticket.typeproduit != 'autre'"}]},[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.name)+" "+t._s(t.ticket.prenom)+" ")]),e("address",[e("strong",[t._v("Consultant")]),t._v(" at "),e("a",{attrs:{href:"#"}},[t._v("Allspana")]),t._v(" "),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.email))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" "+t._s(t.ticket.telephone)),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" (012) 678-132-901 ")])])]),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",{attrs:{id:"table1"}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",[t._l(t.prselected.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.marque))]),e("td",[t._v(" "+t._s(a.quantitedemandes)+" ")]),e("td",[t._v(t._s(a.prixunitaire)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.prixunitaire)*parseInt(a.quantitedemandes))+" dt ")])])})),t._l(t.oldiagnostic,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.produit))]),e("td",[t._v(" "+t._s(a.quantite)+" ")]),e("td",[t._v(t._s(a.prixunit)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.prixunit)*parseInt(a.quantite))+" dt ")])])}))],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("span",{attrs:{id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.adddiagnostic()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Confirmer   ")])])])])])]),e(dt["a"],{directives:[{name:"show",rawName:"v-show",value:"autre"==t.ticket.typeproduit,expression:"ticket.typeproduit == 'autre'"}],attrs:{id:"invoiceholder"}},[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.name)+" "+t._s(t.ticket.prenom)+" ")]),e("address",[e("strong",[t._v("Consultant")]),t._v(" at "),e("a",{attrs:{href:"#"}},[t._v("Allspana")]),t._v(" "),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.email))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" "+t._s(t.ticket.telephone)),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" (012) 678-132-901 ")])])]),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",{attrs:{id:"table1"}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",t._l(t.form1.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.newpr.produit))]),e("td",[t._v(" "+t._s(a.newpr.quantite)+" ")]),e("td",[t._v(t._s(a.newpr.prixunit)+" dt")]),e("td",[t._v(" "+t._s(parseInt(a.newpr.prixunit)*parseInt(a.newpr.quantite))+" dt ")])])})),0)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("span",{attrs:{id:"val"}},[t._v(" "+t._s(t.totalPrice1)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.adddiagnostictypeautre()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Confirmer   ")])]),t._v("   "),e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default primary",attrs:{type:"button"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)])])])])],1)])],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step-=2}}},[t._v(" Back ")]),e(S["a"])],1)],1)],1),e(H["a"])],1)])},Qt=[],Vt=a("6f42"),Wt=a.n(Vt),Jt=a("1157"),Ut=a.n(Jt),Zt={data(){return{ispanneValid:!1,valid:!1,valid1:!1,step:1,isFormValid:!1,emplacements:[],valid2:!1,libelle:"",reference:"",quantitepr:"",emplacement_id:"",produit:"",emailRules:[t=>!!t||"champ est obligatoire"],quantityRules:[t=>!!t||"pr is required",t=>t<=this.form.piecequan.pr||"pr must be less than emplacement"],preRules:[t=>!!t||"quantité est obligatoire",t=>t<=this.emplacement_id.capaciterestante||"quantité doit etre inferieur au emplacement "],prRules:[t=>!!t||"champ est obligatoire"],categoryRules:[t=>!!t||"champ est obligatoire"],articleRules:[t=>!!t||"champ est obligatoire"],commentaireRules:[t=>!!t||"champ est obligatoire"],champRules:[t=>!!t||"champ est obligatoire"],dialog:!1,prixmain:"",prix_oeuvre:"",duree:"",date_confirmation:"",diagnosticselected:[],prixpdt:"",referencepdtselect:"",etat_garantie:"",etat_garantiee:"",commentaire:"",garantie:"garantie",hors_garantie:"non garantie",acheteursemails:[],sendemail:{},piecederech:"",marquepiece:"",piecesderechanges:{},categorieadd:"",articleaddname:"",articleaddgroupe:"",panneaddname:"",panneaddgroupe:"",panneaddarticle:"",pr:"",quantitedemandes:"",quantitee:"",email:"",dialog1:!1,dialog2:!1,dialog3:!1,dialog4:!1,selected:[],selectedd:"",ticket:{},oldiagnostic:{},stepperOptions:{headers:[{title:"etape 1"},{title:"etape 2"},{title:"etape 3"}],prevText:"Previous",nextText:"Next"},categorie:"",name:"",article:"",categories:[],articles:[],articlesold:[],pannes:[],form:{piecequan:[]},form1:{piecequan:[]},listepr:{pr:[]},prselected:{piecequan:[]},diagnostic:{pr:[],ticket:"",panne:[],commentaire:""},pannesold:[],token:localStorage.getItem("token")}},computed:{totalPrice(){let t=0;for(let e of this.prselected.piecequan)t+=parseInt(e.prixunitaire)*parseInt(e.quantitedemandes);return t},totalPrice1(){let t=0;for(let e of this.form1.piecequan)t+=parseInt(e.newpr.prixunit)*parseInt(e.newpr.quantite);return t}},mounted:function(){Ut()("#js-licensing").hide()},watch:{etat_garantie:function(t){let e={title:"etape 4"};if("non garantie"==t){let t=this.stepperOptions.headers.includes(e,0);console.log(t),document.getElementById("nextstepp").style.display="none",document.getElementById("nextstep").style.display="block"}else document.getElementById("nextstepp").style.display="block",document.getElementById("nextstep").style.display="none",console.log("no")},etat_garantiee:function(t){let e={title:"etape 4"};if("non garantie"==t){let t=this.stepperOptions.headers.includes(e,0);console.log(t),document.getElementById("nextstepp").style.display="none",document.getElementById("nextstep").style.display="block",this.stepperOptions.headers.push(e)}else document.getElementById("nextstepp").style.display="block",document.getElementById("nextstep").style.display="none",console.log("no")},categorie:function(t){if(t){this.selected=[],this.articles=this.articlesold;let e=this.articles.filter(e=>e.groupe==t.name);this.articles=e,this.selected=[],this.pannes=this.pannesold;let a=this.pannes.filter(e=>e.groupe==t.name);this.pannes=a}},article:function(t){if(t){this.selected=[],this.pannes=this.pannesold;let e=this.pannes.filter(e=>e.article==t.name);this.pannes=e}}},created:function(){this.getticketById(),this.getcategories(),this.getarticles(),this.getpannes(),this.getpiecesderechanges(),this.getacheteurs(),this.getemplacements()},methods:{getemplacements(){Z.get("stocks/getemplacementsstockage").then(t=>{console.log(t.data),this.emplacements=t.data}).then(t=>console.log(t))},addpr(){let t={prixunit:this.prixunit,libelle:this.libelle,reference:this.reference,produit:this.produit,quantite:this.quantitepr,type:"piece de rechange",emplacement_id:this.emplacement_id},e={produit:this.reference,quantite:this.quantitepr,prixunit:this.prixunit};this.form1.piecequan.push({newpr:e}),this.listepr.pr.push({pr:t}),console.log(this.form1.piecequan),console.log(this.listepr.pr),this.dialog4=!1,this.$toast.success("Piece de rechange ajouté!",{position:"top-right"}),this.prixunit="",this.libelle="",this.reference="",this.produit="",this.quantitepr="",this.emplacement_id=""},printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},getdiagnostic(){Z.get("diagnostics/getdiagnosticsbyid/"+this.$route.params.id).then(t=>{this.oldiagnostic=t.data,console.log(this.oldiagnostic)}).then(t=>console.log(t))},addgarantiediag(){let t={_id:this.ticket._id,garantie:this.etat_garantie};Z.put("tickets/updategarantieticket",t).then(t=>{200===t.status&&(this.$toast.success("Ticket modifié!",{position:"top-right"}),this.$router.push("/tickets"))},t=>{this.error=t.response.data.error,console.log(this.error)})},sendemaill(){this.piecederech=this.$refs.inputField[0].value,this.marquepiece=this.$refs.marque[0].value,console.log(this.ticket._id);let t={email:this.email.email,quantite:this.quantitee,pr:this.piecederech,marque:this.marquepiece,token:this.token,ticket:this.ticket._id};Z.post("diagnostics/sendmail",t).then(t=>{200===t.status&&this.$toast.success("Mail envoyé!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog=!1,document.getElementById("enregistrer").style.display="block",document.getElementById("next").style.display="none"},t=>{console.log(t)})},getpannes(){Z.get("pannes/getpannes").then(t=>{this.pannes=t.data,this.pannesold=t.data}).then(t=>console.log(t))},getacheteurs(){Z.get("acheteurs/getacheteursemails").then(t=>{this.acheteursemails=t.data}).then(t=>console.log(t))},getpiecesderechanges(){Z.get("stocks/getpiecesderechanges/"+this.$route.params.id).then(t=>{console.log(t.data);t.data.forEach(t=>{this.form.piecequan.push({reference:t.reference,marque:t.marque,quantite:t.quantite,prixunitaire:t.prixunit,quantitedemandes:""})})}).then(t=>console.log(t))},getarticles(){Z.get("pannes/getarticles").then(t=>{this.articles=t.data,this.articlesold=t.data}).then(t=>console.log(t))},getcategories(){Z.get("pannes/getcategories").then(t=>{this.categories=t.data}).then(t=>console.log(t))},getticketById(){Z.get("tickets/getticketsbyid/"+this.$route.params.id).then(t=>{this.ticket=t.data}).then(t=>console.log(t))},getdiagnosticByticketId(){Z.get("diagnostics/getdiagnosticsbyid/"+this.$route.params.id).then(t=>{this.oldiagnostic=t.data}).then(t=>console.log(t))},addcategorie(){let t={name:this.categorieadd};Z.post("pannes/addcategorie",t).then(t=>{200===t.status&&(this.$toast.success("categorie ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog1=!1,this.categorieadd="",this.getcategories())},t=>{console.log(t)})},addarticle(){let t={name:this.articleaddname,groupe:this.articleaddgroupe.name};Z.post("pannes/addarticle",t).then(t=>{200===t.status&&(this.$toast.success("article ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog2=!1,this.articleaddname="",this.articleaddgroupe="",this.getarticles())},t=>{console.log(t)})},addpanne(){let t={name:this.panneaddname,groupe:this.panneaddgroupe.name,article:this.panneaddarticle.name};Z.post("pannes/addapanne",t).then(t=>{200===t.status&&(this.$toast.success("Panne ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog3=!1,this.panneaddname="",this.panneaddgroupe="",this.panneaddarticle="",this.getarticles())},t=>{console.log(t)})},addoffre(){const t=[];this.prselected.piecequan.forEach(e=>{let a={produit:e.reference,quantite:e.quantitedemandes,prixunit:e.prixunitaire};t.push({newpr:a})});let e={ticket:this.ticket._id,prixmain:this.prixmain,prix_oeuvre:this.prix_oeuvre,duree:this.duree,date_confirmation:this.date_confirmation,pr:t,client_id:this.ticket.client_id["_id"],panne:this.selected,commentaire:this.commentaire,article:this.article,categorie:this.categorie};console.log(e),Z.post("offres/addoffre",e).then(t=>{200===t.status&&(this.$toast.success("offre ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/diagnostics"))},t=>{console.log(t)})},addoffretypeautre(){const t=[];this.form1.piecequan.forEach(e=>{let a={produit:e.newpr.produit,quantite:e.newpr.quantite,prixunit:e.newpr.prixunit};t.push({newpr:a})});let e={prixunit:this.prixunit,libelle:this.libelle,reference:this.reference,produit:this.produit,quantite:this.quantitepr,type:"piece de rechange",emplacement_id:this.emplacement_id};console.log(this.listepr.pr),console.log(e);let a={ticket:this.ticket._id,prixmain:this.prixmain,prix_oeuvre:this.prix_oeuvre,duree:this.duree,date_confirmation:this.date_confirmation,pr:t,client_id:this.ticket.client_id["_id"],listeprs:this.listepr};Z.post("offres/addoffretypeautre",a).then(t=>{200===t.status&&(this.$toast.success("offre ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/diagnostics"))},t=>{console.log(t)})},adddiagnostic(){this.form.piecequan.forEach(t=>{let e={produit:t.reference,quantite:t.quantitedemandes,prixunit:t.prixunitaire};this.diagnostic.pr.push({newpr:e})}),this.diagnostic={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,article:this.article,categorie:this.categorie,piecesderechanges:this.diagnostic.pr,client_id:this.ticket.client_id["_id"]},Z.post("diagnostics/adddiagnostic",this.diagnostic).then(t=>{200===t.status&&(this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/diagnostics"))},t=>{console.log(t)}),this.$router.push("/diagnostics")},adddiagnostictypeautre(){this.form1.piecequan.forEach(t=>{let e=t.newpr;this.diagnostic.pr.push({newpr:e})}),console.log(this.diagnostic.pr),this.diagnostic={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,article:this.article,categorie:this.categorie,piecesderechanges:this.diagnostic.pr},Z.post("diagnostics/adddiagnostictypeautre",this.diagnostic).then(t=>{200===t.status&&this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{console.log(t)}),this.$router.push("/diagnostics"),location.reload()},adddiagnosticpr(){this.form.piecequan.forEach(t=>{if(""!=t.quantitedemandes){let e={produit:t.reference,quantite:t.quantitedemandes,prixunit:t.prixunitaire};this.diagnostic.pr.push({newpr:e})}else this.diagnostic.pr}),this.diagnostic={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,article:this.article,categorie:this.categorie,piecesderechanges:this.diagnostic.pr},Z.post("diagnostics/adddiagnosticpr",this.diagnostic).then(t=>{200===t.status&&this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{console.log(t)}),this.$router.push("/diagnostics"),location.reload()},showonlyprselected(){const t=[];this.form.piecequan.forEach(e=>{""!=e.quantitedemandes?(t.push({reference:e.reference,marque:e.marque,quantite:e.quantite,prixunitaire:e.prixunitaire,quantitedemandes:e.quantitedemandes}),this.prselected.piecequan=t,console.log(this.prselected)):console.log("quantite demande is not found")})}}},Xt=Zt,Kt=Object(l["a"])(Xt,Yt,Qt,!1,null,null,null),te=Kt.exports,ee=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h6",{staticClass:"page-title"},[t._v("Diagnosis the ticket:")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},"v-btn",s,!1),a),[t._v("Back")])]}}])})],1),e(V["a"],[e("div",{staticClass:"passenger",staticStyle:{display:"flex","justify-content":"center",width:"200vw",height:"50%"}},[e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO")]),e("br"),t._v(" "+t._s(t.ticket.numero)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("CLIENT")]),e("br"),t._v(" "+t._s(t.ticket.client_id["name"])+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("REVENDEUR")]),e("br"),t._v(" "+t._s(t.ticket.revendeur)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO FACTURE")]),e("br"),t._v(" "+t._s(t.ticket.numerofacture)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("DATE RECEPTION")]),e("br"),t._v(" "+t._s(t._f("formatDate")(t.ticket.datereception))+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("GARANTIE")]),e("br"),t._v(" "+t._s("O/N")+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket__bottom"})])]),e(Ht["a"],{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[e(S["a"]),e("br"),e("br"),e(Gt["a"],{attrs:{value:1}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(dt["a"],[e("div",[e(ct["b"],[e(S["a"]),e("br"),e("h4",[t._v("Select Tip:")]),e(dt["a"],[e(wt["a"],{model:{value:t.ispanneValid,callback:function(e){t.ispanneValid=e},expression:"ispanneValid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",rules:t.categoryRules,outlined:"",dense:""},model:{value:t.diagnosticselected.categorie_id["name"],callback:function(e){t.$set(t.diagnosticselected.categorie_id,"name",e)},expression:"\n                                diagnosticselected.categorie_id['name']\n                              "}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Categorie")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Categorie"},model:{value:t.categorieadd,callback:function(e){t.categorieadd=e},expression:"categorieadd"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addcategorie()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.articles,"item-text":"name",label:"Article",rules:t.articleRules,outlined:"",dense:""},model:{value:t.diagnosticselected.article_id["name"],callback:function(e){t.$set(t.diagnosticselected.article_id,"name",e)},expression:"diagnosticselected.article_id['name']"}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add article")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.articleaddgroupe,callback:function(e){t.articleaddgroupe=e},expression:"articleaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Article"},model:{value:t.articleaddname,callback:function(e){t.articleaddname=e},expression:"articleaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addarticle()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Commentaire"},model:{value:t.diagnosticselected.commentaire,callback:function(e){t.$set(t.diagnosticselected,"commentaire",e)},expression:"diagnosticselected.commentaire"}})],1),e(zt["a"],{attrs:{"justify-center":""}},[e(ct["a"],[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:""}},"v-btn",s,!1),a),[t._v(" Add Panne "),e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Panne")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",rules:t.commentaireRules,dense:""},model:{value:t.panneaddgroupe,callback:function(e){t.panneaddgroupe=e},expression:"panneaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.articles,label:"Article","item-text":"name",outlined:"",dense:""},model:{value:t.panneaddarticle,callback:function(e){t.panneaddarticle=e},expression:"panneaddarticle"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Panne"},model:{value:t.panneaddname,callback:function(e){t.panneaddname=e},expression:"panneaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog3=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addpanne()}}},[t._v(" Save ")])],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{attrs:{flat:""}},[e(ct["b"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],t._l(t.diagnosticselected.pannes,(function(a,s){return e(F["a"],{key:s,attrs:{cols:"12",sm:"4",md:"4"}},[e(Tt["a"],{staticClass:"animate__animated animate__bounce",attrs:{label:a,color:"green",value:a,checked:!0},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)})),1)],1)],1)],1)],1)],1)],1)],1),e("br")],1)],1)])],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{attrs:{color:"primary",depressed:"",disabled:!t.ispanneValid},on:{click:function(e){t.step++}}},[t._v(" Next ")])],1)],1),e(S["a"]),e("br"),e("br"),e(Gt["a"],{attrs:{value:2}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[e(_["a"],[t._v("mdi-hand-pointing-right")]),t._v(" Sélectionner les piéces de rechanges ")],1),e("br"),e("br"),t._l(t.form.piecequan,(function(a){return e(Dt["a"],{key:a},[e(Ot["a"],[e(Lt["a"],{scopedSlots:t._u([{key:"default",fn:function({open:s}){return[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"4"}},[e("b",[t._v("Reference :"+t._s(a.reference))])]),e(F["a"],{staticClass:"text--secondary",attrs:{cols:"8"}},[e($t["c"],[e(V["a"],{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"4"}},[s?e("span",{key:"0"},[t._v(" Please complete the form ")]):e("span",{key:"1"},[e("b",[t._v("Marque : "+t._s(a.marque))])])]),e(F["a"],{attrs:{cols:"4"}},[a.quantite>0?e(Ct["a"],{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" Disponible ("+t._s(a.quantite)+") ")]):e(Ct["a"],{staticClass:"ma-2",attrs:{color:"red","text-color":"white"}},[t._v(" Non Disponible ")])],1),e(F["a"],{attrs:{cols:"4"}},[e("div",{staticClass:"text-center"},[e(yt["a"],{attrs:{width:"900"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"blue lighten-2",dark:""}},"v-btn",s,!1),a),[t._v(" REQUEST STOCKS ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Demande Stocks ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Veuillez contactez l'acheteur : "),e("br"),e("br"),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[e(Ft["a"],{ref:"inputField",refInFor:!0,attrs:{outlined:"",label:"Produit",disabled:""},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"\n                                                          data.reference\n                                                        "}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.marquepiece,callback:function(e){t.marquepiece=e},expression:"marquepiece"}},[e(Ft["a"],{ref:"marque",refInFor:!0,attrs:{outlined:"",disabled:"",label:"Produit",value:a.marque},model:{value:a.marque,callback:function(e){t.$set(a,"marque",e)},expression:"data.marque"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(Ft["a"],{attrs:{label:"Quantité",placeholder:"Quantité",rules:t.quantityRules,outlined:""},model:{value:t.quantitee,callback:function(e){t.quantitee=e},expression:"quantitee"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(It["a"],{attrs:{items:t.acheteursemails,label:"email","item-text":"email",rules:t.emailRules,outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1)],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.sendemaill()}}},[t._v(" Envoyer Mail ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1)])],1)],1)],1)],1)]}}],null,!0)}),e(Pt["a"],[e(V["a"],{staticClass:"mb-12"},[a.quantite>0?e(F["a"],{attrs:{cols:"12",md:"12"}},[e(wt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",placeholder:"Quantité",rules:[t=>t<=a.quantite||"quantite doit etre inferieur à la quantité disponible"]},model:{value:a.quantitedemandes,callback:function(e){t.$set(a,"quantitedemandes",e)},expression:"data.quantitedemandes"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",label:"Prix unitaire",placeholder:"Prix unit",disabled:""},model:{value:a.prixunitaire,callback:function(e){t.$set(a,"prixunitaire",e)},expression:"data.prixunitaire"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",label:"Produit",disabled:""},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"data.reference"}})],1),e("br")],1)],1)],1):t._e()],1)],1)],1)],1)})),e("br")],2)],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{color:"primary",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e(b["a"],{staticStyle:{display:"block"},attrs:{color:"primary",depressed:"",id:"next"},on:{click:function(e){t.step++,t.showonlyprselected()}}},[t._v(" Next ")]),e(b["a"],{staticStyle:{display:"none"},attrs:{color:"primary",depressed:"",id:"enregistrer"},on:{click:function(e){return t.adddiagnosticpr()}}},[t._v(" Add ")])],1)],1),e(Gt["a"],{attrs:{value:3}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v(" Etat Garantie "),e(dt["a"],{attrs:{fluid:"",p0:""}},[e(Nt["a"],{model:{value:t.etat_garantie,callback:function(e){t.etat_garantie=e},expression:"etat_garantie"}},[e(Mt["a"],{attrs:{label:"garantie",color:"blue",value:"garantie",id:"garantie"}}),e(Mt["a"],{attrs:{label:"non garantie",color:"blue",id:"nn garantie",value:"non garantie"}})],1)],1)],1)],1)],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"]),e("div",{staticStyle:{display:"none"},attrs:{id:"nextstep4"}},[e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.step++}}},[t._v(" Next ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"nextstep5"}},[e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.step+=2}}},[t._v(" Next ")])],1)],1)],1),e(Gt["a"],{attrs:{value:4}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e("div",{staticClass:"v-card__text invoiceBody"},[e(dt["a"],[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.client_id["name"])+" "+t._s(t.ticket.client_id["prenom"])+" ")]),e("address",[e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.client_id["email"]))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("Telephone:")]),t._v(" "+t._s(t.ticket.client_id["telephone"])),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("adresse:")]),t._v(" "+t._s(t.ticket.client_id["adresse"])+" ")])])]),e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("  Maintenance price: "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Prix Maintenace"},model:{value:t.prixmain,callback:function(e){t.prixmain=e},expression:"prixmain"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v("   Labor price: : "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Labor price:"},model:{value:t.prix_oeuvre,callback:function(e){t.prix_oeuvre=e},expression:"prix_oeuvre"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" Duration Preparation per day(s): "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Durée"},model:{value:t.duree,callback:function(e){t.duree=e},expression:"duree"}})],1),e(F["a"],{attrs:{cols:"12",sm:"3",md:"3"}},[t._v(" last confirmation date: "),e(Ft["a"],{attrs:{outlined:"",type:"date",placeholder:"Date confirmation"},model:{value:t.date_confirmation,callback:function(e){t.date_confirmation=e},expression:"date_confirmation"}})],1)],1),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",[t._l(t.prselected.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.reference))]),e("td",[t._v(" "+t._s(a.quantitedemandes)+" ")]),e("td",[t._v(t._s(a.prixunitaire)+" dt")]),e("td",[t._v(" "+t._s(a.prixunitaire*a.quantite)+" dt ")])])})),t._l(t.diagnosticselected.piecesderechanges,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.produit))]),e("td",[t._v(" "+t._s(a.quantite)+" ")]),e("td",[t._v(t._s(a.prixunit)+" dt")]),e("td",[t._v(" "+t._s(a.prixunit*a.quantite)+" dt ")])])}))],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",{attrs:{id:"val"}},[t._v(t._s(t.totalPrice)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.addoffre()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Confirmer   ")])])])])],1)])],1)])],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step--}}},[t._v(" Back ")]),e(S["a"])],1)],1),e(Gt["a"],{attrs:{value:5}},[e("div",[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e("div",{staticClass:"v-card__text invoiceBody"},[e(dt["a"],[e("form",[e("div",{staticClass:"row justify-space-between"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticClass:"invoiceLogo rounded",staticStyle:{width:"65px"},attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"col-md-4 col-12"},[e("h4",{staticClass:"text-left"},[e("span",{staticClass:"greyBold--text font-weight-bold fs-base"},[t._v("#"+t._s(t.ticket.numero)+" ")]),e("span",{staticClass:"greyBold--text fs-base"},[t._v("/ "+t._s(t._f("formatDate")(t.ticket.datereception)))])]),e("div",{staticClass:"text-left fs-base greyBold--text"})])]),e("div",{staticClass:"row mb-5 greyBold--text"},[e("div",{staticClass:"col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Entreprise")]),e("h5",{staticClass:"mt-5"},[t._v("client")]),e("address",[e("br"),t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Bin 'Arus"),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v("email@example.com")]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("phone:")]),t._v(" +216 70 029 400"),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("fax:")]),t._v(" +216 70 029 400 ")])]),e("div",{staticClass:"text-right col col-6"},[e("h4",{staticClass:"ma-0"},[t._v("Client Information")]),e("h6",{staticClass:"client-name mt-5"},[t._v(" "+t._s(t.ticket.client_id["name"])+" "+t._s(t.ticket.client_id["prenom"])+" ")]),e("address",[e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.client_id["email"]))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("Telephone:")]),t._v(" "+t._s(t.ticket.client_id["telephone"])),e("br"),e("abbr",{attrs:{title:"Work Fax"}},[t._v("adresse:")]),t._v(" "+t._s(t.ticket.client_id["adresse"])+" ")])])]),e("h5",{staticClass:"info--text"},[t._v(" Spare parts list ")]),e("div",{staticClass:"v-data-table theme--light"},[e("div",{staticClass:"v-data-table__wrapper"},[e("table",[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Prix unitaire")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",[t._l(t.prselected.piecequan,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.reference))]),e("td",[t._v(" "+t._s(a.quantitedemandes)+" ")]),e("td",[t._v(t._s(a.prixunitaire)+" dt")]),e("td",[t._v(" "+t._s(a.prixunitaire*a.quantite)+" dt ")])])})),t._l(t.diagnosticselected.piecesderechanges,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.produit))]),e("td",[t._v(" "+t._s(a.quantite)+" ")]),e("td",[t._v(t._s(a.prixunit)+" dt")]),e("td",[t._v(" "+t._s(a.prixunit*a.quantite)+" dt ")])])}))],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-12"}),e("div",{staticClass:"col-md-4 col-12"},[e("div",{staticClass:"row text-right justify-end"},[e("div",{staticClass:"col col-6"}),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",[t._v("Total")])])]),e("div",{staticClass:"col col-3"},[e("p",{staticClass:"ma-0"},[e("strong",{attrs:{id:"val"}},[t._v(t._s(t.totalPrice)+" dt")])])])])])]),e("div",{staticClass:"v-card__actions mt-5"},[e("div",{staticClass:"row no-gutters justify-end"},[e("button",{staticClass:"button-shadow v-btn v-btn--is-elevated v-btn--has-bg theme--light v-size--default success",attrs:{type:"button"},on:{click:function(e){return t.adddiagnostic()}}},[e("span",{staticClass:"v-btn__content"},[e("i",{staticClass:"v-icon notranslate mr-2 mdi mdi-arrow-right theme--light",attrs:{"aria-hidden":"true"}}),t._v(" Add Devis   ")])])])])])])],1)])],1)],1)],1)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",disabled:1===t.step},on:{click:function(e){t.step-=2}}},[t._v(" Back ")]),e(S["a"])],1)],1)],1),e(H["a"])],1)])},ae=[],se={data(){return{ispanneValid:!1,valid:!1,step:1,isFormValid:!1,checked:!0,emailRules:[t=>!!t||"champ est obligatoire"],quantityRules:[t=>!!t||"champ est obligatoire"],categoryRules:[t=>!!t||"champ est obligatoire"],articleRules:[t=>!!t||"champ est obligatoire"],commentaireRules:[t=>!!t||"champ est obligatoire"],oldiagnostic:{},dialog:!1,prixmain:"",prix_oeuvre:"",duree:"",date_confirmation:"",prselected:{piecequan:[]},diagnosticselected:[],prixpdt:"",referencepdtselect:"",etat_garantie:"",commentaire:"",garantie:"garantie",hors_garantie:"non garantie",acheteursemails:[],sendemail:{},piecederech:"",marquepiece:"",piecesderechanges:{},categorieadd:"",articleaddname:"",articleaddgroupe:"",panneaddname:"",panneaddgroupe:"",panneaddarticle:"",quantite:"",quantitedemandes:"",quantitee:"",email:"",dialog1:!1,dialog2:!1,dialog3:!1,selected:[],selectedd:"",ticket:{},stepperOptions:{headers:[{title:"etape 1"},{title:"etape 2"},{title:"etape 3"}],prevText:"Previous",nextText:"Next"},categorie:"",name:"",article:"",categories:[],articles:[],articlesold:[],pannes:[],form:{piecequan:[]},diagnostic:{pr:[],ticket:"",panne:[],commentaire:""},pannesold:[],token:localStorage.getItem("token")}},computed:{totalPrice(){let t=0;for(let e of this.prselected.piecequan)t+=parseInt(e.prixunitaire)*parseInt(e.quantitedemandes);return t},totalPrice1(){let t=0;for(let e of this.form1.piecequan)t+=parseInt(e.newpr.prixunit)*parseInt(e.newpr.quantite);return t}},mounted:function(){Ut()("#js-licensing").hide()},watch:{etat_garantie:function(t){let e={title:"etape 4"};if("non garantie"==t){let t=this.stepperOptions.headers.includes(e,0);console.log(t),document.getElementById("nextstep4").style.display="block",document.getElementById("nextstep5").style.display="none"}else document.getElementById("nextstep5").style.display="block",document.getElementById("nextstep4").style.display="none",console.log("no")},categorie:function(t){if(t){this.selected=[],this.articles=this.articlesold;let e=this.articles.filter(e=>e.groupe==t.name);this.articles=e,this.selected=[],this.pannes=this.pannesold;let a=this.pannes.filter(e=>e.groupe==t.name);this.pannes=a}},article:function(t){if(t){this.selected=[],this.pannes=this.pannesold;let e=this.pannes.filter(e=>e.article==t.name);this.pannes=e}}},created:function(){this.getticketById(),this.getcategories(),this.getarticles(),this.getpannes(),this.getpiecesderechanges(),this.getacheteurs(),this.getdiagnostic(),this.getdiagnosticc(),this.getdiagnosticbyticket()},methods:{getdiagnosticc(){Z.get("diagnostics/getdiagnosticsbyid/"+this.$route.params.id).then(t=>{this.oldiagnostic=t.data,console.log(this.oldiagnostic)}).then(t=>console.log(t))},getdiagnostic(){Z.get("diagnostics/getdiagnosticsbyticket/"+this.$route.params.id).then(t=>{this.diagnosticselected=t.data}).then(t=>console.log(t))},addgarantiediag(){let t={_id:this.ticket._id,garantie:this.etat_garantie};Z.put("tickets/updategarantieticket",t).then(t=>{200===t.status&&(this.$toast.success("Ticket modifié!",{position:"top-right"}),this.$router.push("/tickets"))},t=>{this.error=t.response.data.error,console.log(this.error)})},sendemaill(){this.piecederech=this.$refs.inputField[0].value,this.marquepiece=this.$refs.marque[0].value;let t={email:this.email.email,quantite:this.quantitee,pr:this.piecederech,marque:this.marquepiece,token:this.token,ticket:this.ticket._id};Z.post("diagnostics/sendmail",t).then(t=>{200===t.status&&this.$toast.success("Mail envoyé!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog=!1,document.getElementById("enregistrer").style.display="block",document.getElementById("next").style.display="none"},t=>{console.log(t)})},getpannes(){Z.get("pannes/getpannes").then(t=>{this.pannes=t.data,this.pannesold=t.data}).then(t=>console.log(t))},getacheteurs(){Z.get("acheteurs/getacheteursemails").then(t=>{this.acheteursemails=t.data}).then(t=>console.log(t))},getpiecesderechanges(){Z.get("stocks/getpiecesderechanges/"+this.$route.params.id).then(t=>{t.data.forEach(t=>{this.form.piecequan.push({reference:t.reference,marque:t.marque,quantite:t.quantite,prixunitaire:t.prixunit,quantitedemandes:""})})}).then(t=>console.log(t))},getarticles(){Z.get("pannes/getarticles").then(t=>{this.articles=t.data,this.articlesold=t.data}).then(t=>console.log(t))},getcategories(){Z.get("pannes/getcategories").then(t=>{this.categories=t.data}).then(t=>console.log(t))},getticketById(){Z.get("tickets/getticketsbyid/"+this.$route.params.id).then(t=>{this.ticket=t.data}).then(t=>console.log(t))},addcategorie(){let t={name:this.categorieadd};Z.post("pannes/addcategorie",t).then(t=>{200===t.status&&(this.$toast.success("categorie ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog1=!1,this.categorieadd="",this.getcategories())},t=>{console.log(t)})},addarticle(){let t={name:this.articleaddname,groupe:this.articleaddgroupe.name};Z.post("pannes/addarticle",t).then(t=>{200===t.status&&(this.$toast.success("article ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog2=!1,this.articleaddname="",this.articleaddgroupe="",this.getarticles())},t=>{console.log(t)})},addpanne(){let t={name:this.panneaddname,groupe:this.panneaddgroupe.name,article:this.panneaddarticle.name};Z.post("pannes/addapanne",t).then(t=>{200===t.status&&(this.$toast.success("Panne ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog3=!1,this.panneaddname="",this.panneaddgroupe="",this.panneaddarticle="",this.getarticles())},t=>{console.log(t)})},addoffre(){console.log(this.prselected);const t=[];this.prselected.piecequan.forEach(e=>{let a={produit:e.reference,quantite:e.quantitedemandes,prixunit:e.prixunitaire};t.push({newpr:a})}),this.diagnosticselected.piecesderechanges.forEach(e=>{let a={produit:e.produit,quantite:e.quantite,prixunit:e.prixunit};t.push({newpr:a})});let e={ticket:this.ticket._id,prixmain:this.prixmain,prix_oeuvre:this.prix_oeuvre,duree:this.duree,date_confirmation:this.date_confirmation,pr:t,client_id:this.ticket.client_id["_id"]};Z.post("offres/addoffre",e).then(t=>{200===t.status&&(this.$toast.success("offre ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.go(-1))},t=>{console.log(t)})},adddiagnostic(){this.form.piecequan.forEach(t=>{let e={produit:t.reference,quantite:t.quantitedemandes,prixunit:t.prixunitaire};this.diagnostic.pr.push({newpr:e})}),this.diagnostic={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,piecesderechanges:this.diagnostic.pr},Z.post("diagnostics/adddiagnostic",this.diagnostic).then(t=>{200===t.status&&(this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.go(-1))},t=>{console.log(t)})},showonlyprselected(){const t=[];this.form.piecequan.forEach(e=>{""!=e.quantitedemandes?(t.push({reference:e.reference,marque:e.marque,quantite:e.quantite,prixunitaire:e.prixunitaire,quantitedemandes:e.quantitedemandes}),this.prselected.piecequan=t):console.log("quantite demande is not found")})},adddiagnosticpr(){this.form.piecequan.forEach(t=>{let e={produit:t.reference,quantite:t.quantitedemandes,prixunit:t.prixunitaire};this.diagnostic.pr.push({newpr:e})}),this.diagnostic={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,piecesderechanges:this.diagnostic.pr},Z.post("diagnostics/adddiagnosticpr",this.diagnostic).then(t=>{200===t.status&&this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{console.log(t)}),this.$router.go(-1)}}},ie=se,re=Object(l["a"])(ie,ee,ae,!1,null,null,null),ne=re.exports,oe=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Tickets Diagnostics")]),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste of tickets")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-0"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Numero")]),e("th",{staticClass:"text-left"},[t._v("Revendeur")]),e("th",{staticClass:"text-left"},[t._v("garantie")]),e("th",{staticClass:"text-left"},[t._v("statut")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.tickets,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.numero))]),e("td",[t._v(t._s(a.revendeur))]),"garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" garantie ")])],1):"nn garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"error"}},[t._v(" non garantie ")])],1):e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente ")])],1),"réparation en cours"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},"v-chip",s,!1),a),[t._v(" réparation en cours ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous terminé la réparation ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la réparation "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatereparationticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):"en cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"secondary"}},[t._v(" En cours de diagnostic ")])],1):t._e(),"en_attente_pr"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{color:"error"}},[t._v(" En attente PR ")])],1):t._e(),"PRreçu"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{color:"success"}},[t._v(" PR Reçu ")])],1):"ouverte"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" Ouverte ")])],1):"devis_en_attente_accord_reception_client"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord réception client ")])],1):"diagnostic_en_cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" diagnostic en cours ")])],1):"devis_attente_accord_client_final"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord client final ")])],1):t._e(),"en attente de facturation"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},"v-chip",s,!1),a),[t._v(" en attente de facturation ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous facturé le devis ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" êtes vous sure ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatedevisfactur(a._id)}}},[t._v(" Oui ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):"cloturesansreponse"===a.etat||"refusparréception"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"clôturé et décharge recu"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" clôturé et décharge recu ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous livré sans décharge ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Livré sans décharge ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatelivrerticket(a._id)}}},[t._v(" Livrer ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):t._e(),"réparation terminé"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" réparation terminé ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous cloturé ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la cloture ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updateclotureticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1):t._e(),"livré sans décharge"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Livré sans décharge ")])],1):"en_attente_pr"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente PR ")])],1):t._e(),e("td",["clôturé et décharge recu"==a.etat||"cloturesansreponse"==a.etat||"refusparréception"==a.etat||"livré sans décharge"==a.etat||"en attente de facturation"==a.etat||"devis_attente_accord_client_final"==a.etat||"devis_en_attente_accord_reception_client"==a.etat||"réparation en cours"==a.etat||"réparation terminé"==a.etat||"en cours"==a.etat||"facturé"==a.etat?e("router-link",{attrs:{to:{}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"green",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1):"en_attente_pr"==a.etat||"PRreçu"==a.etat?e("router-link",{attrs:{to:{name:"viewdiagnosticenattentepr",params:{id:a._id}}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"red",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1):e("router-link",{attrs:{to:{name:"viewticketdiagnostic",params:{id:a._id}}}},[e(b["a"],{staticClass:"ma-9",attrs:{color:"blue",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench ")])],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},le=[],ce={data(){return{tickets:[]}},computed:{searchFunction(){return this.tickets.filter(t=>t.numero.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getticketss()},methods:{getticketss(){let t=JSON.parse(window.localStorage.getItem("userData")),e=t[0]["_id"];Z.get("tickets/gettickettechniciens/"+e).then(t=>{this.tickets=t.data}).then(t=>console.log(t))},updatereparationticket(t){console.log(t);let e={_id:t};Z.put("diagnostics/updatereparationticket",e).then(()=>{this.$toast.success("Ticket Réparé!",{position:"top-right"}),location.reload()})},updatedevisfactur(t){console.log(t);let e={_id:t};Z.put("tickets/updatedevisfactur",e).then(()=>{this.$toast.success("Devis Facturé!",{position:"top-right"}),location.reload()})},updateclotureticket(t){console.log(t);let e={_id:t};Z.put("diagnostics/updateclotureticket",e).then(()=>{this.$toast.success("Ticket cloturé et décharge reçu!",{position:"top-right"}),location.reload()})},updatelivrerticket(t){let e={_id:t};Z.put("diagnostics/updatelivrerticket",e).then(()=>{this.$toast.success("Ticket livré sans décharge!",{position:"top-right"}),location.reload()})}}},de=ce,ue=(a("8660"),Object(l["a"])(de,oe,le,!1,null,null,null)),pe=ue.exports,me=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h6",{staticClass:"page-title"},[t._v("Diagnosis the ticket:")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/diagnostics"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticClass:"passenger",staticStyle:{display:"flex","justify-content":"center",width:"200vw",height:"50%"}},[e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO")]),e("br"),t._v(" "+t._s(t.ticket.numero)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("CLIENT")]),e("br"),t._v(" "+t._s(t.ticket.prenom)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("REVENDEUR")]),e("br"),t._v(" "+t._s(t.ticket.revendeur)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("NUMERO FACTURE")]),e("br"),t._v(" "+t._s(t.ticket.numerofacture)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("DATE FACTURE")]),e("br"),t._v(" "+t._s(t._f("formatDate")(t.ticket.datefacture))+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket__bottom"})])]),e("stepper",{attrs:{options:t.stepperOptions}},[e("div",{attrs:{slot:"step-1"},slot:"step-1"},[e("h4",[t._v("Select Tip:")]),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.categorie,callback:function(e){t.categorie=e},expression:"categorie"}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Categorie")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Categorie"},model:{value:t.categorieadd,callback:function(e){t.categorieadd=e},expression:"categorieadd"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addcategorie()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(V["a"],[e(F["a"],{attrs:{cols:"10"}},[e(It["a"],{attrs:{items:t.articles,"item-text":"name",label:"Article",outlined:"",dense:""},model:{value:t.article,callback:function(e){t.article=e},expression:"article"}})],1),e(F["a"],{attrs:{cols:"2"}},[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:"",small:"",fab:""}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add article")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.articleaddgroupe,callback:function(e){t.articleaddgroupe=e},expression:"articleaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Article"},model:{value:t.articleaddname,callback:function(e){t.articleaddname=e},expression:"articleaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addarticle()}}},[t._v(" Save ")])],1)],1)],1),e(b["a"],t._g(t._b({staticStyle:{"margin-left":"10px"},attrs:{color:"red",dark:"",small:"",fab:""}},"v-btn",t.attrs,!1),t.on),[e(_["a"],[t._v("mdi-cancel")])],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Commentaire"},model:{value:t.commentaire,callback:function(e){t.commentaire=e},expression:"commentaire"}})],1),e(zt["a"],{attrs:{"justify-center":""}},[e(ct["a"],[e(yt["a"],{staticStyle:{float:"right"},attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{color:"info",dark:""}},"v-btn",s,!1),a),[t._v(" Add Panne "),e(_["a"],[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(lt["a"],[e(ct["c"],[e("span",{staticClass:"text-h5"},[t._v("Add Panne")])]),e(ct["b"],[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.categories,label:"Categorie","item-text":"name",outlined:"",dense:""},model:{value:t.panneaddgroupe,callback:function(e){t.panneaddgroupe=e},expression:"panneaddgroupe"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(It["a"],{attrs:{items:t.articles,label:"Article","item-text":"name",outlined:"",dense:""},model:{value:t.panneaddarticle,callback:function(e){t.panneaddarticle=e},expression:"panneaddarticle"}})],1),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Panne"},model:{value:t.panneaddname,callback:function(e){t.panneaddname=e},expression:"panneaddname"}})],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog3=!1}}},[t._v(" Close ")]),e(b["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.addpanne()}}},[t._v(" Save ")])],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{directives:[{name:"show",rawName:"v-show",value:t.categorie||t.article,expression:"categorie || article"}],attrs:{flat:""}},[e(ct["b"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],t._l(t.pannes,(function(a,s){return e(F["a"],{key:s,attrs:{cols:"12",sm:"4",md:"4"}},[e(Tt["a"],{staticClass:"animate__animated animate__bounce",attrs:{label:a.name,color:"green",value:a.name,"hide-details":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)})),1)],1)],1)],1)],1)],1)],1),e("br")],1),e("div",{attrs:{slot:"step-2"},slot:"step-2"},[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[e(_["a"],[t._v("mdi-hand-pointing-right")]),t._v(" Sélectionner les piéces de rechanges ")],1),e("br"),e("br"),t._l(t.piecesderechanges,(function(a,s){return e(Dt["a"],{key:s},[e(Ot["a"],[e(Lt["a"],{scopedSlots:t._u([{key:"default",fn:function({open:s}){return[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"4"}},[e("b",[t._v("Reference :"+t._s(a.reference))])]),e(F["a"],{staticClass:"text--secondary",attrs:{cols:"8"}},[e($t["c"],[e(V["a"],{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"6"}},[s?e("span",{key:"0"},[t._v(" Please complete the form ")]):e("span",{key:"1"},[e("b",[t._v("Marque : "+t._s(a.marque))])])]),e(F["a"],{attrs:{cols:"6"}},[a.quantite>0?e(Ct["a"],{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v(" Disponible ("+t._s(a.quantite)+") ")]):e(Ct["a"],{staticClass:"ma-2",attrs:{color:"red","text-color":"white"}},[t._v(" Non Disponible ")])],1)],1)],1)],1)],1)]}}],null,!0)}),e(Pt["a"],[e(V["a"],{staticClass:"mb-12"},[a.quantite>0?e(F["a"],{attrs:{cols:"12",md:"12"}},[e(wt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{attrs:{outlined:"",placeholder:"Quantité"},model:{value:t.quantite,callback:function(e){t.quantite=e},expression:"quantite"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{ref:"prixpdt",refInFor:!0,attrs:{outlined:"",label:"Prix unitaire",placeholder:"Prix unit"},model:{value:a.prixunit,callback:function(e){t.$set(a,"prixunit",e)},expression:"piece.prixunit"}})],1),e(F["a"],{attrs:{cols:"12",sm:"4",md:"4"}},[e(Ft["a"],{ref:"referencepdt",refInFor:!0,attrs:{outlined:"",label:"Produit"},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"piece.reference"}})],1),e("br"),e(F["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info"},on:{click:function(e){return t.adddiagnostic()}}},[t._v(" Enregister ")])],1)],1)],1)],1):e(F["a"],{attrs:{cols:"12",md:"12"}},[e(wt["a"],[t._v(" Veuillez contactez l'acheteur : "),e("br"),e("br"),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.piecederech,callback:function(e){t.piecederech=e},expression:"piecederech"}},[e(Ft["a"],{ref:"inputField",refInFor:!0,attrs:{outlined:"",label:"Produit"},model:{value:a.reference,callback:function(e){t.$set(a,"reference",e)},expression:"piece.reference"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"},model:{value:t.marquepiece,callback:function(e){t.marquepiece=e},expression:"marquepiece"}},[e(Ft["a"],{ref:"marque",refInFor:!0,attrs:{outlined:"",label:"Produit"},model:{value:a.marque,callback:function(e){t.$set(a,"marque",e)},expression:"piece.marque"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(Ft["a"],{attrs:{label:"Quantité",placeholder:"Quantité",outlined:""},model:{value:t.quantitee,callback:function(e){t.quantitee=e},expression:"quantitee"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(It["a"],{attrs:{items:t.acheteursemails,label:"email","item-text":"email",outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info"},on:{click:function(e){return t.sendemaill()}}},[t._v(" Envoyer Mail ")])],1)],1)],1)],1)],1)],1)})),e("br")],2)],1)],1)],1)],1),e("div",{attrs:{slot:"step-3"},slot:"step-3"},[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v(" Etat Garantie "),e(dt["a"],{attrs:{fluid:"",p0:""}},[e(Nt["a"],{model:{value:t.etat_garantie,callback:function(e){t.etat_garantie=e},expression:"etat_garantie"}},[e(Mt["a"],{attrs:{label:"garantie",color:"blue",value:"garantie",id:"garantie"}}),e(Mt["a"],{attrs:{label:"non garantie",color:"blue",id:"nn garantie",value:"non garantie"}})],1),e(F["a"],{staticStyle:{display:"none"},attrs:{cols:"12",id:"garantiebutton"}},[e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info"},on:{click:function(e){return t.addgarantiediag()}}},[t._v(" Envoyer Mail ")])],1)],1)],1)],1)],1)],1)],1)],1),e("div",{attrs:{slot:"step-4"},slot:"step-4"},[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e(ct["b"],[e(dt["a"],[e(_["a"]),e("h4",{staticClass:"info--text"},[t._v("Offre de prix")]),e("br"),e(dt["a"],{attrs:{fluid:"",p0:""}},[e("form",[e(lt["a"],{staticClass:"ml-12",staticStyle:{width:"95%"}},[e("div",{staticClass:"col col-12"},[e("h4",{staticClass:"ma-0"},[t._v("Client :")]),e("h5",{staticClass:"mt-5"},[t._v(" "+t._s(t.ticket.name)+" "+t._s(t.ticket.prenom)+" ")]),e("address",[e("br"),t._v(" "+t._s(t.ticket.adresse)+" "),e("br"),e("abbr",{attrs:{title:"Work email"}},[t._v("e-mail: ")]),e("a",{attrs:{href:"mailto:#"}},[t._v(t._s(t.ticket.email))]),e("br"),e("abbr",{attrs:{title:"Work Phone"}},[t._v("telephone:")]),t._v(" "+t._s(t.ticket.telephone)),e("br")])]),e("br"),e("br"),e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t._v("  Maintenance price: "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Prix Maintenace"},model:{value:t.prixmain,callback:function(e){t.prixmain=e},expression:"prixmain"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t._v("   Labor price: : "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Labor price:"},model:{value:t.prix_oeuvre,callback:function(e){t.prix_oeuvre=e},expression:"prix_oeuvre"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t._v(" Duration Preparation per day(s): "),e(Ft["a"],{attrs:{outlined:"",placeholder:"Durée"},model:{value:t.duree,callback:function(e){t.duree=e},expression:"duree"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[t._v(" last confirmation date: "),e(Ft["a"],{attrs:{outlined:"",type:"date",placeholder:"Date confirmation"},model:{value:t.date_confirmation,callback:function(e){t.date_confirmation=e},expression:"date_confirmation"}})],1)],1),e("br"),e("strong",[t._v(" Spare parts list :")]),e("div",{staticClass:"ml-10"},[e(qt["a"],{staticClass:"ml-10",staticStyle:{width:"95%"}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("#")]),e("th",{staticClass:"text-left"},[t._v("Piece de rechange")]),e("th",{staticClass:"text-left"},[t._v("Quantity")]),e("th",{staticClass:"text-left"},[t._v("Price per Unit")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",t._l(t.diagnosticselected,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(s+1))]),e("td",{staticClass:"pa-6"},[t._v(" "+t._s(a.produit)+" ")]),e("td",[t._v(t._s(a.quantite))]),e("td",[t._v(t._s(a.prixunit))]),e("td",[t._v("1550 DT")])])})),0)]),e(F["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info"},on:{click:function(e){return t.addoffre()}}},[t._v(" Enregister ")])],1),e("br"),e("br")],1)],1)],1)])],1)],1)],1)],1)],1)])],1)])},he=[],ve={components:{Stepper:Wt.a},data(){return{prixmain:"",prix_oeuvre:"",duree:"",date_confirmation:"",diagnosticselected:[],prixpdt:"",referencepdtselect:"",etat_garantie:"",commentaire:"",garantie:"garantie",hors_garantie:"non garantie",acheteursemails:[],sendemail:{},piecederech:"",marquepiece:"",piecesderechanges:{},categorieadd:"",articleaddname:"",articleaddgroupe:"",panneaddname:"",panneaddgroupe:"",panneaddarticle:"",quantite:"",quantitee:"",email:"",dialog1:!1,dialog2:!1,dialog3:!1,selected:[],selectedd:"",ticket:{},stepperOptions:{headers:[{title:"etape 1"},{title:"etape 2"},{title:"etape 3"}],prevText:"Previous",nextText:"Next"},categorie:"",name:"",article:"",categories:[],articles:[],articlesold:[],pannes:[],pr:{quantite:""},diagnostic:{},pannesold:[],token:localStorage.getItem("token")}},mounted:function(){Ut()("#js-licensing").hide()},watch:{etat_garantie:function(t){let e={title:"etape 4"};if("non garantie"==t){let t=this.stepperOptions.headers.includes(e,0);console.log(t),1==this.stepperOptions.headers.includes(e,0)?this.stepperOptions.headers.pop(e):(document.getElementById("garantiebutton").style.display="none",this.stepperOptions.headers.push(e))}else document.getElementById("garantiebutton").style.display="block",console.log("no")},categorie:function(t){if(t){this.selected=[],this.articles=this.articlesold;let e=this.articles.filter(e=>e.groupe==t.name);this.articles=e,this.selected=[],this.pannes=this.pannesold;let a=this.pannes.filter(e=>e.groupe==t.name);this.pannes=a}},article:function(t){if(t){this.selected=[],this.pannes=this.pannesold;let e=this.pannes.filter(e=>e.article==t.name);this.pannes=e}}},created:function(){this.getticketById(),this.getcategories(),this.getarticles(),this.getpannes(),this.getpiecesderechanges(),this.getacheteurs(),this.getdiagnostic()},methods:{getdiagnostic(){Z.get("diagnostics/getdiagnosticsbyid/"+this.$route.params.id).then(t=>{this.diagnosticselected=t.data,console.log(this.diagnosticselected)}).then(t=>console.log(t))},addgarantiediag(){let t={_id:this.ticket._id,garantie:this.etat_garantie};Z.put("tickets/updategarantieticket",t).then(t=>{200===t.status&&(this.$toast.success("Ticket modifié!",{position:"top-right"}),this.$router.push("/tickets"))},t=>{this.error=t.response.data.error,console.log(this.error)})},sendemaill(){this.piecederech=this.$refs.inputField[0].value,this.marquepiece=this.$refs.marque[0].value;let t={email:this.email.email,quantite:this.quantitee,pr:this.piecederech,marque:this.marquepiece,token:this.token};console.log(t),Z.post("diagnostics/sendmail",t).then(t=>{200===t.status&&(this.$toast.success("Mail envoyé!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog1=!1)},t=>{console.log(t)})},getpannes(){Z.get("pannes/getpannes").then(t=>{this.pannes=t.data,this.pannesold=t.data}).then(t=>console.log(t))},getacheteurs(){Z.get("acheteurs/getacheteursemails").then(t=>{this.acheteursemails=t.data}).then(t=>console.log(t))},getpiecesderechanges(){Z.get("stocks/getpiecesderechanges/"+this.$route.params.id).then(t=>{this.piecesderechanges=t.data,console.log(this.piecesderechanges)}).then(t=>console.log(t))},getarticles(){Z.get("pannes/getarticles").then(t=>{this.articles=t.data,this.articlesold=t.data}).then(t=>console.log(t))},getcategories(){Z.get("pannes/getcategories").then(t=>{this.categories=t.data}).then(t=>console.log(t))},getticketById(){Z.get("tickets/getticketbyid/"+this.$route.params.id).then(t=>{this.ticket=t.data,console.log(this.ticket)}).then(t=>console.log(t))},addcategorie(){let t={name:this.categorieadd};Z.post("pannes/addcategorie",t).then(t=>{200===t.status&&(this.$toast.success("categorie ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog1=!1,this.categorieadd="",this.getcategories())},t=>{console.log(t)})},addarticle(){let t={name:this.articleaddname,groupe:this.articleaddgroupe.name};Z.post("pannes/addarticle",t).then(t=>{200===t.status&&(this.$toast.success("article ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog2=!1,this.articleaddname="",this.articleaddgroupe="",this.getarticles())},t=>{console.log(t)})},addpanne(){let t={name:this.panneaddname,groupe:this.panneaddgroupe.name,article:this.panneaddarticle.name};Z.post("pannes/addapanne",t).then(t=>{200===t.status&&(this.$toast.success("Panne ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog3=!1,this.panneaddname="",this.panneaddgroupe="",this.panneaddarticle="",this.getarticles())},t=>{console.log(t)})},addoffre(){let t={ticket:this.ticket._id,prixmain:this.prixmain,prix_oeuvre:this.prix_oeuvre,duree:this.duree,date_confirmation:this.date_confirmation};Z.post("offres/addoffre",t).then(t=>{200===t.status&&this.$toast.success("offre ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{console.log(t)})},adddiagnostic(){this.referencepdtselect=this.$refs.referencepdt[0].value,this.prixpdt=this.$refs.prixpdt[0].value;let t={ticket:this.ticket._id,panne:this.selected,commentaire:this.commentaire,pr:{produit:this.referencepdtselect,quantite:this.quantite,prixpdt:this.prixpdt}};console.log(t),Z.post("diagnostics/adddiagnostic",t).then(t=>{200===t.status&&this.$toast.success("diagnostic ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{console.log(t)})}}},fe=ve,ge=Object(l["a"])(fe,me,he,!1,null,null,null),be=ge.exports,_e=a("0e8f"),ke=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Receipt")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addticket"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Receipt")])],1)]}}])})],1),e(V["a"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Search by name client","prepend-icon":"mdi-database-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("List Of Receipts")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-9"},[e("tr",[e(Dt["a"],[e(Ot["a"],[e(Lt["a"],[e("th",{staticClass:"text-left pa-6"},[t._v("Client")]),t._v("                 "),e("th",{staticClass:"text-left pa-4"},[t._v("e-mail")]),t._v("            "),e("th",{staticClass:"text-left pa-2"},[t._v("Phone")]),e("th",{staticClass:"text-left pa-2"},[t._v("Date réception")]),e("th",[t._v("Reception sheet")])])],1)],1)],1)]),e("tbody",t._l(t.searchFunction,(function(a,s){return e("tr",{key:s},[e(Dt["a"],[e(Ot["a"],[e(Lt["a"],[e("td",{staticClass:"pa-0"},[t._v(" "+t._s(a["client_id"].name)+" "+t._s(a["client_id"].prenom)+" ")]),e("td",{staticClass:"pa-0"},[t._v(" "+t._s(a["client_id"].email)+" ")]),e("td",{staticClass:"pa-0"},[t._v(" "+t._s(a["client_id"].telephone)+" ")]),e("td",{staticClass:"pa-0"},[t._v(" "+t._s(t._f("formatDate")(a.datereception))+" ")]),e("td",{staticClass:"pa-6"},[e("router-link",{attrs:{to:{name:"viewticket",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"blue darken-2"}},[t._v(" mdi-eye ")])],1)],1)]),e(Pt["a"],[e(dt["a"],[e(zt["a"],[e(_e["a"],{attrs:{xs12:"",sm12:""}},[e(lt["a"],{attrs:{hover:""}},[e(ct["c"],[e("h4",{staticClass:"info--text"},[e(_["a"],{staticClass:"info--text"},[t._v("mdi-ticket-account")]),t._v(" Liste des Tickets ")],1)]),e(ct["b"],[e(qt["a"],{staticClass:"text-left pa-6"},[e("thead",[e("th",[t._v("NUMBER")]),e("th",[t._v("date reception")]),e("th",[t._v("product")]),e("th",[t._v("assignment status")]),e("th",[t._v("status")]),e("th",[t._v("warranty")]),e("th",[t._v("Report")]),e("th",[t._v("Actions")])]),e("tbody",t._l(a["tickets"],(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.numero))]),e("td",[t._v(" "+t._s(t._f("formatDate")(a.datereception))+" ")]),e("td",[t._v(" "+t._s(a.modeleappareil)+" ")]),""==a.affectépar?e("td",[e(yt["a"],{attrs:{width:"900"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"danger"}},"v-chip",s,!1),a),[t._v(" en attente ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Affecter Ticket "+t._s(a.numero)+" au Technicien ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Veuillez choisir le technicien : "),e("br"),e("br"),e(dt["a"],[e(ct["b"],[e(pt["a"],{attrs:{outlined:"",label:"Techniciens",items:t.techniciens,"item-text":"name","item-value":"_id","return-object":""},model:{value:t.affectépar,callback:function(e){t.affectépar=e},expression:"affectépar"}})],1)],1)],1)],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.addtechnicien(a._id)}}},[t._v(" Affecter ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" affecté par "+t._s(a.affectépar)+" ")])],1),"réparation en cours"===a.etat?e("td",[e(yt["a"],{attrs:{width:"900"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"danger"}},"v-chip",s,!1),a),[t._v(" réparation en cours ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous terminé la réparation ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la réparation "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatereparationticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):t._e(),"clôturé et décharge recu"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" clôturé et décharge recu ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous livré sans décharge ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Livré sans décharge ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatelivrerticket(a._id)}}},[t._v(" Livrer ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):t._e(),"réparation terminé"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" réparation terminé ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous cloturé ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la cloture ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updateclotureticket(a._id)}}},[t._v(" edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):t._e(),"livré sans décharge"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Livré sans décharge ")])],1):t._e(),"en_attente_pr"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente PR ")])],1):t._e(),"devis_en_attente_accord_reception_client"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord réception client ")])],1):t._e(),"en cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" diagnostic en cours ")])],1):t._e(),"devis_attente_accord_client_final"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord client final ")])],1):t._e(),"en attente de facturation"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente de facturation ")])],1):t._e(),"cloturesansreponse"==a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"refusparréception"==a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"clotureetdechargerecu"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" clôturé et décharge reçu ")])],1):t._e(),"ouverte"===a.etat?e("td",{staticClass:"ma-3 ml-10"},[t._v("   "),e(Ct["a"],{attrs:{link:"",color:"secondary"}},[t._v(" Ouverte ")])],1):t._e(),"garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" garantie ")])],1):"nn garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"secondary"}},[t._v(" nn garantie ")])],1):""===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" pas encore ")])],1):t._e(),e("td",[e("router-link",{attrs:{to:{name:"rapportticket",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"green "}},[t._v(" mdi-book ")])],1)],1),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[""==a.affectépar?e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"editticket",params:{id:a._id}}}},[t._v(" edit ")])],1)],1):t._e(),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[""==a.affectépar?e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",i,!1),s),[t._v(" delete ")])],1):t._e()]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete Ticket? ")]),e(ct["b"],[t._v("are you sure you want to delete cet ticket ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteticket(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)])],1)],1)],1)],1)],1)],1)],1)],1)],1)})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},xe=[],Ce=a("3d20"),ye=a.n(Ce),we={data(){return{tickets:[],search:"",dialog:!1,user:{},dialog2:!0,dialog4:!0,techniciens:[],"affectépar":"",listetickets:{},champRules:[t=>!!t||"Ce champ est obligatoire"]}},computed:{searchFunction(){return this.tickets.filter(t=>(console.log(t.tickets),t.client_id["name"].toLowerCase().indexOf(this.search.toLowerCase())>-1))}},created(){this.gettickets(),this.getuser(),this.getechniciens()},methods:{getechniciens(){Z.get("users/getechniciens").then(t=>{this.techniciens=t.data,console.log(this.techniciens)}).then(t=>console.log(t))},getuser(){var t=localStorage.getItem("token");Z.get("auth/getcurrentuser/"+t).then(t=>{this.user=t.data}).then(t=>console.log(t))},gettickets(){Z.get("tickets/getticket").then(t=>{this.tickets=t.data}).then(t=>console.log(t))},deleteticket(t){Z.delete("tickets/deleteticket/"+t).then(t=>{console.log(t),this.$toast.success("Ticket supprimé!",{position:"top-right"}),location.reload()})},addtechnicien(t){console.log(t);let e={"affectépar":this.affectépar._id,_id:t};Z.put("tickets/updateticketechnicien",e).then(()=>{this.$toast.success("Ticket affecté!",{position:"top-right"}),location.reload()})},updateclotureticket(t){console.log(t);let e={_id:t};Z.put("tickets/updateclotureticket",e).then(()=>{this.$toast.success("Ticket cloturé et décharge reçu!",{position:"top-right"}),location.reload()})},updatelivrerticket(t){let e={_id:t};Z.put("tickets/updatelivrerticket",e).then(()=>{this.$toast.success("Ticket livré sans décharge!",{position:"top-right"}),location.reload()})},updatereparationticket(t){console.log(t);let e={_id:t};Z.put("tickets/updatereparationticket",e).then(()=>{this.$toast.success("Ticket Réparé!",{position:"top-right"}),location.reload()})}}},qe=we,Se=(a("c0ef"),Object(l["a"])(qe,ke,xe,!1,null,null,null)),Be=Se.exports,Re=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Tickets")])]),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste of tickets")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("NUMBER")]),e("th",{staticClass:"text-left"},[t._v(" client")]),e("th",{staticClass:"text-left"},[t._v("Revendeur")]),e("th",{staticClass:"text-left"},[t._v("warranty")]),e("th",{staticClass:"text-left"},[t._v("status")]),e("th",{staticClass:"text-left"},[t._v("Affected by")]),e("th",{staticClass:"text-left"},[t._v("voir")])])]),e("tbody",t._l(t.tickets,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.numero))]),e("td",[t._v(t._s(a.client_id["prenom"])+" "+t._s(a.client_id["name"]))]),e("td",[t._v(t._s(a.typerevendeur))]),"garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" garantie ")])],1):"nn garantie"===a.etat_garantie?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" nn garantie ")])],1):t._e(),"clôturé et décharge recu"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" clôturé et décharge recu ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous livré sans décharge ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Livré sans décharge ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updatelivrerticket(a._id)}}},[t._v(" Livrer ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):t._e(),"réparation terminé"===a.etat?e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ct["a"],t._g(t._b({staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},"v-chip",s,!1),a),[t._v(" réparation terminé ")])]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Voulez vous cloturé ? ")]),e(ct["b"],[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),t._v(" Terminer la cloture ? "),e("br"),e("br")])],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"info",disabled:0==t.valid},on:{click:function(e){s.value=!1,t.updateclotureticket(a._id)}}},[t._v(" Edit ")]),e(b["a"],{attrs:{color:"error"},on:{click:function(t){s.value=!1}}},[t._v(" Cancel ")])],1)],1)]}}],null,!0)})],1):t._e(),"livré sans décharge"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Livré sans décharge ")])],1):t._e(),"en_attente_pr"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente PR ")])],1):t._e(),"devis_en_attente_accord_reception_client"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord réception client ")])],1):t._e(),"en cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" diagnostic en cours ")])],1):t._e(),"devis_attente_accord_client_final"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" devis en attente accord client final ")])],1):t._e(),"en attente de facturation"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" en attente de facturation ")])],1):t._e(),"cloturesansreponse"==a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"refusparréception"==a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" clôturer sans réponse ")])],1):t._e(),"clotureetdechargerecu"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" clôturé et décharge reçu ")])],1):t._e(),"ouverte"===a.etat?e("td",{staticClass:"ma-3 ml-10"},[t._v("   "),e(Ct["a"],{attrs:{link:"",color:"secondary"}},[t._v(" Ouverte ")])],1):t._e(),""==a.affectépar?e("td",[e(b["a"],{attrs:{fab:"",small:"",color:"cyan accent-1"},on:{click:function(e){return t.addticket(a._id)}}},[e(_["a"],[t._v("mdi-plus")])],1)],1):e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" affecté ")])],1),e("td",[e("router-link",{attrs:{to:{name:"rapportticket",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"orange darken-2"}},[t._v(" mdi-arrow-up-bold-box-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Ee=[],je={data(){return{tickets:[],dialog:!1,user:[],dialog2:!1,techniciens:[],"affectépar":""}},computed:{searchFunction(){return this.tickets.filter(t=>t.numero.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},mounted(){},created(){this.getttickets(),this.getuser(),this.getechniciens()},methods:{updateclotureticket(t){console.log(t);let e={_id:t};Z.put("tickets/updateclotureticket",e).then(()=>{this.$toast.success("Ticket cloturé et décharge reçu!",{position:"top-right"}),location.reload()})},updatelivrerticket(t){let e={_id:t};Z.put("tickets/updatelivrerticket",e).then(()=>{this.$toast.success("Ticket livré sans décharge!",{position:"top-right"}),location.reload()})},updatereparationticket(t){console.log(t);let e={_id:t};Z.put("tickets/updatereparationticket",e).then(()=>{this.$toast.success("Ticket Réparé!",{position:"top-right"}),location.reload()})},getechniciens(){Z.get("users/getechniciens").then(t=>{this.techniciens=t.data}).then(t=>console.log(t))},getuser(){var t=localStorage.getItem("token");Z.get("auth/getuser/"+t).then(t=>{this.user=t.data}).then(t=>console.log(t))},getttickets(){let t=JSON.parse(window.localStorage.getItem("userData")),e=t[0]["_id"];console.log(e),Z.get("tickets/gettickettechnicien/"+e).then(t=>{this.tickets=t.data}).then(t=>console.log(t))},addticket(t){let e={id:t,technicien_id:this.user._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, take it!"}).then(t=>{t.isConfirmed&&Z.put("tickets/taketicket",e).then(t=>{console.log(t),ye.a.fire("Your file has been added.","success")}),this.$router.go(0),this.getttickets()})}}},Ae=je,Te=(a("ab0b"),Object(l["a"])(Ae,Re,Ee,!1,null,null,null)),Ie=Te.exports,Oe=a("a844"),Pe=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-30 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Receipt")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/tickets"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(wt["a"],{model:{value:t.valid1,callback:function(e){t.valid1=e},expression:"valid1"}},[e(lt["a"],{staticClass:"pa-8",attrs:{width:"300%"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.clientisHidden,expression:"!clientisHidden"}],attrs:{id:"clientdata"}},[e(dt["a"],{attrs:{fluid:""}},[e("br"),e(V["a"],[e(F["a"],{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[e(pt["a"],{attrs:{items:t.itemsclient,label:"choose a client","item-text":t=>`${t.name}  ${t.prenom} (${t.code})`,"item-value":"name",outlined:""},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nameRules,counter:30,label:"Name",required:""},model:{value:t.ticket.name,callback:function(e){t.$set(t.ticket,"name",e)},expression:"ticket.name"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,counter:30,label:"Last Name",required:""},model:{value:t.ticket.prenom,callback:function(e){t.$set(t.ticket,"prenom",e)},expression:"ticket.prenom"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valide",t.existingMail],messages:t.mailMessage,label:"E-mail",required:""},on:{keyup:function(e){return t.emailExists(t.ticket.email)}},model:{value:t.ticket.email,callback:function(e){t.$set(t.ticket,"email",e)},expression:"ticket.email"}})],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(Ft["a"],{attrs:{rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.ticket.telephone,callback:function(e){t.$set(t.ticket,"telephone",e)},expression:"ticket.telephone"}})],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(Ft["a"],{attrs:{rules:t.adresseRules,label:"Adresse",required:""},model:{value:t.ticket.adresse,callback:function(e){t.$set(t.ticket,"adresse",e)},expression:"ticket.adresse"}})],1)],1)],1),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"primary",disabled:!t.valid1},on:{click:function(e){return t.hideandshow()}}},[e(_["a"],[t._v("mdi-account-arrow-down ")]),t._v("  Add ")],1),e("br")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.ticketisHidden,expression:"!ticketisHidden"}],staticClass:"text-center"},[e(yt["a"],{attrs:{width:"900",persistent:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("div",{staticClass:"dashboard-page"},[e(V["a"],[e("div",{staticClass:"passenger",staticStyle:{display:"flex","justify-content":"center",width:"80vw",height:"50%"}},[e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("Name")]),e("br"),t._v(" "+t._s(t.ticket.name)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("Last Name")]),e("br"),t._v(" "+t._s(t.ticket.prenom)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("Email")]),e("br"),t._v(" "+t._s(t.ticket.email)+" ")]),e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("Phone")]),e("br"),t._v(" "+t._s(t.ticket.telephone)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket"},[e("div",{staticClass:"passenger-ticket__line"},[e("div",{staticClass:"passenger-ticket__data"},[e("b",[t._v("Adress")]),e("br"),t._v(" "+t._s(t.ticket.adresse)+" ")])]),e("div",{staticClass:"passenger-ticket__bottom"})]),e("div",{staticClass:"passenger-ticket__bottom"})])]),e("br"),e("br"),e(b["a"],t._g(t._b({attrs:{large:"",block:"",elevation:"2",type:"button",color:"info"}},"v-btn",s,!1),a),[e("span",{staticClass:"v-btn__content"},[t._v(" Add Ticket "),e("i",{staticClass:"mdi mdi-arrow-right"})])])],1)]}},{key:"default",fn:function(a){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 info"},[t._v(" Add Receipt "+t._s(t.calculatenumero)+" ")]),e(ct["b"],[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",label:"Numéro ticket",value:t.calculatenumero,disabled:""}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",label:"Type dealer",rules:t.champRules,items:t.items},model:{value:t.ticket.typerevendeur,callback:function(e){t.$set(t.ticket,"typerevendeur",e)},expression:"ticket.typerevendeur"}})],1),e(F["a"],{staticStyle:{display:"none"},attrs:{cols:"12",sm:"6",md:"6",id:"clientfinal"}},[e(pt["a"],{attrs:{outlined:"",items:t.revendeurs,label:"final client","item-text":"name","item-value":"name",rules:t.champRules,id:"clientfinale"},model:{value:t.ticket.revendeur,callback:function(e){t.$set(t.ticket,"revendeur",e)},expression:"ticket.revendeur"}})],1),e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"revendeur"}},[e(Ft["a"],{attrs:{outlined:"",label:"dealer",id:"revendeure"},model:{value:t.ticket.revendeur,callback:function(e){t.$set(t.ticket,"revendeur",e)},expression:"ticket.revendeur"}})],1),e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"datefacture"}},[e(Ft["a"],{attrs:{outlined:"",label:"invoice date",type:"date",id:"datefacturee"},model:{value:t.ticket.datefacture,callback:function(e){t.$set(t.ticket,"datefacture",e)},expression:"ticket.datefacture"}})],1),e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"numerofacture"}},[e(Ft["a"],{attrs:{label:"invoice number",outlined:"",id:"numerofacturee"},model:{value:t.ticket.numerofacture,callback:function(e){t.$set(t.ticket,"numerofacture",e)},expression:"ticket.numerofacture"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{label:"lot number/serial number",outlined:"",rules:t.champRules},model:{value:t.ticket.numlotounumserie,callback:function(e){t.$set(t.ticket,"numlotounumserie",e)},expression:"ticket.numlotounumserie"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",items:t.typeproduits,label:"Product type",rules:t.champRules},model:{value:t.ticket.typeproduit,callback:function(e){t.$set(t.ticket,"typeproduit",e)},expression:"ticket.typeproduit"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",label:"Device brand",rules:t.champRules},model:{value:t.ticket.marqueappareil,callback:function(e){t.$set(t.ticket,"marqueappareil",e)},expression:"ticket.marqueappareil"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Device model"},model:{value:t.ticket.modeleappareil,callback:function(e){t.$set(t.ticket,"modeleappareil",e)},expression:"ticket.modeleappareil"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Delivery person"},model:{value:t.ticket.livreur,callback:function(e){t.$set(t.ticket,"livreur",e)},expression:"ticket.livreur"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Representing"},model:{value:t.ticket.representant,callback:function(e){t.$set(t.ticket,"representant",e)},expression:"ticket.representant"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",items:t.accessoirees,"menu-props":{maxHeight:"400"},label:"Select accessoires","item-text":"libelle","item-value":"libelle",multiple:"","persistent-hint":""},model:{value:t.ticket.accessoires,callback:function(e){t.$set(t.ticket,"accessoires",e)},expression:"ticket.accessoires"}})],1),e(F["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(Oe["a"],{attrs:{outlined:"",name:"input-7-4",label:"Reclammed breakdowns"},model:{value:t.ticket.pannesreclames,callback:function(e){t.$set(t.ticket,"pannesreclames",e)},expression:"ticket.pannesreclames"}})],1)],1)],1)],1)],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticClass:"info",staticStyle:{float:"right"},attrs:{text:"",disabled:!t.valid},on:{click:function(e){return t.addnewticket()}}},[e(_["a"],[t._v(" mdi-plus-circle-multiple-outline")]),t._v("   Ticket ")],1),e(b["a"],{staticClass:"success",staticStyle:{float:"right"},attrs:{text:"",disabled:!t.valid},on:{click:function(e){a.value=!1,t.addnewticket()}}},[e(_["a"],[t._v(" mdi-check-all")]),t._v(" Add ")],1),e(b["a"],{staticClass:"error",attrs:{text:""},on:{click:function(t){a.value=!1}}},[t._v(" Back ")])],1)],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}})],1),e("br"),e("br"),e("br"),e("div",{staticStyle:{display:"none"},attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("Number")]),e("th",[t._v("Client type")]),e("th",[t._v("Device brand")]),e("th",[t._v("Device model")]),e("th",[t._v("Delivery ")]),e("th",[t._v("Representing")]),e("th",[t._v("Edit")]),e("th",[t._v("Delete")])])]),t._l(t.arrayticket.tickets,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(" "+t._s(a.ticket.numeroticket)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(" "+t._s(a.ticket.typerevendeur)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(" "+t._s(a.ticket.marqueappareil)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Unit Price"}},[t._v(" "+t._s(a.ticket.modeleappareil)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.ticket.livreur)+" ")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Tax Code"}},[t._v(" "+t._s(a.ticket.representant)+" ")]),e("td",[e(yt["a"],{attrs:{width:"900"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"ma-3",attrs:{text:"",icon:"",color:"green lighten-2"}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-tooltip-edit")])],1)]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5 info"},[t._v(" Edit bon de reception "+t._s(a.ticket.numeroticket)+" ")]),e(ct["b"],[e(wt["a"],{ref:"form",refInFor:!0,attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("br"),e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",label:"Number ticket",value:a.ticket.numeroticket,disabled:""}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",label:"Type Revendeur",rules:t.champRules,items:t.items},model:{value:a.ticket.typerevendeur,callback:function(e){t.$set(a.ticket,"typerevendeur",e)},expression:"ticket.ticket.typerevendeur"}})],1),"Client final"==a.ticket.typerevendeur?e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"clientfinal"}},[e(pt["a"],{attrs:{outlined:"",items:t.revendeurs,label:"client final","item-text":"name","item-value":"name",rules:t.champRules,id:"clientfinale"},model:{value:a.ticket.revendeur,callback:function(e){t.$set(a.ticket,"revendeur",e)},expression:"ticket.ticket.revendeur"}})],1):e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"revendeur"}},[e(Ft["a"],{attrs:{outlined:"",label:"revendeur",id:"revendeure"},model:{value:a.ticket.revendeur,callback:function(e){t.$set(a.ticket,"revendeur",e)},expression:"ticket.ticket.revendeur"}})],1),e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"datefacture"}},[e(Ft["a"],{staticStyle:{display:"block"},attrs:{outlined:"",label:"date facture",type:"date",id:"datefacturee"},model:{value:a.ticket.datefacture,callback:function(e){t.$set(a.ticket,"datefacture",e)},expression:"ticket.ticket.datefacture"}})],1),e(F["a"],{staticStyle:{display:"block"},attrs:{cols:"12",sm:"6",md:"6",id:"numerofacture"}},[e(Ft["a"],{attrs:{label:"numero facture",outlined:"",id:"numerofacturee"},model:{value:a.ticket.numerofacture,callback:function(e){t.$set(a.ticket,"numerofacture",e)},expression:"ticket.ticket.numerofacture"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{label:"num lot/numserie",outlined:"",rules:t.champRules},model:{value:a.ticket.numlotounumserie,callback:function(e){t.$set(a.ticket,"numlotounumserie",e)},expression:"ticket.ticket.numlotounumserie"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",items:t.typeproduits,label:"Product Type",rules:t.champRules,"item-text":"produit","item-value":"produit"},model:{value:a.ticket.typeproduit,callback:function(e){t.$set(a.ticket,"typeproduit",e)},expression:"ticket.ticket.typeproduit"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",label:"Marque appareil",rules:t.champRules},model:{value:a.ticket.marqueappareil,callback:function(e){t.$set(a.ticket,"marqueappareil",e)},expression:"ticket.ticket.marqueappareil"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Device model"},model:{value:a.ticket.modeleappareil,callback:function(e){t.$set(a.ticket,"modeleappareil",e)},expression:"ticket.ticket.modeleappareil"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Delivery"},model:{value:a.ticket.livreur,callback:function(e){t.$set(a.ticket,"livreur",e)},expression:"ticket.ticket.livreur"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(Ft["a"],{attrs:{outlined:"",rules:t.champRules,label:"Representing"},model:{value:a.ticket.representant,callback:function(e){t.$set(a.ticket,"representant",e)},expression:"ticket.ticket.representant"}})],1),e(F["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(pt["a"],{attrs:{outlined:"",items:t.accessoireess,"menu-props":{maxHeight:"600"},label:"list of accessories","item-text":"libelle","item-value":"libelle",multiple:"","persistent-hint":""},model:{value:a.ticket.accessoires,callback:function(e){t.$set(a.ticket,"accessoires",e)},expression:"ticket.ticket.accessoires"}})],1),e(F["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(Oe["a"],{attrs:{outlined:"",name:"input-7-4",label:"Reclammed breakdowns"},model:{value:a.ticket.pannesreclames,callback:function(e){t.$set(a.ticket,"pannesreclames",e)},expression:"ticket.ticket.pannesreclames"}})],1)],1)],1)],1)],1),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{staticStyle:{float:"right"},attrs:{text:"",color:"info",disabled:!t.valid},on:{click:function(e){return t.editnewticket()}}},[t._v(" Edit ")]),e(b["a"],{attrs:{text:"",color:"red"},on:{click:function(t){s.value=!1}}},[t._v(" Back ")])],1)],1)]}}],null,!0)})],1),e("td",[e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"ma-3",attrs:{text:"",icon:"",color:"red lighten-2"}},"v-btn",s,!1),a),[e(_["a"],[t._v("mdi-tooltip-remove")])],1)]}},{key:"default",fn:function(s){return[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete Ticket? ")]),e(ct["b"],[t._v("are you sure you want to delete this ticket ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(t){s.value=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){t.deleteticket(a.ticket.numeroticket),s.value=!1}}},[t._v(" Confirmer ")])],1)],1)]}}],null,!0)})],1)])}))],2),e("br"),e("br"),e(b["a"],{staticStyle:{float:"right"},attrs:{color:"success",disabled:t.disabled},on:{click:function(e){return t.delay()}}},[e(_["a"],[t._v("mdi mdi-arrow-right")]),t._v("  Save all ")],1),e("br"),e("br")],1)])],1)],1)],1)])},Le=[],De=a("f579"),$e=a.n(De),ze={components:{},name:"Dashboard",data(){return{ticketisHidden:!0,clientisHidden:!1,dialog:!1,disabled:!1,timeout:null,dialog1:!1,dialog2:!1,valid:!1,valid1:!1,arraynumbertickets:[],lastticket:"",items:["Client final","Revendeur"],typerevendeur:["Client final","Revendeur"],typeproduits:["machine","autre"],client:"",clientsold:[],clientfound:{},itemsclient:[],champRules:[t=>!!t||"Ce champ est obligatoire",t=>t&&t.length<=30||"Champ must be less than 30 characters"],nameRules:[t=>!!t||"Name est obligatoire",t=>t&&t.length<=30||"Name must be less than 30 characters"],prenomRules:[t=>!!t||"prenom est obligatoire",t=>t&&t.length<=30||"prenom must be less than 30 characters"],emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valide"],existingMail:()=>!0,mailMessage:"",telephoneRules:[t=>!!t||"telephone est obligatoire",t=>t&&t.length<=8||"telephone doit etre 8 characters"],adresseRules:[t=>!!t||"adresse est obligatoire"],arrayticket:{client:{},tickets:[]},newticket:{client:{},ticket:[]},revendeursold:[],clients:[],revendeurs:[],accessoirees:[],accessoireess:[],i:1,ticket:{name:"",pannesreclames:"",prenom:"",email:"",telephone:"",adresse:"",accessoires:[],revendeur:"",datefacture:"",numerofacture:"",marqueappareil:"",modeleappareil:"",etat_garantie:"",typeproduit:"",etat:"ouverte",datereception:new Date,statutaffectation:"non affecté",numlotounumserie:"",livreur:"",representant:"",typerevendeur:"",affectepar:"",numeroticket:""},numero:"",tickets:{},clickeditem:{},currentYear:(new Date).getFullYear().toString().substr(-2)}},created(){this.gettickets(),this.getclients(),this.getaccessoires()},watch:{"ticket.typerevendeur"(t){console.log(t),"Client final"==t?(document.getElementById("revendeur").style.display="none",document.getElementById("datefacture").style.display="none",document.getElementById("numerofacture").style.display="none",document.getElementById("revendeure").style.display="none",document.getElementById("datefacturee").style.display="none",document.getElementById("numerofacturee").style.display="none",document.getElementById("clientfinal").style.display="block",document.getElementById("clientfinale").style.display="block"):(document.getElementById("revendeur").style.display="block",document.getElementById("datefacture").style.display="block",document.getElementById("numerofacture").style.display="block",document.getElementById("revendeure").style.display="block",document.getElementById("datefacturee").style.display="block",document.getElementById("numerofacturee").style.display="block",document.getElementById("clientfinal").style.display="none",document.getElementById("clientfinale").style.display="none")},client:function(t){if(t){this.selected=[],this.clients=this.clientsold;let e=this.clients.filter(e=>e.name==t);this.clientfound=e,this.ticket.name=this.clientfound[0].name,this.ticket.prenom=this.clientfound[0].prenom,this.ticket.telephone=this.clientfound[0].telephone,this.ticket.adresse=this.clientfound[0].adresse,this.ticket.email=this.clientfound[0].email}},"ticket.typeproduit"(t){Z.get("accessoires/getaccessoiresbytype/"+t).then(t=>{this.accessoirees=t.data}).then(t=>console.log(t))},"ticket.ticket.typerevendeur"(t){console.log(t),"Client final"==t?(document.getElementById("revendeur").style.display="none",document.getElementById("datefacture").style.display="none",document.getElementById("numerofacture").style.display="none",document.getElementById("revendeure").style.display="none",document.getElementById("datefacturee").style.display="none",document.getElementById("numerofacturee").style.display="none",document.getElementById("clientfinal").style.display="block",document.getElementById("clientfinale").style.display="block"):(document.getElementById("revendeur").style.display="block",document.getElementById("datefacture").style.display="block",document.getElementById("numerofacture").style.display="block",document.getElementById("revendeure").style.display="block",document.getElementById("datefacturee").style.display="block",document.getElementById("numerofacturee").style.display="block",document.getElementById("clientfinal").style.display="none",document.getElementById("clientfinale").style.display="none")}},computed:{calculatenumero(){if(0==this.arraynumbertickets.length&&0==this.tickets.length)return console.log("créér nv"),this.ticket.numeroticket="SAV"+this.currentYear+"0001",this.ticket.numeroticket;if(this.tickets.length>0&&0==this.arraynumbertickets.length){const t=this.tickets[0].numero,e=t.slice(8),a="SAV"+this.currentYear+"000"+(parseInt(e)+1);return this.ticket.numeroticket=a,this.ticket.numeroticket}{console.log("ajout d'autre ticket "),console.log(this.arraynumbertickets);const t=this.arraynumbertickets[this.arraynumbertickets.length-1],e=t.slice(8);return this.ticket.numeroticket="SAV"+this.currentYear+"000"+(parseInt(e)+1),this.ticket.numeroticket}}},methods:{emailExists(t){""!==t&&Z.get("tickets/getemail/"+t).then(t=>{console.log(t.data),"adresse mail existe"==t.data?(console.log(t.data),this.mailMessage=t.data,this.existingMail=!1):(this.mailMessage="",this.existingMail=!0)}).catch(t=>{console.log(t)})},delay(){this.disabled=!0,this.timeout=setTimeout(()=>{this.disabled=!1},1e3),this.saveallticket()},deleteticket(t){this.arrayticket.tickets.forEach(e=>{e.ticket.numeroticket==t&&(this.arrayticket.tickets=this.arrayticket.tickets.filter(e=>e.ticket.numeroticket!==t),this.$toast.success("Ticket supprimé!",{position:"top-right"}))})},download(){const t=this.$refs.content.innerHTML;var e=window.open("","","width=400,height=300");e.document.write(t),e.document.close(),e.focus(),e.print(),e.close()},hideandshow(){this.clientisHidden=!0,this.ticketisHidden=!1,Z.get("clients/getclients").then(t=>{t.data.forEach(e=>{if(e.email!=this.ticket.email){const e={name:this.ticket.name,prenom:this.ticket.prenom,adresse:this.ticket.adresse,telephone:this.ticket.telephone,email:this.ticket.email};t.data.push(e),console.log(t.data),this.revendeurs=t.data,this.revendeursold=t.data}else this.revendeurs=t.data,this.revendeursold=t.data}),this.revendeurs=t.data,this.revendeursold=t.data}).then(t=>console.log(t))},addnewticket(){if(this.$refs.form.validate()){this.snackbar=!0;let t={name:this.ticket.name,prenom:this.ticket.prenom,adresse:this.ticket.adresse,telephone:this.ticket.telephone,email:this.ticket.email},e={numeroticket:this.ticket.numeroticket,typerevendeur:this.ticket.typerevendeur,revendeur:this.ticket.revendeur,datefacture:this.ticket.datefacture,numerofacture:this.ticket.numerofacture,numlotounumserie:this.ticket.numlotounumserie,typeproduit:this.ticket.typeproduit,marqueappareil:this.ticket.marqueappareil,modeleappareil:this.ticket.modeleappareil,livreur:this.ticket.livreur,representant:this.ticket.representant,etat_garantie:"",affectepar:"",etat:"ouverte",statutaffectation:this.statutaffectation,pannesreclames:this.ticket.pannesreclames,accessoires:this.ticket.accessoires,datereception:new Date};this.arrayticket.client=t,this.arrayticket.tickets.push({ticket:e}),this.arraynumbertickets.push(e.numeroticket),this.$toast.success("Ticket added!!",{position:"top-right",timeout:1e3,closeOnClick:!0}),this.ticket.numeroticket="",this.ticket.typerevendeur="",this.ticket.revendeur="",this.ticket.datefacture="",this.ticket.numerofacture="",this.ticket.numlotounumserie="",this.ticket.typeproduit="",this.ticket.marqueappareil="",this.ticket.modeleappareil="",this.snackbar=!1,document.getElementById("table").style.display="block",this.$router.push("/addticket")}},getrevendeurs(){Z.get("clients/getclients").then(t=>{this.revendeurs=t.data,this.revendeursold=t.data})},getclients(){Z.get("clients/getclients").then(t=>{this.itemsclient=t.data,this.clientsold=t.data}).then(t=>console.log(t))},getaccessoires(){Z.get("accessoires/getaccessoires").then(t=>{this.accessoireess=t.data}).then(t=>console.log(t))},gettickets(){Z.get("tickets/getalltickets").then(t=>{this.tickets=t.data}).then(t=>console.log(t))},saveallticket(){console.log(this.arrayticket),""==this.arrayticket.client.email?(this.arrayticket.client.email="nextconsult01@gmail.com",console.log(this.arrayticket),Z.post("tickets/addmultiticket",this.arrayticket).then(t=>{this.$toast.success("Ticket added!!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/tickets")})):Z.post("tickets/addmultiticket",this.arrayticket).then(t=>{this.$toast.success("Ticket added!!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/tickets")})}}},Me=ze,Ne=(a("7680"),Object(l["a"])(Me,Pe,Le,!1,null,null,null)),Fe=Ne.exports,He=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"container"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-30 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Reception Sheet")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/tickets"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e("div",{staticClass:"row gutters",attrs:{id:"invoiceholder"}},[e("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"invoice-container"},[e("div",{staticClass:"invoice-header"},[e("div",{staticClass:"row gutters"},[e("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12"},[e("div",{staticClass:"custom-actions-btns mb-5"},[e("h2",[t._v("Reception sheet")])])])]),e("div",{staticClass:"row gutters"},[e("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6"},[e("div",{staticClass:"col-md-6 col-12"},[e("img",{staticStyle:{width:"150px"},attrs:{src:a("60d9"),alt:"Logo"}})])]),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("address",{staticClass:"text-right"},[e("h6",[t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous "),e("br"),t._v(" e-mail: email@example.com,"),e("br"),t._v(" phone: +216 70 029 400,"),e("br"),t._v(" fax: +216 70 029 400,"),e("br")])])])]),e("div",{staticClass:"row gutters"},[e("div",{staticClass:"col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12"},[e("div",{staticClass:"invoice-details"},[e(B["a"],{staticClass:"tollbartitle"},[t._v("Customer details")]),e("br"),e("address",[e("h6",[e("span",[t._v("Name : "+t._s(t.ticket["client_id"].name)+" ")]),e("br"),e("span",[t._v("Last Name : "+t._s(t.ticket["client_id"].prenom)+" ")]),e("br"),e("span",[t._v("Adress : "+t._s(t.ticket["client_id"].adresse)+" ")]),e("br"),e("span",[t._v("Phone : "+t._s(t.ticket["client_id"].telephone)+" ")]),e("br"),e("span",[t._v("Email : "+t._s(t.ticket["client_id"].email)+" ")])])])],1)]),e("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12"},[e("div",{staticClass:"invoice-details"},[e("div",{staticClass:"invoice-num"},[e("div",[e("h6",[t._v(" Date Réception : "+t._s(t._f("formatDate")(t.ticket.datereception))+" ")]),e("h6",[t._v(" warranty : "),e(Tt["a"],{attrs:{label:"oui",color:"oui",value:"oui","hide-details":""}}),e(Tt["a"],{attrs:{label:"non",color:"non",value:"non","hide-details":""}})],1)]),e("br")])])])])]),t._v("   "),e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",{staticStyle:{"text-align":"center"}},[t._v("NUMBER TICKET")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Name client ")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Product Type")]),e("th",{staticStyle:{"text-align":"center"}}),e("th",{staticStyle:{"text-align":"center"}},[t._v("Brand ")]),e("th",{staticStyle:{"text-align":"center"}}),e("th",{staticStyle:{"text-align":"center"}},[t._v("Device model ")]),e("th",{staticStyle:{"text-align":"center"}}),e("th",{staticStyle:{"text-align":"center"}},[t._v("Delivery ")]),e("th",{staticStyle:{"text-align":"center"}}),e("th",{staticStyle:{"text-align":"center"}},[t._v("Representing ")]),e("th",{staticStyle:{"text-align":"center"}}),e("th",{staticStyle:{"text-align":"center"}},[t._v("Bar code ")])])]),t._l(t.listetickets,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Type"}},[t._v(t._s(a.numero))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Description"}},[t._v(t._s(t.ticket["client_id"].name))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Quantity"}},[t._v(t._s(a.typeproduit))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}}),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Unit Price"}},[t._v(t._s(a.marqueappareil))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}}),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.modeleappareil))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}}),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.livreur))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}}),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.representant))]),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}}),e("td",{staticStyle:{"text-align":"center"},attrs:{"data-label":"Taxable Amount"}},[e("barcode",{attrs:{value:a.numero,height:40,width:2}},[t._v(" Show this if the rendering fails. ")])],1)])}))],2)]),e("br"),e("P",[e("HR")],1),e(F["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[t._v(" Signature: "),e(Oe["a"],{attrs:{disabled:""}})],1)],1)])])]),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:"",center:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1)])},Ge=[],Ye={data(){return{ticket:{},pannes:[],listetickets:{}}},components:{},created:function(){this.getticketById()},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},download(){const t=this.$refs.content.innerHTML;var e=window.open("","","width=400,height=300");e.document.write(t),e.document.close(),e.focus(),e.print(),e.close()},getticketById(){console.log(this.$route.params.id),Z.get("tickets/getticketbyid/"+this.$route.params.id).then(t=>{this.ticket=t.data,this.listetickets=this.ticket["tickets"]}).then(t=>console.log(t))}}},Qe=Ye,Ve=(a("ee9e"),Object(l["a"])(Qe,He,Ge,!1,null,null,null)),We=Ve.exports,Je=a("7e85"),Ue=a("e516"),Ze=a("9c54"),Xe=a("56a4"),Ke=a("e0c7"),ta=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Edit Ticket")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/tickets"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(wt["a"],{attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.updateticket()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("div",[e(Je["a"],{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(Ze["a"],[e(Xe["a"],{attrs:{complete:t.e1>1,step:"1"}},[t._v(" Fiche Client ")]),e(H["a"]),e(Xe["a"],{attrs:{complete:t.e1>2,step:"2"}},[t._v(" Piéce de rechange ")])],1),e(Ze["b"],[e(Ue["a"],{attrs:{step:"1"}},[e(lt["a"],{staticClass:"mb-12",attrs:{height:"200px"}},[e(dt["a"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nameRules,counter:10,label:"Name",required:""},model:{value:t.ticket.name,callback:function(e){t.$set(t.ticket,"name",e)},expression:"ticket.name"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,counter:10,label:"Last Name",required:""},model:{value:t.ticket.prenom,callback:function(e){t.$set(t.ticket,"prenom",e)},expression:"ticket.prenom"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.ticket.email,callback:function(e){t.$set(t.ticket,"email",e)},expression:"ticket.email"}})],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(Ft["a"],{attrs:{rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.ticket.telephone,callback:function(e){t.$set(t.ticket,"telephone",e)},expression:"ticket.telephone"}})],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(Ft["a"],{attrs:{rules:t.adresseRules,label:"Adresse",required:""},model:{value:t.ticket.adresse,callback:function(e){t.$set(t.ticket,"adresse",e)},expression:"ticket.adresse"}})],1)],1)],1)],1),e("br"),e(b["a"],{attrs:{color:"primary"},on:{click:function(e){t.e1=2,t.updateclient(t.ticket.client_id)}}},[t._v(" Continue ")]),e("router-link",{attrs:{to:"/tickets"}},[e(b["a"],{attrs:{text:""}},[t._v(" Back ")])],1)],1),e(Ue["a"],{attrs:{step:"2"}},[e(lt["a"],{staticClass:"mb-12",attrs:{height:"1050px"}},[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],[e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Number ticket")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{label:"numero",rules:t.champRules,disabled:""},model:{value:t.ticket.numero,callback:function(e){t.$set(t.ticket,"numero",e)},expression:"ticket.numero"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Type client")])],1),e(F["a"],{attrs:{cols:"8"}},[e(pt["a"],{attrs:{outlined:"",label:"Type Revendeur",rules:t.champRules,items:t.ticket.typerevendeurs},model:{value:t.ticket.typerevendeur,callback:function(e){t.$set(t.ticket,"typerevendeur",e)},expression:"ticket.typerevendeur"}})],1),"Revendeur"==t.ticket.typerevendeur?e(V["a"],[e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Revendeur")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{label:"revendeur",rules:t.champRules},model:{value:t.ticket.revendeur,callback:function(e){t.$set(t.ticket,"revendeur",e)},expression:"ticket.revendeur"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Date Facture")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{type:"date",rules:t.champRules},model:{value:t.ticket.datefacture,callback:function(e){t.$set(t.ticket,"datefacture",e)},expression:"ticket.datefacture"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Numero facture")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.numerofacture,callback:function(e){t.$set(t.ticket,"numerofacture",e)},expression:"ticket.numerofacture"}})],1)],1):e(V["a"],[e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Client Final")])],1),e(F["a"],{attrs:{cols:"8"}},[e(pt["a"],{attrs:{items:t.revendeurs,label:"client final","item-text":t=>`${t.name} - ${t.prenom}`,"item-value":"name",rules:t.champRules,id:"clientfinale"},model:{value:t.ticket.revendeur,callback:function(e){t.$set(t.ticket,"revendeur",e)},expression:"ticket.revendeur"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Num serie /Num lot")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.numlotounumserie,callback:function(e){t.$set(t.ticket,"numlotounumserie",e)},expression:"ticket.numlotounumserie"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Product Type")])],1),e(F["a"],{attrs:{cols:"8"}},[e(pt["a"],{attrs:{items:t.ticket.typeproduits,rules:t.champRules,label:"Product Type","item-text":"produit","item-value":"produit"},model:{value:t.ticket.typeproduit,callback:function(e){t.$set(t.ticket,"typeproduit",e)},expression:"ticket.typeproduit"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Device brand")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.marqueappareil,callback:function(e){t.$set(t.ticket,"marqueappareil",e)},expression:"ticket.marqueappareil"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Device model Appareil")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.modeleappareil,callback:function(e){t.$set(t.ticket,"modeleappareil",e)},expression:"ticket.modeleappareil"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Delivery")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.livreur,callback:function(e){t.$set(t.ticket,"livreur",e)},expression:"ticket.livreur"}})],1),e(F["a"],{attrs:{cols:"4"}},[e(Ke["a"],[t._v("Représentant")])],1),e(F["a"],{attrs:{cols:"8"}},[e(Ft["a"],{attrs:{rules:t.champRules},model:{value:t.ticket.representant,callback:function(e){t.$set(t.ticket,"representant",e)},expression:"ticket.representant"}})],1)],1)],1)],1)],1),e("br"),e(b["a"],{attrs:{color:"primary",disabled:!t.valid},on:{click:function(e){return t.updateticket()}}},[t._v(" Add ")]),e(b["a"],{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v(" Cancel ")])],1)],1)],1)],1)])],1)],1)])},ea=[],aa=a("c1df"),sa=a.n(aa),ia={name:"Dashboard",components:{},data(){return{e1:"1",ticket:{revendeurs:[],typeproduits:["machine","autre"],typerevendeurs:["Client final","Revendeur"],valid:!1,name:"",nameRules:[t=>!!t||"nom est obligatoire",t=>t&&t.length<=20||"nom doit etre moin de 20 characters"],champRules:[t=>!!t||"champ est obligatoire"],prenom:"",prenomRules:[t=>!!t||"prenom est obligatoire",t=>t&&t.length<=20||"prenom must be less than 10 characters"],email:"",emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valid"],telephone:"",telephoneRules:[t=>!!t||"telephone est obligatoire",t=>t&&t.length<=8||"Name must be less than 8 characters"],adresse:"",adresseRules:[t=>!!t||"adresse est obligatoire"],numero:"",revendeur:"",client_id:"",datefacture:"",numerofacture:"",marqueappareil:"",modeleappareil:"",etat_garantie:"",typeproduit:"",typerevendeur:"",etat:"ouverte",datereception:new Date,statutaffectation:"non affecté",numlotounumserie:"",representant:"",livreur:""}}},created:function(){this.getTicketById(),this.getclientfinal(),this.gettypepr()},methods:{gettypepr(){Z.get("stocks/gettypepr").then(t=>{this.typeproduits=t.data}).then(t=>console.log(t))},getclientfinal(){Z.get("clients/getclients").then(t=>{this.revendeurs=t.data,this.revendeursold=t.data})},getTicketById(){Z.get("tickets/getrapportbyticket/"+this.$route.params.id).then(t=>{this.ticket.name=t.data.client_id["name"],this.ticket.prenom=t.data.client_id["prenom"],this.ticket.email=t.data.client_id["email"],this.ticket.telephone=t.data.client_id["telephone"],this.ticket.adresse=t.data.client_id["adresse"],this.ticket.numero=t.data.numero,this.ticket.typeproduit=t.data.typeproduit,this.ticket.revendeur=t.data.revendeur,this.ticket.datefacture=sa()(t.data.datefacture).format("YYYY-MM-DD"),this.ticket.numerofacture=t.data.numerofacture,this.ticket.marqueappareil=t.data.marqueappareil,this.ticket.modeleappareil=t.data.modeleappareil,this.ticket.etat_garantie=t.data.etat_garantie,this.ticket.etat=t.data.etat,this.ticket.numlotounumserie=t.data.numlotounumserie,this.ticket.livreur=t.data.livreur,this.ticket.representant=t.data.representant,this.ticket.typerevendeur=t.data.typerevendeur,this.ticket.client_id=t.data.client_id["_id"]},t=>{this.error=t.response.data.error})},updateclient(t){let e={name:this.ticket.name,prenom:this.ticket.prenom,email:this.ticket.email,telephone:this.ticket.telephone,adresse:this.ticket.adresse,_id:t};Z.put("clients/editclient",e).then(t=>{200===t.status&&console.log("client modifiéé")},t=>{this.error=t.response.data.error,console.log(this.error)})},updateticket(){let t="";t="Revendeur"==this.ticket.typerevendeur?this.ticket.datefacture:"";let e={name:this.ticket.name,prenom:this.ticket.prenom,email:this.ticket.email,telephone:this.ticket.telephone,adresse:this.ticket.adresse,numero:this.ticket.numero,revendeur:this.ticket.revendeur,datefacture:t,numerofacture:this.ticket.numerofacture,typeproduit:this.ticket.typeproduit,marqueappareil:this.ticket.marqueappareil,modeleappareil:this.ticket.modeleappareil,etat_garantie:this.ticket.etat_garantie,etat:this.ticket.etat,numlotounumserie:this.ticket.numlotounumserie,representant:this.ticket.representant,livreur:this.ticket.livreur,datereception:this.ticket.datereception,typerevendeur:this.ticket.typerevendeur,_id:this.$route.params.id};Z.put("tickets/updateticket",e).then(t=>{200===t.status&&(this.$toast.success("Ticket modifié!",{position:"top-right"}),this.$router.push("/tickets"))},t=>{this.error=t.response.data.error,console.log(this.error)})}}},ra=ia,na=(a("03dd"),Object(l["a"])(ra,ta,ea,!1,null,null,null)),oa=na.exports,la=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"container"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-30 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Reception sheet")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/tickets"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e("div",{staticClass:"card",attrs:{id:"invoiceholder"}},[e("div",{staticClass:"card-body"},[e("div",{attrs:{id:"invoice"}},[e("div",{staticClass:"toolbar hidden-print"},[e("hr")]),e("div",{staticClass:"invoice overflow-auto"},[e("div",{staticStyle:{"min-width":"600px"}},[e("header",[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("a",{attrs:{href:"javascript:;"}},[e("img",{attrs:{src:a("9209"),width:"80",alt:""}})])]),e("div",{staticClass:"col company-details"},[e("h2",{staticClass:"name"},[e("a",{attrs:{target:"_blank",href:"javascript:;"}},[t._v(" client ")])]),e("div",[t._v(" Tunisie, 54 rue du mercure Z.I ben arous 201 Ben Arous,"),e("br"),t._v(" Ben Arous Est, Ben Arous"),e("br")]),e("div",[t._v("+216 70 029 400")]),e("div",[t._v("client@support.tn")])])])]),e("main",[e("div",{staticClass:"row contacts"},[e("div",{staticClass:"col invoice-to"},[e("h2",{staticClass:"text-gray-light"},[t._v("Client détails")]),e("h2",{staticClass:"to"},[t._v(t._s(t.ticket.name)+" "+t._s(t.ticket.prenom))]),e("div",{staticClass:"address"},[t._v(t._s(t.ticket.adresse))]),e("div",{staticClass:"address"},[t._v("+216 "+t._s(t.ticket.telephone))]),e("div",{staticClass:"email"},[e("a",[t._v(t._s(t.ticket.email))])])]),e("div",{staticClass:"col invoice-details"},[e("h1",{staticClass:"invoice-id"},[t._v("Ticket "+t._s(t.ticket.numero))]),e("div",{staticClass:"date"},[t._v(" Date Réception: "+t._s(t._f("formatDate")(t.ticket.datereception))+" ")])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("#")]),e("th",{staticClass:"text-left"},[t._v("DESCRIPTION")]),e("th",{staticClass:"text-left"},[t._v("Value")])])]),e("tbody",[e("tr",[e("td",{staticClass:"no"},[t._v("01")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Type client : ")])]),e("td",{staticClass:"total"},[t._v(" "+t._s(t.ticket.typerevendeur)+" ")])]),"Client final"==t.ticket.typerevendeur?e("tr",[e("td",{staticClass:"no"},[t._v("02")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Name client final")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.revendeur))])]):t._e(),"Revendeur"==t.ticket.typerevendeur?e("tr",[e("td",{staticClass:"no"},[t._v("02")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Nom Revendeur")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.revendeur))])]):t._e(),"Revendeur"==t.ticket.typerevendeur?e("tr",[e("td",{staticClass:"no"},[t._v("03")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Numero facture")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.numerofacture))])]):t._e(),"Revendeur"==t.ticket.typerevendeur?e("tr",[e("td",{staticClass:"no"},[t._v("04")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Date facture")])]),e("td",{staticClass:"total"},[t._v(t._s(t._f("formatDate")(t.ticket.datefacture)))])]):t._e(),e("tr",[e("td",{staticClass:"no"},[t._v("05")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Product Type")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.typeproduit))])]),e("tr",[e("td",{staticClass:"no"},[t._v("06")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Device brand")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.marqueappareil))])]),e("tr",[e("td",{staticClass:"no"},[t._v("06")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Device model appareil")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.modeleappareil))])]),e("tr",[e("td",{staticClass:"no"},[t._v("07")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Num lot/ Num serie")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.numlotounumserie))])]),e("tr",[e("td",{staticClass:"no"},[t._v("08")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Représentant")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.representant))])]),e("tr",[e("td",{staticClass:"no"},[t._v("09")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Delivery")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.livreur))])]),e("tr",[e("td",{staticClass:"no"},[t._v("10")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Etat Ticket")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.etat))])]),e("tr",[e("td",{staticClass:"no"},[t._v("11")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Pannes Réclamés")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.pannesreclames))])]),e("tr",[e("td",{staticClass:"no"},[t._v("11")]),e("td",{staticClass:"text-left"},[e("h3",[t._v("Pannes Diagnosticés")])]),e("td",{staticClass:"total"},[t._v(t._s(t.ticket.diagnostics))])])]),e("tfoot")])]),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:"",center:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1),e("div")])])])])],1)])},ca=[],da=(a("8baf"),{name:"App",data(){return{ticket:{name:"",prenom:"",email:"",telephone:"",adresse:"",numero:"",revendeur:"",datefacture:"",numerofacture:"",marqueappareil:"",modeleappareil:"",etat_garantie:"",typeproduit:"",etat:"",datereception:"",numlotounumserie:"",statutaffectation:"",livreur:"",representant:"",typerevendeur:"",affectepar:"",pannesreclames:"",diagnostics:""}}},created(){this.getTicketById(),this.getpanneByticket()},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},download(){this.$htmlToPaper("app")},getTicketById(){Z.get("tickets/getrapportbyticket/"+this.$route.params.id).then(t=>{this.ticket.name=t.data.client_id["name"],this.ticket.prenom=t.data.client_id["prenom"],this.ticket.email=t.data.client_id["email"],this.ticket.telephone=t.data.client_id["telephone"],this.ticket.adresse=t.data.client_id["adresse"],this.ticket.numero=t.data.numero,this.ticket.typeproduit=t.data.typeproduit,this.ticket.revendeur=t.data.revendeur,this.ticket.datefacture=t.data.datefacture,this.ticket.numerofacture=t.data.numerofacture,this.ticket.marqueappareil=t.data.marqueappareil,this.ticket.modeleappareil=t.data.modeleappareil,this.ticket.etat_garantie=t.data.etat_garantie,this.ticket.etat=t.data.etat,this.ticket.datereception=sa()(t.data.datereception).format("YYYY-MM-DD"),this.ticket.statutaffectation=t.data.statutaffectation,this.ticket.livreur=t.data.livreur,this.ticket.representant=t.data.representant,this.ticket.typerevendeur=t.data.typerevendeur,this.ticket.etat=t.data.etat,this.ticket.affectepar=t.data.affectepar,this.ticket.numlotounumserie=t.data.numlotounumserie,this.ticket.pannesreclames=t.data.pannesreclames},t=>{this.error=t.response.data.error})},getpanneByticket(){Z.get("tickets/getdiagnosticbyticket/"+this.$route.params.id).then(t=>{this.ticket.diagnostics=t.data.pannes},t=>{this.error=t.response.data.error})}}}),ua=da,pa=(a("4225"),Object(l["a"])(ua,la,ca,!1,null,null,null)),ma=pa.exports,ha=a("71a3"),va=a("c671"),fa=a("fe57"),ga=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Stocks")]),e(yt["a"],{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h6 grey lighten-2"},[t._v(" Import Pieces de Rechanges ")]),e(ct["b"],[e("br"),e("br"),e("input",{ref:"file",staticClass:"input-file",attrs:{accept:"application/vnd.openxmlformats- \n                      officedocument.spreadsheetml.sheet, application/vnd.ms-excel",type:"file"},on:{change:t.uploadFile}})]),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"primary",text:""},on:{click:t.importpiece}},[t._v(" Valider ")])],1)],1)],1),e(q["a"],{attrs:{"offset-y":""}}),e(S["a"]),e(H["a"])],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(fa["a"],{staticClass:"pa-6 pb-0 light"},[e(ha["a"],{attrs:{href:"#tab-rechange"}},[t._v(" Piece de Rechange ")]),e(ha["a"],{attrs:{href:"#tab-piece"}},[t._v(" Piéce ")]),e(va["a"],{attrs:{value:"tab-rechange"}},[e(ct["b"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Recherche par produit","prepend-icon":"mdi-table-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(H["a"]),e(qt["a"],[[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Référence")]),e("th",{staticClass:"text-left"},[t._v("Libellé")]),e("th",{staticClass:"text-left"},[t._v("Produit")]),e("th",{staticClass:"text-left"},[t._v("Quantité")]),e("th",{staticClass:"text-left"},[t._v("Emplacement")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.searchFunction,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.reference))]),e("td",[t._v(t._s(a.marque))]),e("td",[t._v(t._s(a.produit))]),e("td",[t._v(t._s(a.quantite))]),e("td",{staticClass:"secondary--text"},[t._v(" "+t._s(a.emplacement_id["type"])+" ")]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"editstock",params:{id:a._id}}}},[t._v(" edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v("delete")])],1)]}}],null,!0),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete Piece de rechange? ")]),e(ct["b"],[t._v("are you sure you want to delete thiste Piece "+t._s(a.reference)+" ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){t.dialog1=!1,t.deletepiece(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]],2)],1),e(va["a"],{attrs:{value:"tab-piece"}},[e(ct["b"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Recherche par emplacement ","prepend-icon":"mdi-table-search"},model:{value:t.search1,callback:function(e){t.search1=e},expression:"search1"}})],1),e(H["a"]),e(qt["a"],[[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Référence")]),e("th",{staticClass:"text-left"},[t._v("Marque")]),e("th",{staticClass:"text-left"},[t._v("Emplacement")])])]),e("tbody",t._l(t.searchFunction1,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.reference))]),e("td",[t._v(t._s(a.marque))]),e("td",{staticClass:"secondary--text"},[t._v(" "+t._s(a.emplacement_id["type"])+" ")]),e("td",[e(q["a"])],1)])})),0)]],2)],1)],1)],1)],1)],1)],1)],1)])},ba=[],_a={name:"basicTables",data(){return{produits:[],piecesderechanges:[],search:"",search1:"",type:"",dialog:!1,dialog1:!1,typerevendeur:["Client final","Revendeur"],uploadfile:""}},mounted(){this.type},created(){this.getproduits(),this.getpiecesderechanges()},computed:{searchFunction(){return this.piecesderechanges.filter(t=>t.produit.toLowerCase().indexOf(this.search.toLowerCase())>-1)},searchFunction1(){return this.produits.filter(t=>t.emplacement_id.type.toLowerCase().indexOf(this.search1.toLowerCase())>-1)}},methods:{uploadFile(){this.uploadfile=this.$refs.file.files[0]},importpiece(){this.dialog=!1;const t=new FormData;t.append("file",this.uploadfile),Z.post("stocks/uploadfilepiece",t).then(t=>{200===t.status&&("error"===t.data.title?ye.a.fire({icon:"error",title:"Oops...",text:" Piece existe déjà!",footer:""}):(ye.a.fire({icon:"success",title:"file ajouté"}),this.getpiecesderechanges()))},t=>{this.error=t.response.data})},showrechanges(){document.body.getElementById("rechange").removeClass("active"),document.body.getElementById("pieces").removeClass("active"),this.type="rechange"},getproduits(){Z.get("stocks/getstocksproduits").then(t=>{this.produits=t.data}).then(t=>console.log(t))},getpiecesderechanges(){Z.get("stocks/getstockspr").then(t=>{this.piecesderechanges=t.data,console.log(this.piecesderechanges)}).then(t=>console.log(t))},deletepiece(t){Z.delete("stocks/deletepiece/"+t).then(t=>{console.log(t),this.$toast.success("Piece supprimé!",{position:"top-right"}),this.$router.push("/stocks"),location.reload()})},downloadCSVData(){let t="reference,marque,emplacement_id,type,quantite\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structurestocks.csv",e.click()}}},ka=_a,xa=Object(l["a"])(ka,ga,ba,!1,null,null,null),Ca=xa.exports,ya=function(){var t=this,e=t._self._c;return e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-2",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Piece de rechange")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/stocks"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(lt["a"],{staticClass:"pa-4 pb-6",attrs:{width:"100%"}},[e(V["a"],{staticClass:"mb-12"},[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.libelleRules,counter:20,label:"Libelle",required:""},model:{value:t.demande.marque,callback:function(e){t.$set(t.demande,"marque",e)},expression:"demande.marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.referenceRules,counter:20,label:"reference",required:""},model:{value:t.demande.produit,callback:function(e){t.$set(t.demande,"produit",e)},expression:"demande.produit"}})],1),e(F["a"],{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,"item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.quantiteRules,label:"Quantite",type:"number",required:""},model:{value:t.quantite,callback:function(e){t.quantite=e},expression:"quantite"}})],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(Ft["a"],{attrs:{rules:t.produitRules,counter:15,label:"produit",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1),e(F["a"],{attrs:{cols:"12",md:"4",hidden:""}},[e(Ft["a"],{attrs:{label:"reference",hidden:""},model:{value:t.demande.ticket_id,callback:function(e){t.$set(t.demande,"ticket_id",e)},expression:"demande.ticket_id"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"8"}},[e(b["a"],{attrs:{color:"primary",disabled:0==t.valid},on:{click:t.addpr}},[t._v(" Add ")]),t._v("   "),e("router-link",{attrs:{to:"/demandes"}},[e(b["a"],[t._v(" Back ")])],1)],1)],1)],1)],1)},wa=[],qa={data(){return{demande:{},emplacements:[],valid:!1,libelle:"",reference:"",quantite:"",emplacement_id:"",ticket_id:"",produit:"",type:"piece de rechange",libelleRules:[t=>!!t||"Libelle est obligatoire",t=>t.length<=20||"Libelle must be less than 20 characters"],referenceRules:[t=>!!t||"reference est obligatoire",t=>t.length<=20||"reference must be less than 20 characters"],quantiteRules:[t=>!!t||"quantite est obligatoire",t=>t<=this.emplacement_id.capaciterestante||"quantite doit etre inferieur à l'emplacement"],typeRules:[t=>!!t||"type est obligatoire"],produitRules:[t=>!!t||"produit est obligatoire"]}},created(){this.getemplacements(),this.getdemandeById()},methods:{getdemandeById(){Z.get("demandestock/getdemandebyid/"+this.$route.params.id).then(t=>{this.demande=t.data,console.log(this.demande)}).then(t=>console.log(t))},getemplacements(){Z.get("stocks/getemplacementsstockage").then(t=>{console.log(t.data),this.emplacements=t.data}).then(t=>console.log(t))},addpr(){let t={libelle:this.demande.marque,reference:this.demande.produit,produit:this.produit,quantite:this.quantite,type:"piece de rechange",emplacement_id:this.emplacement_id,demande:this.demande._id,ticket_id:this.demande.ticket_id};console.log(t),Z.post("stocks/addprdemande",t).then(t=>{console.log(t.data),this.$toast.success("Piece de rechange ajouté!",{position:"top-right"}),this.$router.push("/demandes")})}}},Sa=qa,Ba=(a("0f9f"),Object(l["a"])(Sa,ya,wa,!1,null,null,null)),Ra=Ba.exports,Ea=function(){var t=this,e=t._self._c;return e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-2",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Piece de rechange")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/stocks"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(lt["a"],{staticClass:"pa-4 pb-6",attrs:{width:"100%"}},[e(V["a"],{staticClass:"mb-12"},[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.libelleRules,counter:20,label:"Libelle *",required:""},model:{value:t.libelle,callback:function(e){t.libelle=e},expression:"libelle"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:[t=>!!t||"reference est obligatoire",t.existingreference],messages:t.referenceMessage,counter:20,label:"reference *",required:""},on:{keyup:function(e){return t.referenceExists(t.reference)}},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[e(pt["a"],{attrs:{label:"Emplacement *",items:t.emplacements,"item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Prix unitaire *",type:"number",rules:t.prixunitRules,required:""},model:{value:t.prixunit,callback:function(e){t.prixunit=e},expression:"prixunit"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.quantiteRules,label:"Quantite *",type:"number",required:""},model:{value:t.quantite,callback:function(e){t.quantite=e},expression:"quantite"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.produitRules,counter:15,label:"produit *",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"8"}},[e(b["a"],{attrs:{color:"primary",disabled:0==t.valid},on:{click:t.addpr}},[t._v(" Add ")]),t._v("   "),e("router-link",{attrs:{to:"/stocks"}},[e(b["a"],[t._v(" Back ")])],1)],1)],1)],1)],1)},ja=[],Aa={data(){return{demande:{},prixunit:"",emplacements:[],valid:!1,libelle:"",reference:"",quantite:"",emplacement_id:"",produit:"",type:"piece de rechange",libelleRules:[t=>!!t||"Libelle est obligatoire",t=>t.length<=20||"Libelle must be less than 20 characters"],referenceRules:[t=>!!t||"reference est obligatoire",t=>t.length<=20||"reference must be less than 20 characters"],existingreference:()=>!0,referenceMessage:"",quantiteRules:[t=>!!t||"quantite est obligatoire",t=>t<=this.emplacement_id.capaciterestante||"quantité doit etre inferieur au emplacement"],prixunitRules:[t=>!!t||"prix unitaire est obligatoire"],typeRules:[t=>!!t||"type est obligatoire"],produitRules:[t=>!!t||"produit est obligatoire"]}},created(){this.getemplacements()},methods:{referenceExists(t){""!==t&&Z.get("stocks/getreference/"+t).then(t=>{console.log(t.data),"reference existe"==t.data?(console.log(t.data),this.referenceMessage=t.data,this.existingreference=!1):(this.referenceMessage="",this.existingreference=!0)}).catch(t=>{console.log(t)})},getemplacements(){Z.get("stocks/getemplacementsstockage").then(t=>{console.log(t.data),this.emplacements=t.data}).then(t=>console.log(t))},addpr(){let t={prixunit:this.prixunit,libelle:this.libelle,reference:this.reference,produit:this.produit,quantite:this.quantite,type:"piece de rechange",emplacement_id:this.emplacement_id};console.log(t),Z.post("stocks/addpr",t).then(t=>{console.log(t.data),this.$toast.success("Piece de rechange ajouté!",{position:"top-right"}),this.$router.push("/stocks")})}}},Ta=Aa,Ia=Object(l["a"])(Ta,Ea,ja,!1,null,null,null),Oa=Ia.exports,Pa=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Edit spare part ")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/users"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.champRules,label:"Libelle",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.champRules,label:"reference",required:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,"item-text":"nom","item-value":"_id",rules:t.champRules,"return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:8,rules:t.champRules,label:"Prix unitaire",required:""},model:{value:t.prixunit,callback:function(e){t.prixunit=e},expression:"prixunit"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.quantiteRules,label:"Quantité",type:"number",required:""},model:{value:t.quantite,callback:function(e){t.quantite=e},expression:"quantite"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.champRules,label:"produit",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.update}},[t._v(" edit ")])],1)],1)])],1)])},La=[],Da={data(){return{select:"",valid:!0,name:"",champRules:[t=>!!t||"Ce champ est obligatoire"],marque:"",reference:"",emplacement_id:"",prixunit:"",quantite:"",produit:"",quantitedem:"",quantiteRules:[t=>!!t||"quantite est obligatoire",t=>t<=this.emplacement_id.capaciterestante+this.quantitedem||"quantite doit etre inferieur à l'emplacement"]}},created:function(){this.getprById(),this.getemplacements()},methods:{getemplacements(){Z.get("stocks/getemplacementsstockage").then(t=>{console.log(t.data),this.emplacements=t.data}).then(t=>console.log(t))},getprById(){Z.get("stocks/getprbyid/"+this.$route.params.id).then(t=>{this.marque=t.data.marque,this.reference=t.data.reference,this.emplacement_id=t.data.emplacement_id,this.prixunit=t.data.prixunit,this.quantite=t.data.quantite,this.produit=t.data.produit,this.quantitedem=t.data.quantite},t=>{this.error=t.response.data.error})},update(){if(this.$refs.form.validate()){this.snackbar=!0;let t={marque:this.marque,reference:this.reference,emplacement_id:this.emplacement_id,prixunit:this.prixunit,quantite:this.quantite,produit:this.produit,id:this.$route.params.id};Z.put("stocks/editpr",t).then(()=>{this.$toast.success("piece de rechange modifié!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/stocks")})}}}},$a=Da,za=Object(l["a"])($a,Pa,La,!1,null,null,null),Ma=za.exports,Na=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("demandes stocks")]),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des demandes")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("utilisateur")]),e("th",{staticClass:"text-left"},[t._v("quantité")]),e("th",{staticClass:"text-left"},[t._v("reference piece")]),e("th",{staticClass:"text-left"},[t._v("marque piece")]),e("th",{staticClass:"text-left"},[t._v("Date ")]),e("th",{staticClass:"text-left"},[t._v("statut")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.demandes,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.user_id["name"]))]),e("td",[t._v(t._s(a.quantite))]),e("td",[t._v(t._s(a.produit))]),e("td",[t._v(t._s(a.marque))]),e("td",[t._v(t._s(t._f("formatDate")(a.created_at)))]),"en cours"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" En cours ")])],1):"traité"===a.etat?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Traité ")])],1):t._e(),e("td",[e("router-link",{attrs:{disabled:"traité"===a.etat,to:{name:"addstock",params:{id:a._id}}}},[e(b["a"],{staticClass:"ma-9",attrs:{disabled:"traité"===a.etat,color:"red",dark:""}},[e(_["a"],{attrs:{dark:""}},[t._v(" mdi-wrench-check-outline ")])],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Fa=[],Ha={data(){return{demandes:[]}},computed:{searchFunction(){return this.demandes.filter(t=>t.etat.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getdemandes()},methods:{getdemandes(){Z.get("demandestock/getdemandes").then(t=>{this.demandes=t.data,console.log(this.demandes)}).then(t=>console.log(t))}}},Ga=Ha,Ya=Object(l["a"])(Ga,Na,Fa,!1,null,null,null),Qa=Ya.exports,Va=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("emplacements")]),e("br"),e("br"),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addemplacement"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Emplacement")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(ct["b"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Recherche emplacement","prepend-icon":"mdi-database-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(H["a"]),e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des emplacements")]),e("br"),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("code")]),e("th",{staticClass:"text-left"},[t._v("Nom")]),e("th",{staticClass:"text-left"},[t._v("Type")]),e("th",{staticClass:"text-left"},[t._v("produits")]),e("th",{staticClass:"text-left"},[t._v("capacité")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.searchFunction,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.code))]),e("td",[t._v(t._s(a.nom))]),e("td",[t._v(" "+t._s(a.type)+" ")]),e("td",[e("router-link",{attrs:{to:{name:"detailsproduits",params:{id:a._id}}}},[e(_["a"],{attrs:{color:"#2382bf"}},[t._v(" mdi-eye ")])],1)],1),e("td",[t._v(t._s(a.capacite))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"editemplacement",params:{id:a._id}}}},[t._v(" Edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete Emplacement? ")]),e(ct["b"],[t._v("are you sure you want to delete this emplacement ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deletemplacement(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Wa=[],Ja={data(){return{emplacements:[],search:"",dialog:!1}},computed:{searchFunction(){return this.emplacements.filter(t=>t.type.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getemplacements()},methods:{getemplacements(){Z.get("emplacements/getemplacements").then(t=>{this.emplacements=t.data}).then(t=>console.log(t))},deletemplacement(t){Z.delete("emplacements/deletemplacement/"+t).then(t=>{console.log(t),this.$toast.success("Emplacement supprimé!",{position:"top-right",timeout:1e3}),location.reload()})}}},Ua=Ja,Za=Object(l["a"])(Ua,Va,Wa,!1,null,null,null),Xa=Za.exports,Ka=function(){var t=this,e=t._self._c;return e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Emplacement")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/emplacements"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(lt["a"],{staticClass:"pa-4 pb-6",attrs:{width:"100%"}},[e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],{staticClass:"mb-12"},[e(F["a"],{attrs:{cols:"6",md:"6"}},[e(Ft["a"],{attrs:{rules:t.nameRules,counter:10,label:"Name",required:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}})],1),e(F["a"],{attrs:{cols:"6",md:"6"}},[e(Ft["a"],{attrs:{rules:[t=>!!t||"ce champ est obligatoire",t.existingcode],messages:t.codeMessage,counter:10,label:"Code",required:""},on:{keyup:function(e){return t.codeExists(t.code)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),e(F["a"],{staticClass:"d-flex",attrs:{cols:"6",md:"6"}},[e(pt["a"],{attrs:{items:t.items,label:"Type",rules:t.nameRules},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),e(F["a"],{attrs:{cols:"6",md:"6"}},[e(Ft["a"],{attrs:{rules:t.nameRules,counter:10,label:"Capacite",type:"number",required:""},model:{value:t.capacite,callback:function(e){t.capacite=e},expression:"capacite"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"8"}},[e(b["a"],{attrs:{color:"primary",disabled:0==t.valid},on:{click:t.addemplacement}},[t._v(" A ")]),t._v("   "),e(b["a"],[t._v(" Back ")])],1)],1)],1)],1)},ts=[],es={data(){return{items:["Réception","Préparation","Stockage"],valid:!1,nom:"",code:"",type:"",capacite:"",produit:"",nameRules:[t=>!!t||"ce champ est obligatoire"],existingcode:()=>!0,codeMessage:"",email:"",quantiteRules:[t=>!!t||"E-mail is required"]}},methods:{codeExists(t){""!==t&&Z.get("emplacements/getcode/"+t).then(t=>{console.log(t.data),"code existe"==t.data?(console.log(t.data),this.codeMessage=t.data,this.existingcode=!1):(this.codeMessage="",this.existingcode=!0)}).catch(t=>{console.log(t)})},addemplacement(){let t={nom:this.nom,code:this.code,produit:null,capacite:this.capacite,type:this.type};console.log(t),Z.post("emplacements/addemplacement",t).then(t=>{console.log(t.data),this.$toast.success("Emplacement ajouté!",{position:"top-right"}),this.$router.push("/emplacements")})}}},as=es,ss=Object(l["a"])(as,Ka,ts,!1,null,null,null),is=ss.exports,rs=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h6",{staticClass:"page-title"},[t._v("Detail Emplacement")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/emplacements"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],{staticClass:"mb-2"},[e(lt["a"],{staticClass:"d-flex flex-row mx-3",attrs:{width:"100%"}},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{lg:"3",cols:"12"}},[e(ct["c"],{staticClass:"pa-2 pb-4"},[e(_["a"],[t._v(" mdi-server")]),t._v("   "),e("b",{staticClass:"info--text"},[t._v(t._s(t.emplacement.nom))]),t._v("   "),e("p",[t._v(t._s(t.emplacement.code))]),e("br"),t._v(" "),e("br")],1),e(ct["b"],{staticClass:"pa-10 pt-10"},[e("h3",[t._v("    TYPE")]),e("div",{staticClass:"location-selector"},[e("div",{staticClass:"text-position"},[e("h3",{staticClass:"info--text"},[t._v("  "+t._s(t.emplacement.type))])])])])],1),e(F["a"],{attrs:{lg:"3",cols:"12"}},[e(ct["c"],{staticClass:"pa-2 pb-14"}),e(ct["b"],{staticClass:"pa-6 pt-16"},[e("h3",[t._v("       Capacité")]),e(V["a"],{staticClass:"action-buttons pb-4",attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("h3",{staticClass:"secondary--text"},[t._v("          "+t._s(t.emplacement.capacite))])])],1)],1)],1),e(F["a"],{attrs:{lg:"3",cols:"12"}},[e(ct["c"],{staticClass:"pa-2 pb-14"}),e(ct["b"],{staticClass:"pa-4 pt-16"},[e("h3",[t._v("  Nombre de produit")]),e(V["a"],{staticClass:"action-buttons pb-4",attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("h3",{staticClass:"primary--text"},[t._v("         "+t._s(t.emplacement.produits.length))])])],1)],1)],1),e(F["a"],{attrs:{lg:"3",cols:"12"}},[e(ct["c"],{staticClass:"pa-2 pb-14"}),e(ct["b"],{staticClass:"pa-6 pt-16"},[e("h3",[t._v("      Capacité Restante")]),e(V["a"],{staticClass:"action-buttons pb-4",attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("h3",{staticClass:"primary--text"},[t._v("             "+t._s(t.emplacement.capaciterestante))])])],1)],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"mb-1"},[e(ct["c"],{staticClass:"pa-8 pb-8"},[e("h3",{staticClass:"secondary--text"},[t._v("Liste des produits")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a))]}}])})],1),e(qt["a"],{staticClass:"pa-12 pb-1",scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Reference")]),e("th",{staticClass:"text-left"},[t._v("Marque")])])]),e("tbody",t._l(t.emplacement.produits,(function(a){return e("tr",{key:a},[e("td",{staticClass:"text-left"},[t._v(t._s(a.modele))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.marque))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)],1)],1)])},ns=[],os={data(){return{emplacement:{}}},created:function(){this.getemplacementbyid()},methods:{getemplacementbyid(){Z.get("emplacements/getemplacementbyid/"+this.$route.params.id).then(t=>{this.emplacement=t.data,console.log(this.emplacement)}).then(t=>console.log(t))}}},ls=os,cs=(a("39ed"),Object(l["a"])(ls,rs,ns,!1,null,null,null)),ds=cs.exports,us=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v(" Edit piece de rechange ")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/users"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.champRules,label:"Name",required:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.champRules,label:"code",required:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(pt["a"],{attrs:{label:"Type",items:t.items,rules:t.champRules,"return-object":""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:8,rules:t.champRules,label:"capacite",required:""},model:{value:t.capacite,callback:function(e){t.capacite=e},expression:"capacite"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.update}},[t._v(" Edit ")])],1)],1)])],1)])},ps=[],ms={data:()=>({select:"",valid:!0,champRules:[t=>!!t||"Ce champ est obligatoire"],items:["Réception","Préparation","Stockage"],type:"",capacite:"",code:"",nom:""}),created:function(){this.getemplacementbyid(),this.getemplacements()},methods:{getemplacementbyid(){Z.get("emplacements/getemplacementbyid/"+this.$route.params.id).then(t=>{this.type=t.data.type,this.nom=t.data.nom,this.capacite=t.data.capacite,this.code=t.data.code},t=>{this.error=t.response.data.error})},update(){if(this.$refs.form.validate()){this.snackbar=!0;let t={type:this.type,nom:this.nom,capacite:this.capacite,code:this.code,id:this.$route.params.id};Z.put("emplacements/editemplacement",t).then(()=>{this.$toast.success("emplacement modifié!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/emplacements")})}}}},hs=ms,vs=Object(l["a"])(hs,us,ps,!1,null,null,null),fs=vs.exports,gs=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("clients")]),e("br"),e("br"),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addclient"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add client")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(ct["b"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Search client","prepend-icon":"mdi-database-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(H["a"]),e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste of clients")]),e("br"),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Code")]),e("th",{staticClass:"text-left pa-6"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Adress")]),e("th",{staticClass:"text-left"},[t._v("Phone")]),e("th",{staticClass:"text-left"},[t._v("email")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.clients,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.code))]),e("td",{staticClass:"pa-6"},[t._v(t._s(a.name)+" "+t._s(a.prenom))]),e("td",[t._v(" "+t._s(a.adresse)+" ")]),e("td",[t._v(t._s(a.telephone))]),e("td",[t._v(t._s(a.email))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"updateclient",params:{id:a._id}}}},[t._v(" Edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete client? ")]),e(ct["b"],[t._v("are you sure you want to delete this client ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deletclient(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},bs=[],_s={data(){return{clients:[],dialog:!1,dialog1:!1,uploadfile:"",error:""}},created(){this.getclients()},methods:{getclients(){Z.get("clients/getclients").then(t=>{this.clients=t.data,console.log(this.clients)}).then(t=>console.log(t))},uploadFile(){this.uploadfile=this.$refs.file.files[0]},importclient(){this.dialog=!1;const t=new FormData;t.append("file",this.uploadfile),Z.post("clients/uploadfile",t).then(t=>{200===t.status&&("error"===t.data.title?ye.a.fire({icon:"error",title:"Oops...",text:" Client existe déjà!",footer:""}):(ye.a.fire({icon:"success",title:"file ajouté"}),this.getclients()))},t=>{this.error=t.response.data})},downloadCSVData(){let t="name,prenom,email,code,telephone,adresse\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structureclient.csv",e.click()},deletclient(t){Z.delete("clients/deleteclient/"+t).then(t=>{console.log(t),this.$toast.success("Client supprimé!",{position:"top-right"}),location.reload()})}}},ks=_s,xs=(a("52de"),Object(l["a"])(ks,gs,bs,!1,null,null,null)),Cs=xs.exports,ys=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Client")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/clients"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:20,rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:20,rules:t.prenomRules,label:"Last Name",required:""},model:{value:t.prenom,callback:function(e){t.prenom=e},expression:"prenom"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{required:"",rules:[t=>/.+@.+/.test(t)||"E-mail doit etre valid",t.existingMail],messages:t.mailMessage,label:"E-mail"},on:{keyup:function(e){return t.emailExists(t.email)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"6",md:"6"}},[e(Ft["a"],{attrs:{counter:8,rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),e(F["a"],{attrs:{cols:"6",md:"6"}},[e(Ft["a"],{attrs:{counter:20,rules:t.adresseRules,label:"adresse",required:""},model:{value:t.adresse,callback:function(e){t.adresse=e},expression:"adresse"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Add ")])],1)],1)])],1)])},ws=[],qs={data:()=>({valid:!0,name:"",nameRules:[t=>!!t||"Name est obligatoire"],prenom:"",prenomRules:[t=>!!t||"prenom est obligatoire"],email:"",emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valid"],existingMail:()=>!0,mailMessage:"",telephone:"",telephoneRules:[t=>!!t||"telephone est obligatoire",t=>t&&t.length<=8||"telephone doit avoir 8 characters"],adresse:"",adresseRules:[t=>!!t||"adresse est obligatoire"]}),methods:{emailExists(t){""!==t&&Z.get("clients/getemail/"+t).then(t=>{console.log(t.data),"adresse mail existe"==t.data?(console.log(t.data),this.mailMessage=t.data,this.existingMail=!1):(this.mailMessage="",this.existingMail=!0)}).catch(t=>{console.log(t)})},validate(){if(this.$refs.form.validate()){this.snackbar=!0;let t={email:this.email,name:this.name,telephone:this.telephone,adresse:this.adresse,prenom:this.prenom};Z.post("clients/addclient",t).then(()=>{this.$toast.success("Client ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/clients")})}}}},Ss=qs,Bs=Object(l["a"])(Ss,ys,ws,!1,null,null,null),Rs=Bs.exports,Es=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Edit Client")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/clients"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,label:"Last Name",required:""},model:{value:t.prenom,callback:function(e){t.prenom=e},expression:"prenom"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:8,rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.adresseRules,label:"adresse",required:""},model:{value:t.adresse,callback:function(e){t.adresse=e},expression:"adresse"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.update}},[t._v(" Edit ")])],1)],1)])],1)])},js=[],As={data:()=>({select:"",valid:!0,name:"",nameRules:[t=>!!t||"Name est obligatoire"],prenom:"",prenomRules:[t=>!!t||"prenom est obligatoire"],role:"",roleRules:[t=>!!t||"Role est obligatoire"],email:"",emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valide"],telephone:"",telephoneRules:[t=>!!t||"telephone est obligatoire",t=>t&&t.length<=20||"Name must be less than 8 characters"],adresse:"",adresseRules:[t=>!!t||"adresse est obligatoire"],rules:{required:t=>!!t||"Required.",min:t=>t.length>=8||"Min 8 characters"}}),created:function(){this.getclientById()},methods:{getclientById(){Z.get("clients/getclientbyid/"+this.$route.params.id).then(t=>{this.email=t.data.email,this.name=t.data.name,this.prenom=t.data.prenom,this.adresse=t.data.adresse,this.telephone=t.data.telephone},t=>{this.error=t.response.data.error})},update(){if(this.$refs.form.validate()){this.snackbar=!0;let t={email:this.email,name:this.name,prenom:this.prenom,telephone:this.telephone,adresse:this.adresse,id:this.$route.params.id};Z.put("clients/editclient",t).then(()=>{this.$toast.success("Client ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/clients")})}}}},Ts=As,Is=Object(l["a"])(Ts,Es,js,!1,null,null,null),Os=Is.exports,Ps=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Pannes")]),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e("br"),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des pannes")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Categorie")]),e("th",{staticClass:"text-left"},[t._v("Article")]),e("th",{staticClass:"text-left"},[t._v("Description")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.pannes,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.groupe))]),e("td",[t._v(t._s(a.article))]),e("td",[t._v(t._s(a.name))]),e("td",[e(b["a"],{staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.deletepanne(a._id)}}},[t._v(" delete "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Ls=[],Ds={data(){return{pannes:[],dialog:!1,categorie:"",name:"",article:"",categories:["Gros électroménager","Petit électroménager","Entretien maison","Bricolage","Jardin"],articles:[{name:"Lave linge",groupe:"Gros électroménager"},{name:"Lave-vaisselle",groupe:"Gros électroménager"},{name:"Cuisinière",groupe:"Gros électroménager"},{name:"Congélateur",groupe:"Gros électroménager"},{name:"Réfrigérateur",groupe:"Gros électroménager"},{name:"four",groupe:"Gros électroménager"},{name:"Cafetière",groupe:"Petit électroménager"},{name:"Batteur électrique",groupe:"Petit électroménager"},{name:"Grille-pain",groupe:"Petit électroménager"},{name:"Robot cuiseur",groupe:"Petit électroménager"},{name:"Gaufrier",groupe:"Petit électroménager"},{name:"Cafetière",groupe:"Petit électroménager"},{name:"Aspirateur avec sac",groupe:"Entretien maison"},{name:"Aspirateur sans sac",groupe:"Entretien maison"},{name:"Dracula",groupe:"Entretien maison"},{name:"Radiateur à inertie",groupe:"Entretien maison"},{name:"Radiateur",groupe:"Entretien maison"},{name:"Perceuse-visseuse",groupe:"Bricolage"},{name:"Perceuse",groupe:"Bricolage"},{name:"Scie circulaire",groupe:"Bricolage"},{name:"Tournevis électrique",groupe:"Bricolage"},{name:"Meuleuse",groupe:"Bricolage"},{name:"Nettoyeur à haute pression",groupe:"Jardin"},{name:"Tondeuse à gazon électrique",groupe:"Jardin"},{name:"motoculteur",groupe:"Jardin"},{name:"Tronçonneuse",groupe:"Jardin"}],articlesold:[{name:"Lave linge",groupe:"Gros électroménager"},{name:"Lave-vaisselle",groupe:"Gros électroménager"},{name:"Cuisinière",groupe:"Gros électroménager"},{name:"Congélateur",groupe:"Gros électroménager"},{name:"Réfrigérateur",groupe:"Gros électroménager"},{name:"four",groupe:"Gros électroménager"},{name:"Cafetière",groupe:"Petit électroménager"},{name:"Batteur électrique",groupe:"Petit électroménager"},{name:"Grille-pain",groupe:"Petit électroménager"},{name:"Robot cuiseur",groupe:"Petit électroménager"},{name:"Gaufrier",groupe:"Petit électroménager"},{name:"Cafetière",groupe:"Petit électroménager"},{name:"Aspirateur avec sac",groupe:"Entretien maison"},{name:"Aspirateur sans sac",groupe:"Entretien maison"},{name:"Dracula",groupe:"Entretien maison"},{name:"Radiateur à inertie",groupe:"Entretien maison"},{name:"Radiateur",groupe:"Entretien maison"},{name:"Perceuse-visseuse",groupe:"Bricolage"},{name:"Perceuse",groupe:"Bricolage"},{name:"Scie circulaire",groupe:"Bricolage"},{name:"Tournevis électrique",groupe:"Bricolage"},{name:"Meuleuse",groupe:"Bricolage"},{name:"Nettoyeur à haute pression",groupe:"Jardin"},{name:"Tondeuse à gazon électrique",groupe:"Jardin"},{name:"motoculteur",groupe:"Jardin"},{name:"Tronçonneuse",groupe:"Jardin"}],names:[{name:"Allumage Démarrage",groupe:"Lave linge"},{name:"Fuite d’eau",groupe:"Lave linge"},{name:"Bruit anormal",groupe:"Lave linge"},{name:"Problème d’essorage",groupe:"Lave linge"},{name:"Pas de vidange",groupe:"Lave linge"},{name:"lave-vaisselle ne prend pas l’eau",groupe:"Lave-vaisselle"},{name:"lave-vaisselle fuit",groupe:"Lave-vaisselle"},{name:" lave-vaisselle ne sèche plus",groupe:"Lave-vaisselle"},{name:"lave-vaisselle ne vidange plus",groupe:"Lave-vaisselle"},{name:"lave-vaisselle laisse des traces blanches",groupe:"Lave-vaisselle"},{name:"congélateur fuit",groupe:"Congélateur"},{name:"congélateur fait beaucoup de glace",groupe:"Congélateur"},{name:"congélateur ne fonctionne plus",groupe:"Congélateur"},{name:"congélateur fait du bruit ",groupe:"Congélateur"},{name:"congélateur givre",groupe:"Congélateur"},{name:"ni les feux ni le four de la cuisinière ne s’allument",groupe:"Cuisinière"},{name:"le four de cuisinière ne fonctionne plus",groupe:"Cuisinière"},{name:"les flammes de cuisinière sont trop fortes",groupe:"Cuisinière"},{name:"les flammes de  cuisinière sont trop petites",groupe:"Cuisinière"},{name:"cuisinière noircit les casseroles",groupe:"Cuisinière"},{name:"réfrigérateur givre",groupe:"Réfrigérateur"},{name:"réfrigérateur coule",groupe:"Réfrigérateur"},{name:"réfrigérateur fait du bruit",groupe:"Réfrigérateur"},{name:"réfrigérateur ne refroidit plus",groupe:"Réfrigérateur"},{name:"réfrigérateur fait de l’eau",groupe:"Réfrigérateur"},{name:"four rouillee",groupe:"four"},{name:"four fume",groupe:"four"},{name:"four ne chauffe plus",groupe:"four"},{name:"four s’éteint tout seul",groupe:"four"},{name:"four fait du bruit",groupe:"four"}],namesold:[{name:"Allumage Démarrage",groupe:"Lave linge"},{name:"Fuite d’eau",groupe:"Lave linge"},{name:"Bruit anormal",groupe:"Lave linge"},{name:"Problème d’essorage",groupe:"Lave linge"},{name:"Pas de vidange",groupe:"Lave linge"},{name:"lave-vaisselle ne prend pas l’eau",groupe:"Lave-vaisselle"},{name:"lave-vaisselle fuit",groupe:"Lave-vaisselle"},{name:" lave-vaisselle ne sèche plus",groupe:"Lave-vaisselle"},{name:"lave-vaisselle ne vidange plus",groupe:"Lave-vaisselle"},{name:"lave-vaisselle laisse des traces blanches",groupe:"Lave-vaisselle"},{name:"congélateur fuit",groupe:"Congélateur"},{name:"congélateur fait beaucoup de glace",groupe:"Congélateur"},{name:"congélateur ne fonctionne plus",groupe:"Congélateur"},{name:"congélateur fait du bruit ",groupe:"Congélateur"},{name:"congélateur givre",groupe:"Congélateur"},{name:"ni les feux ni le four de la cuisinière ne s’allument",groupe:"Cuisinière"},{name:"le four de cuisinière ne fonctionne plus",groupe:"Cuisinière"},{name:"les flammes de cuisinière sont trop fortes",groupe:"Cuisinière"},{name:"les flammes de  cuisinière sont trop petites",groupe:"Cuisinière"},{name:"cuisinière noircit les casseroles",groupe:"Cuisinière"},{name:"réfrigérateur givre",groupe:"Réfrigérateur"},{name:"réfrigérateur coule",groupe:"Réfrigérateur"},{name:"réfrigérateur fait du bruit",groupe:"Réfrigérateur"},{name:"réfrigérateur ne refroidit plus",groupe:"Réfrigérateur"},{name:"réfrigérateur fait de l’eau",groupe:"Réfrigérateur"},{name:"four rouillee",groupe:"four"},{name:"four fume",groupe:"four"},{name:"four ne chauffe plus",groupe:"four"},{name:"four s’éteint tout seul",groupe:"four"},{name:"four fait du bruit",groupe:"four"}]}},computed:{searchFunction(){return this.pannes.filter(t=>t.numero.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},watch:{categorie:function(t){if(t){this.articles=this.articlesold;let e=this.articles.filter(e=>e.groupe==t);this.articles=e}},article:function(t){if(t){this.names=this.namesold;let e=this.names.filter(e=>e.groupe==t.name);this.names=e}}},created(){this.getpannes()},methods:{getpannes(){Z.get("pannes/getpannes").then(t=>{this.pannes=t.data}).then(t=>console.log(t))},deletepanne(t){Z.delete("pannes/deletepanne/"+t).then(t=>{console.log(t),this.$toast.success("Panne supprimé!",{position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.getpannes()})},addpanne(){let t={name:this.name.name,categorie:this.categorie,article:this.article.name};Z.post("pannes/addpanne",t).then(t=>{200===t.status&&(this.$toast.success("Panne ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.dialog=!1,this.getpannes(),this.categorie="",this.name="",this.article="")},t=>{console.log(t)})}}},$s=Ds,zs=(a("9fd2"),Object(l["a"])($s,Ps,Ls,!1,null,null,null)),Ms=zs.exports,Ns=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Panne")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/pannes"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1)],1),e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e(wt["a"],{ref:"form",staticStyle:{width:"800px"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(Ft["a"],{attrs:{counter:10,rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e(Ft["a"],{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(pt["a"],{attrs:{items:t.items,rules:[t=>!!t||"Item is required"],label:"Item",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),e(Tt["a"],{attrs:{rules:[t=>!!t||"You must agree to continue!"],label:"Do you agree?",required:""},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),e(b["a"],{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Validate ")]),e(b["a"],{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" Reset Form ")]),e(b["a"],{attrs:{color:"warning"},on:{click:t.resetValidation}},[t._v(" Reset Validation ")])],1)],1)])},Fs=[],Hs={name:"Dashboard",components:{},data(){return{valid:!0,name:"",nameRules:[t=>!!t||"Name is required",t=>t&&t.length<=10||"Name must be less than 10 characters"],email:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1}},methods:{validate(){this.$refs.form.validate(),1==this.valid&&console.log("valid")},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},addticket(){let t={name:this.name,prenom:this.prenom,email:this.email,telephone:this.telephone,adresse:this.adresse,numero:this.numero,revendeur:this.revendeur,datefacture:this.datefacture,numerofacture:this.numerofacture,marqueappareil:this.marqueappareil,modeleappareil:this.modeleappareil,etat_garantie:this.etat_garantie,etat:"ouverte"};Z.post("tickets/addticket",t).then(t=>{console.log(t.data),this.$toast.success("Ticket added!!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/tickets")})}}},Gs=Hs,Ys=Object(l["a"])(Gs,Ns,Fs,!1,null,null,null),Qs=Ys.exports,Vs=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Acheteurs")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addacheteur"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Acheteur")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des acheteurs")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Email")]),e("th",{staticClass:"text-left"},[t._v("Phone")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.acheteurs,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.prenom)+" "+t._s(a.nom))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.telephone))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"editacheteur",params:{id:a._id}}}},[t._v(" edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete acheteur? ")]),e(ct["b"],[t._v("are you sure you want to delete cet acheteur ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteacheteur(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Ws=[],Js={data(){return{acheteurs:[],dialog:!1}},computed:{searchFunction(){return this.acheteurs.filter(t=>t.nom.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getacheteurs()},methods:{getacheteurs(){Z.get("acheteurs/getacheteurs").then(t=>{this.acheteurs=t.data,console.log(this.acheteurs)}).then(t=>console.log(t))},deleteacheteur(t){Z.delete("acheteurs/deleteacheteur/"+t).then(t=>{console.log(t),this.$toast.success("acheteur supprimé!",{position:"top-right"}),this.$router.push("/dashboard")})}}},Us=Js,Zs=Object(l["a"])(Us,Vs,Ws,!1,null,null,null),Xs=Zs.exports,Ks=function(){var t=this,e=t._self._c;return e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-2",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Acheteur")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/acheteurs"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(lt["a"],{staticClass:"pa-4 pb-6",attrs:{width:"100%"}},[e(V["a"],{staticClass:"mb-12"},[e(F["a"],{attrs:{cols:"12",md:"3"}},[e(Ft["a"],{attrs:{rules:t.nomRules,counter:20,label:"Name",required:"",outlined:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}})],1),e(F["a"],{attrs:{cols:"12",md:"3"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,counter:20,label:"Last Name",required:"",outlined:""},model:{value:t.prenom,callback:function(e){t.prenom=e},expression:"prenom"}})],1),e(F["a"],{attrs:{cols:"12",md:"3"}},[e(Ft["a"],{attrs:{rules:t.emailRules,label:"Email",type:"email",outlined:"",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e(F["a"],{attrs:{cols:"12",md:"3"}},[e(Ft["a"],{attrs:{rules:t.telephoneRules,counter:15,label:"Phone",outlined:"",required:""},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"8"}},[e(b["a"],{attrs:{color:"primary",disabled:0==t.valid},on:{click:t.addacheteur}},[t._v(" Add ")]),t._v("   "),e("router-link",{attrs:{to:"/acheteurs"}},[e(b["a"],[t._v(" Back ")])],1)],1)],1)],1)],1)},ti=[],ei={data(){return{valid:!1,nom:"",prenom:"",telephone:"",email:"",nomRules:[t=>!!t||" nom is required",t=>t.length<=20||" nom must be less than 20 characters"],prenomRules:[t=>!!t||"prenom is required",t=>t.length<=20||"prenom must be less than 20 characters"],emailRules:[t=>!!t||"email is required"],telephoneRules:[t=>!!t||"telephone is required"]}},methods:{addacheteur(){let t={nom:this.nom,prenom:this.prenom,email:this.email,telephone:this.telephone};console.log(t),Z.post("acheteurs/addacheteur",t).then(t=>{console.log(t.data),this.$toast.success("Acheteur ajouté!",{position:"top-right"}),this.$router.push("/acheteurs")})}}},ai=ei,si=Object(l["a"])(ai,Ks,ti,!1,null,null,null),ii=si.exports,ri=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Users")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/adduser"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add User")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des Users")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Nom")]),e("th",{staticClass:"text-left"},[t._v("Email")]),e("th",{staticClass:"text-left"},[t._v("Telephone")]),e("th",{staticClass:"text-left"},[t._v("Roles")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.users,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.telephone))]),e("td",[t._v(t._s(a.role))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"edituser",params:{id:a._id}}}},[t._v(" edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete user? ")]),e(ct["b"],[t._v("are you sure you want to delete this user ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteuser(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},ni=[],oi={data(){return{users:[],dialog:!1}},computed:{searchFunction(){return this.users.filter(t=>t.name.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getusers()},methods:{getusers(){Z.get("users/getusers").then(t=>{this.users=t.data}).then(t=>console.log(t))},deleteuser(t){Z.delete("users/deleteuser/"+t).then(t=>{console.log(t),this.$toast.success("user supprimé!",{position:"top-right"}),this.getusers(),this.dialog=!1,this.$router.push("/users")})}}},li=oi,ci=(a("811d"),Object(l["a"])(li,ri,ni,!1,null,null,null)),di=ci.exports,ui=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add User")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/users"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(pt["a"],{attrs:{items:t.roles,rules:[t=>!!t||"Item est obligatoire"],label:"Role",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"4",sm:"4"}},[e(Ft["a"],{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"Au moins 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:8,rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.adresseRules,label:"adresse",required:""},model:{value:t.adresse,callback:function(e){t.adresse=e},expression:"adresse"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Add ")])],1)],1)])],1)])},pi=[],mi={data:()=>({roles:["admin","client","technicien","réception"],select:"",valid:!0,name:"",nameRules:[t=>!!t||"Name est obligatoire"],role:"",roleRules:[t=>!!t||"Role est obligatoire"],email:"",emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valide"],telephone:"",telephoneRules:[t=>!!t||"telephone est obligatoire"],adresse:"",adresseRules:[t=>!!t||"adresse est obligatoire"],show1:!1,password:"",rules:{required:t=>!!t||"Champ obligatoire.",min:t=>t.length>=8||"Min 8 characters"}}),methods:{validate(){if(this.$refs.form.validate()){this.snackbar=!0;let t={email:this.email,name:this.name,telephone:this.telephone,role:this.select,adresse:this.adresse,password:this.password};Z.post("users/adduser",t).then(()=>{this.$toast.success("User ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/users")})}}}},hi=mi,vi=Object(l["a"])(hi,ui,pi,!1,null,null,null),fi=vi.exports,gi=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Update User")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/users"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(pt["a"],{attrs:{items:t.roles,rules:[t=>!!t||"Item is required"],label:"Role",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"4",sm:"4"}},[e(Ft["a"],{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{counter:8,rules:t.telephoneRules,label:"Phone",required:""},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.adresseRules,label:"adresse",required:""},model:{value:t.adresse,callback:function(e){t.adresse=e},expression:"adresse"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.update}},[t._v(" Update ")])],1)],1)])],1)])},bi=[],_i={data:()=>({roles:["admin","client","technicien","réception"],select:"",valid:!0,name:"",nameRules:[t=>!!t||"Name is required"],role:"",roleRules:[t=>!!t||"Role is required"],email:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+/.test(t)||"E-mail must be valid"],telephone:"",telephoneRules:[t=>!!t||"telephone is required",t=>t&&t.length<=8||"Name must be less than 8 characters"],adresse:"",adresseRules:[t=>!!t||"adresse is required"],show1:!1,password:"",rules:{required:t=>!!t||"Required.",min:t=>t.length>=8||"Min 8 characters"}}),created:function(){this.getuserById()},methods:{getuserById(){Z.get("users/getuserbyid/"+this.$route.params.id).then(t=>{this.email=t.data.email,this.name=t.data.name,this.select=t.data.role,this.adresse=t.data.adresse,this.telephone=t.data.telephone,this.password=t.data.passwordtext},t=>{this.error=t.response.data.error})},update(){if(this.$refs.form.validate()){this.snackbar=!0;let t={email:this.email,name:this.name,telephone:this.telephone,role:this.select,adresse:this.adresse,password:this.password,id:this.$route.params.id};Z.put("users/edituser",t).then(()=>{this.$toast.success("User ajouté!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/users")})}}}},ki=_i,xi=Object(l["a"])(ki,gi,bi,!1,null,null,null),Ci=xi.exports,yi=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Offres")]),e("br"),e("br"),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(ct["b"],[e(Ft["a"],{attrs:{value:"",color:"#2382bf",type:"text","hide-no-data":"",placeholder:"Recherche Offre","prepend-icon":"mdi-database-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),0!==t.offres.length?e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des Offreshh")]),e("br")]),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Ticket")]),e("th",{staticClass:"text-left"},[t._v("Prix Maintenance")]),e("th",{staticClass:"text-left"},[t._v("Labor price:")]),e("th",{staticClass:"text-left"},[t._v("Dureé")]),e("th",{staticClass:"text-left"},[t._v("Date confirmation")]),e("th",{staticClass:"text-left"},[t._v("Voir")]),e("th",{staticClass:"text-left"},[t._v("Status")]),e("th",{staticClass:"text-left"},[t._v("Facture")])])]),e("tbody",t._l(t.offres,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.ticket_id["numero"]))]),e("td",[t._v(t._s(a.prixmain))]),e("td",[t._v(" "+t._s(a.prix_oeuvre)+" ")]),e("td",[t._v(t._s(a.duree))]),e("td",[t._v(t._s(a.date_confirmation))]),e("td",[e("router-link",{attrs:{to:{name:"voir_devi",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"blue darken-2"}},[t._v(" mdi-message-text ")])],1)],1),e("td",[e("div",{directives:[{name:"show",rawName:"v-show",value:"en attente"==a.etat_reception,expression:"offre.etat_reception=='en attente'"}]},[e(b["a"],{staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.refusoffre(a)}}},[t._v(" Decline "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.acceptoffre(a)}}},[t._v(" Accept "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-checkbox-marked-circle ")])],1)],1),e("span",{directives:[{name:"show",rawName:"v-show",value:"confirmé"==a.etat_confirmation,expression:"offre.etat_confirmation=='confirmé'"}],staticStyle:{color:"green","font-weight":"bold","font-size":"15px"}},[t._v("Confirmé ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"en attente"==a.etat_confirmation,expression:"offre.etat_confirmation=='en attente'"}],staticStyle:{color:"blue","font-weight":"bold","font-size":"15px"}},[t._v(" En attente")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"refusé"==a.etat_confirmation,expression:"offre.etat_confirmation=='refusé'"}],staticStyle:{color:"red","font-weight":"bold","font-size":"15px"}},[t._v(" Refusé")])]),e("td",[e("router-link",{directives:[{name:"show",rawName:"v-show",value:"confirmé"==a.etat_confirmation,expression:"offre.etat_confirmation\n=='confirmé'"}],attrs:{to:{name:"voir_facture",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"green"}},[t._v(" mdi-cash ")])],1),e("span",{directives:[{name:"show",rawName:"v-show",value:"confirmé"!==a.etat_confirmation,expression:"offre.etat_confirmation\n!=='confirmé'"}],staticStyle:{color:"gray","font-weight":"bold","font-size":"15px"}},[t._v(" Non Facturé ")])],1)])})),0)]},proxy:!0}],null,!1,2500063572)})],1)],1):t._e(),0==t.offres.length?e("p",[t._v("Pas des Offres.... ")]):t._e()],1)],1)],1)])},wi=[],qi={data(){return{offres:[],search:"",dialog:!1}},created(){this.getoffresclient()},methods:{getoffresclient(){let t=JSON.parse(window.localStorage.getItem("userData")),e=t[0]["_id"];console.log(e),Z.get("offres/getoffres_client/"+e).then(t=>{this.offres=t.data}).then(t=>console.log(t))},acceptoffre(t){let e={_id:t._id,client_id:t.ticket_id.client_id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/acceptoffre",e).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})},refusoffre(t){let e={_id:t._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/refusoffre",e).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})}}},Si=qi,Bi=Object(l["a"])(Si,yi,wi,!1,null,null,null),Ri=Bi.exports,Ei=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Voir facture")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/client_area"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("body",[e("div",{attrs:{id:"invoiceholder"}},[e("div",{staticClass:"effect2",attrs:{id:"invoice"}},[e("div",{attrs:{id:"invoice-top"}},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"title"},[e("h1",[t._v("Facture #"),e("span",{staticClass:"invoiceVal invoice_num"},[t._v(t._s(t.devi.ticket_id.numero))])]),e("p",[t._v(" Date Réception: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.ticket_id.datereception)))]),e("br")])])]),e("div",{attrs:{id:"invoice-mid"}},[e("div",{staticClass:"cta-group mobile-btn-group"},[e("a",{staticClass:"btn-primary",attrs:{href:"javascript:void(0);"}},[t._v("Approve")]),e("a",{staticClass:"btn-default",attrs:{href:"javascript:void(0);"}},[t._v("Reject")])]),e("div",{staticClass:"clearfix"},[e("div",{staticClass:"col-left"},[e("div",{staticClass:"clientlogo"},[e("img",{attrs:{src:"https://cdn3.iconfinder.com/data/icons/daily-sales/512/Sale-card-address-512.png",alt:"Sup"}})]),e("div",{staticClass:"clientinfo"},[e("h2",{attrs:{id:"supplier"}},[t._v(t._s(t.devi.ticket_id.numero))])])]),e("div",{staticClass:"col-right"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[e("span",[t._v("Adresse")]),e("label",{attrs:{id:"invoice_total"}},[t._v("client, 54 rue du mercure Z.I 2013 Ben Arous - Tunis")])])]),e("tr",[e("td",[e("span",[t._v("Téléphone")]),e("label",{attrs:{id:"currency"}},[t._v(" +216 70 029 400")])])]),e("tr",[e("td",[e("span",[t._v("Fax ")]),e("label",{attrs:{id:"payment_term"}},[t._v(" +216 71 384 885")])])]),e("tr",[e("td",[e("span",[t._v("Email")]),e("label",{attrs:{id:"invoice_type"}},[t._v("client@client.tn")])])])])])])])]),e("div",{attrs:{id:"invoice-bot"}},[e("div",{attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("ID")]),e("th",[t._v("piece de rechange ")]),e("th",[t._v("quantité")]),e("th",[t._v("prix unitaire ")]),e("th",[t._v("Total")])])]),t._l(t.devi.piecesderechanges,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(t._s(s+1))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(t._s(a.produit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(t._s(a.quantite))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Unit Price"}},[t._v(t._s(a.prixunit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.prixunit*a.quantite))])])})),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("Labor price:")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prix_oeuvre)+" dt")])]),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("prix maintenance")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prixmain)+" dt")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total HT")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt ")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total TTC ")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalttc)+" dt ")])])],2)])]),e("footer",[e("div",{staticClass:"clearfix",attrs:{id:"legalcopy"}})])])]),e("div",{staticClass:"text-center"},[e("div",[e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){return t.acceptoffre()}}},[t._v(" Accept "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-checkbox-marked-circle ")])],1),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.refuseoffre()}}},[t._v(" Decline "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1)])])])],1)],1)])},ji=[],Ai={data(){return{devi:[],total:0,totalttcc:0}},created(){this.getdevi()},mounted(){Ut()(document).ready((function(){Ut()("button").click((function(){Ut()(document).scrollTop(Ut()(document).height())}))}))},computed:{totalPrice(){for(let t of this.devi.piecesderechanges)this.total+=parseInt(t.prixunit)*parseInt(t.quantite);return this.total+=parseInt(this.devi.prix_oeuvre),this.total+=parseInt(this.devi.prixmain),this.total},totalttc(){return this.totalttcc=1.19*parseInt(this.total),this.totalttcc+=1,this.totalttcc}},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},getdevi(){Z.get("offres/getdevibyid/"+this.$route.params.id).then(t=>{this.devi=t.data}).then(t=>console.log(t))},acceptoffre(){let t={_id:this.devi._id,client_id:this.devi.ticket_id.client_id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert thiss!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(e=>{e.isConfirmed&&Z.put("offres/acceptoffre",t).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.getdevi(),window.location.reload()})},refuseoffre(){let t={_id:this.devi._id};ye.a.fire({title:"etes vous sure?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmer!"}).then(e=>{e.isConfirmed&&Z.put("offres/refusoffre",t).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.getdevi(),window.location.reload()})}}},Ti=Ai,Ii=(a("52d8"),Object(l["a"])(Ti,Ei,ji,!1,null,"7d4ac016",null)),Oi=Ii.exports,Pi=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Voir Devi")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/client_area"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("body",[e("div",{attrs:{id:"invoiceholder"}},[e("div",{staticClass:"effect2",attrs:{id:"invoice"}},[e("div",{attrs:{id:"invoice-top"}},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"title"},[e("h1",[t._v("Devis #"),e("span",{staticClass:"invoiceVal invoice_num"},[t._v(t._s(t.devi.ticket_id.numero))])]),e("p",[t._v(" Date émission: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.created_at)))]),e("br")]),e("p",[t._v(" Date confirmation: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.date_confirmation)))]),e("br")])])]),e("div",{attrs:{id:"invoice-mid"}},[e("div",{staticClass:"cta-group mobile-btn-group"},[e("a",{staticClass:"btn-primary",attrs:{href:"javascript:void(0);"}},[t._v("Approve")]),e("a",{staticClass:"btn-default",attrs:{href:"javascript:void(0);"}},[t._v("Reject")])]),e("div",{staticClass:"clearfix"},[e("div",{staticClass:"col-left"},[e("div",{staticClass:"clientlogo"},[e("img",{attrs:{src:"https://cdn3.iconfinder.com/data/icons/daily-sales/512/Sale-card-address-512.png",alt:"Sup"}})]),e("div",{staticClass:"clientinfo"},[e("h2",{attrs:{id:"supplier"}},[t._v(t._s(t.devi.ticket_id.numero))])])]),e("div",{staticClass:"col-right"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[e("span",[t._v("Adresse")]),e("label",{attrs:{id:"invoice_total"}},[t._v("client, 54 rue du mercure Z.I 2013 Ben Arous - Tunis")])])]),e("tr",[e("td",[e("span",[t._v("Téléphone")]),e("label",{attrs:{id:"currency"}},[t._v(" +216 70 029 400")])])]),e("tr",[e("td",[e("span",[t._v("Fax ")]),e("label",{attrs:{id:"payment_term"}},[t._v(" +216 71 384 885")])])]),e("tr",[e("td",[e("span",[t._v("Email")]),e("label",{attrs:{id:"invoice_type"}},[t._v("client@client.tn")])])])])])])])]),e("div",{attrs:{id:"invoice-bot"}},[e("div",{attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("ID")]),e("th",[t._v("piece de rechange ")]),e("th",[t._v("quantité")]),e("th",[t._v("prix unitaire ")]),e("th",[t._v("Total")])])]),t._l(t.devi.piecesderechanges,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(t._s(s+1))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(t._s(a.produit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(t._s(a.quantite))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Unit Price"}},[t._v(t._s(a.prixunit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.prixunit*a.quantite))])])})),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("Labor price:")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prix_oeuvre)+" dt")])]),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("prix maintenance")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prixmain)+" dt")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total HT")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt ")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total TTC ")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalttc)+" dt ")])])],2)])]),e("footer",[e("div",{staticClass:"clearfix",attrs:{id:"legalcopy"}},[t._v("                        "),e("h7",{staticClass:"col-center"},[t._v("Ce devis est valable 15 jours "),e("span",{staticClass:"email"},[e("a",[t._v(", merci de confirmer ce devis .")])])])],1)])])]),e("div",{staticClass:"text-center"},[e("div",[e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_confirmation,expression:"devi.etat_confirmation=='en attente'"}],staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){return t.acceptoffre()}}},[t._v(" Accepter "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-checkbox-marked-circle ")])],1),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_confirmation,expression:"devi.etat_confirmation=='en attente'"}],staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.refuseoffre()}}},[t._v(" Refuser "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1)])])])],1)],1)])},Li=[],Di={data(){return{devi:[],total:0,totalttcc:0}},created(){this.getdevi()},computed:{totalPrice(){for(let t of this.devi.piecesderechanges)this.total+=parseInt(t.prixunit)*parseInt(t.quantite);return this.total+=parseInt(this.devi.prix_oeuvre),this.total+=parseInt(this.devi.prixmain),this.total},totalttc(){return this.totalttcc=1.19*parseInt(this.total),this.totalttcc+=1,this.totalttcc}},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},getdevi(){Z.get("offres/getdevibyid/"+this.$route.params.id).then(t=>{this.devi=t.data}).then(t=>console.log(t))},acceptoffre(){let t={_id:this.devi._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(e=>{e.isConfirmed&&Z.put("offres/acceptoffreclient",t).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.getdevi(),window.location.reload()})},refuseoffre(){let t={_id:this.devi._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, refuse!"}).then(e=>{e.isConfirmed&&Z.put("offres/refuseoffreclient",t).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.getdevi(),window.location.reload()})}}},$i=Di,zi=(a("1832"),Object(l["a"])($i,Pi,Li,!1,null,"0d557da1",null)),Mi=zi.exports,Ni={},Fi=Object(l["a"])(Ni,X,K,!1,null,null,null),Hi=Fi.exports,Gi=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Accesoires")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addaccessoire"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Accessoire")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("List of accessories")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("libelle")]),e("th",{staticClass:"text-left"},[t._v("reference")]),e("th",{staticClass:"text-left"},[t._v("product")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.accessoires,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.libelle))]),e("td",[t._v(t._s(a.reference))]),e("td",[t._v(t._s(a.produit))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(x["a"],[e(C["c"],[e("router-link",{attrs:{to:{name:"editaccessoire",params:{id:a._id}}}},[t._v(" Edit ")])],1)],1),e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete accessoire? ")]),e(ct["b"],[t._v("are you sure you want to delete cet accessoire ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Back ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteaccessoire(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},Yi=[],Qi={data(){return{accessoires:[],dialog:!1}},computed:{searchFunction(){return this.accessoires.filter(t=>t.nom.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getaccessoires()},methods:{getaccessoires(){Z.get("accessoires/getaccessoires").then(t=>{this.accessoires=t.data,console.log(this.accessoires)}).then(t=>console.log(t))},deleteaccessoire(t){Z.delete("accessoires/deleteaccessoire/"+t).then(t=>{console.log(t),this.$toast.success("accessoire supprimé!",{position:"top-right"}),this.$router.push("/accessoires")})},downloadCSVData(){let t="libelle,reference,produit\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structureaccessoire.csv",e.click()}}},Vi=Qi,Wi=Object(l["a"])(Vi,Gi,Yi,!1,null,null,null),Ji=Wi.exports,Ui=function(){var t=this,e=t._self._c;return e(wt["a"],{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-2",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Add Accessoire")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/accessoires"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(lt["a"],{staticClass:"pa-4 pb-6",attrs:{width:"100%"}},[e(V["a"],{staticClass:"mb-12"},[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.nomRules,counter:20,label:"libelle",required:"",outlined:""},model:{value:t.libelle,callback:function(e){t.libelle=e},expression:"libelle"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,counter:20,label:"reference",required:"",outlined:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.prenomRules,counter:15,label:"produit",outlined:"",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"8"}},[e(b["a"],{attrs:{color:"primary",disabled:0==t.valid},on:{click:t.addaccessoire}},[t._v(" Add ")]),t._v("   "),e("router-link",{attrs:{to:"/accessoires"}},[e(b["a"],[t._v(" Back ")])],1)],1)],1)],1)],1)},Zi=[],Xi={data(){return{valid:!1,libelle:"",reference:"",produit:"",nomRules:[t=>!!t||" champ est obligatoire"],prenomRules:[t=>!!t||"champ est obligatoire"],telephoneRules:[t=>!!t||"telephone est obligatoire"]}},methods:{addaccessoire(){let t={libelle:this.libelle,reference:this.reference,produit:this.produit};console.log(t),Z.post("accessoires/addaccesoire",t).then(t=>{console.log(t.data),this.$toast.success("Accessoire ajouté!",{position:"top-right"}),this.$router.push("/accessoires")})}}},Ki=Xi,tr=Object(l["a"])(Ki,Ui,Zi,!1,null,null,null),er=tr.exports,ar=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Edit Accessoire")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/accessoires"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"primary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e("div",{staticStyle:{width:"1000px","text-align":"center"}},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(V["a"],[e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.referenceRules,label:"reference",required:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.libelleRules,label:"libelle",required:""},model:{value:t.libelle,callback:function(e){t.libelle=e},expression:"libelle"}})],1),e(F["a"],{attrs:{cols:"4",md:"4"}},[e(Ft["a"],{attrs:{rules:t.produitRules,label:"produit",required:""},model:{value:t.produit,callback:function(e){t.produit=e},expression:"produit"}})],1)],1),e("br"),e(b["a"],{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.valid,color:"success"},on:{click:t.update}},[t._v(" Edit ")])],1)],1)])],1)])},sr=[],ir={data:()=>({valid:!0,reference:"",libelleRules:[t=>!!t||"ce champ est obligatoire"],libelle:"",referenceRules:[t=>!!t||"ce champ est obligatoire"],produit:"",produitRules:[t=>!!t||"ce champ est obligatoire"],rules:{required:t=>!!t||"Required.",min:t=>t.length>=8||"Min 8 characters"}}),created:function(){this.getaccessoireById()},methods:{getaccessoireById(){Z.get("accessoires/getaccessoirebyid/"+this.$route.params.id).then(t=>{this.libelle=t.data.libelle,this.reference=t.data.reference,this.produit=t.data.produit},t=>{this.error=t.response.data.error})},update(){if(this.$refs.form.validate()){this.snackbar=!0;let t={libelle:this.libelle,reference:this.reference,produit:this.produit,id:this.$route.params.id};Z.put("accessoires/editaccessoire",t).then(()=>{this.$toast.success("accessoire modifié!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/accessoires")})}}}},rr=ir,nr=Object(l["a"])(rr,ar,sr,!1,null,null,null),or=nr.exports,lr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("interventions")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addintervention"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Intervention ")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("List of interventions")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-0"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Reference")]),e("th",{staticClass:"text-left"},[t._v("Client")]),e("th",{staticClass:"text-left"},[t._v("Date")]),e("th",{staticClass:"text-left"},[t._v("Details ")])])]),e("tbody",t._l(t.interventions,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a["Reference"]))]),e("td",{staticClass:"pa-6"},[t._v(t._s(a["client_id"]["name"]))]),e("td",{staticClass:"pa-6"},[t._v(t._s(t._f("formatDate")(a["date"])))]),e("td",{staticClass:"pa-6"},[e(_["a"],{attrs:{color:"blue"}},[t._v("mdi-eye")])],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},cr=[],dr={data(){return{interventions:[]}},computed:{searchFunction(){return this.interventions.filter(t=>t.reference.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getinterventions()},methods:{getinterventions(){Z.get("interventions/getinterventions").then(t=>{this.interventions=t.data,console.log(this.interventions)}).then(t=>console.log(t))}}},ur=dr,pr=Object(l["a"])(ur,lr,cr,!1,null,null,null),mr=pr.exports,hr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("interventions")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addintervention"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add intervention")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Add intervention")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-5"},[e(wt["a"],{ref:"form",model:{value:t.intervention,callback:function(e){t.intervention=e},expression:"intervention"}},[e(ct["b"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"12"}},[e(Ft["a"],{attrs:{counter:20,label:"Reference",required:"",outlined:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"12",sm:"12"}},[e(pt["a"],{attrs:{outlined:"","menu-props":{maxHeight:"400"},label:"List of technicians","item-text":"name","item-value":"_id",items:t.techniciens,multiple:"","persistent-hint":""},model:{value:t.listetechniciens,callback:function(e){t.listetechniciens=e},expression:"listetechniciens"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(pt["a"],{attrs:{items:t.itemsclient,label:"choose a client","item-text":t=>`${t.name}  ${t.prenom} (${t.code})`,"item-value":"_id",outlined:""},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(pt["a"],{attrs:{outlined:"",label:"machine list","item-text":"reference","item-value":"_id",items:t.machines,multiple:"","persistent-hint":""},model:{value:t.listemachines,callback:function(e){t.listemachines=e},expression:"listemachines"}})],1),e(F["a"],{attrs:{cols:"6",sm:"12"}},[e(Ft["a"],{attrs:{label:"Date ",type:"date",required:"",outlined:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{text:""}},[t._v(" Cancel ")]),e(b["a"],{attrs:{type:"submit",color:"primary"},on:{click:function(e){return t.addintervention()}}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)])},vr=[],fr={data(){return{techniciens:[],machines:[],listetechniciens:[],listemachines:[],date:"",itemsclient:[],client:"",reference:""}},created(){this.getmachines(),this.getechniciens(),this.getclients()},methods:{getclients(){Z.get("clients/getclients").then(t=>{this.itemsclient=t.data}).then(t=>console.log(t))},getechniciens(){Z.get("users/getechniciens").then(t=>{this.techniciens=t.data}).then(t=>console.log(t))},getmachines(){Z.get("stocks/getstocksproduits").then(t=>{this.machines=t.data,console.log(this.machines)}).then(t=>console.log(t))},addintervention(){let t={Reference:this.reference,client_id:this.client,date:this.date,listemachines:this.listemachines,listetechniciens:this.listetechniciens};Z.post("interventions/addintervention",t).then(t=>{console.log(t),this.$toast.success("intervention ajouté!",{position:"top-right"}),this.$router.push("/interventions")})}}},gr=fr,br=Object(l["a"])(gr,hr,vr,!1,null,null,null),_r=br.exports,kr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Contrats")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addcontrat"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add Contract")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("List of contracts")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-0"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Reference")]),e("th",{staticClass:"text-left"},[t._v("Client")]),e("th",{staticClass:"text-left"},[t._v("Start Day")]),e("th",{staticClass:"text-left"},[t._v("End Day")]),e("th",{staticClass:"text-left"},[t._v("Details ")])])]),e("tbody",t._l(t.contrats,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a["Reference"]))]),e("td",{staticClass:"pa-6"},[t._v(t._s(a["client_id"]["name"]))]),e("td",{staticClass:"pa-6"},[t._v(t._s(t._f("formatDate")(a["date_debut"])))]),e("td",{staticClass:"pa-6"},[t._v(t._s(t._f("formatDate")(a["date_fin"])))]),e("td",{staticClass:"pa-6"},[e("router-link",{attrs:{to:{name:"detailscontrat",params:{id:a._id}}}},[e(_["a"],{attrs:{color:"blue"}},[t._v("mdi-eye")])],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},xr=[],Cr={data(){return{contrats:[]}},computed:{searchFunction(){return this.contrats.filter(t=>t.reference.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getcontrats()},methods:{getcontrats(){Z.get("contrats/getcontrats").then(t=>{this.contrats=t.data,console.log(this.contrats)}).then(t=>console.log(t))}}},yr=Cr,wr=Object(l["a"])(yr,kr,xr,!1,null,null,null),qr=wr.exports,Sr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Contrats")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/contrats"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Add Contrat")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-5"},[e(wt["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.contrat,callback:function(e){t.contrat=e},expression:"contrat"}},[e(ct["b"],[e(V["a"],[e(F["a"],{attrs:{cols:"12",sm:"12"}},[e(Ft["a"],{attrs:{counter:20,label:"Reference",rules:t.referenceRules,required:"",outlined:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e(F["a"],{attrs:{cols:"12",sm:"12"}},[e(pt["a"],{attrs:{outlined:"","menu-props":{maxHeight:"400"},label:"List of technicians","item-text":"name",rules:t.listetechniciensRules,"item-value":"_id",items:t.techniciens,multiple:"",required:"","persistent-hint":""},model:{value:t.listetechniciens,callback:function(e){t.listetechniciens=e},expression:"listetechniciens"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(pt["a"],{attrs:{items:t.itemsclient,rules:t.clientRules,label:"choose a client","item-text":t=>`${t.name}  ${t.prenom} (${t.code})`,"item-value":"_id",outlined:""},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(pt["a"],{attrs:{outlined:"",label:"machine list",rules:t.listemachinesRules,"item-text":"reference","item-value":"_id",items:t.machines,multiple:"","persistent-hint":""},model:{value:t.listemachines,callback:function(e){t.listemachines=e},expression:"listemachines"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(Ft["a"],{attrs:{label:"Start Day ",type:"date",rules:t.date_debutRules,required:"",outlined:""},model:{value:t.date_debut,callback:function(e){t.date_debut=e},expression:"date_debut"}})],1),e(F["a"],{attrs:{cols:"6",sm:"6"}},[e(Ft["a"],{attrs:{label:"End Date",type:"date",rules:t.date_finRules,required:"",outlined:""},model:{value:t.date_fin,callback:function(e){t.date_fin=e},expression:"date_fin"}})],1),e(F["a"],{attrs:{cols:"6",sm:"12"}},[e(Ft["a"],{attrs:{counter:20,label:"Number Interventions",rules:t.nb_interventionRules,required:"",outlined:""},model:{value:t.nb_intervention,callback:function(e){t.nb_intervention=e},expression:"nb_intervention"}})],1)],1)],1),e(ct["a"],[e(S["a"]),e("router-link",{attrs:{to:"/contrats"}},[e(b["a"],{attrs:{text:""}},[t._v(" Cancel ")])],1),e(b["a"],{attrs:{type:"submit",disabled:!t.contrat,color:"primary"},on:{click:function(e){return t.addcontrat()}}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)])},Br=[],Rr={data(){return{techniciens:[],machines:[],listetechniciens:[],listemachines:[],nb_intervention:"",date_fin:"",date_debut:"",itemsclient:[],client:"",reference:"",referenceRules:[t=>!!t||"Reference is required"],listetechniciensRules:[t=>!!t||"choose a technician"],clientRules:[t=>!!t||"choose a client"],listemachinesRules:[t=>!!t||"choose a machine"],date_debutRules:[t=>!!t||"Date is required"],date_finRules:[t=>!!t||"Date is required"],nb_interventionRules:[t=>!!t||"Number is required"]}},created(){this.getmachines(),this.getechniciens(),this.getclients()},methods:{getclients(){Z.get("clients/getclients").then(t=>{this.itemsclient=t.data}).then(t=>console.log(t))},getechniciens(){Z.get("users/getechniciens").then(t=>{this.techniciens=t.data}).then(t=>console.log(t))},getmachines(){Z.get("stocks/getstocksproduits").then(t=>{this.machines=t.data,console.log(this.machines)}).then(t=>console.log(t))},addcontrat(){if(this.$refs.form.validate()){this.snackbar=!0;let t={Reference:this.reference,client_id:this.client,date_debut:this.date_debut,date_fin:this.date_fin,nb_intervention:this.nb_intervention,listemachines:this.listemachines,listetechniciens:this.listetechniciens};Z.post("contrats/addcontrat",t).then(t=>{console.log(t),this.$toast.success("contrat ajouté!",{position:"top-right"}),this.$router.push("/contrats")})}}}},Er=Rr,jr=Object(l["a"])(Er,Sr,Br,!1,null,null,null),Ar=jr.exports,Tr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Contracts")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/contrats"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-2 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("contract details")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-5"},[e(lt["a"],{staticClass:"mx-auto",attrs:{width:"1500","prepend-icon":"mdi-home"},scopedSlots:t._u([{key:"title",fn:function(){},proxy:!0}])},[e(ct["b"],[t._v(" Reference Contract : "+t._s(t.contrat.Reference)+" "),e("br"),t._v(" Number interventions : "+t._s(t.contrat.nb_intervention)+" "),e("br"),t._v(" List of Technicians : "),t._l(t.contrat.listetechniciens,(function(a,s){return e("ul",{key:s},[e("li",[t._v(t._s(a.name))])])})),t._v(" List of Machines : "),t._l(t.contrat.listemachines,(function(a,s){return e("ul",{key:s},[e("li",[t._v(t._s(a.reference)+" "+t._s(a.marque))])])})),t._v(" Start Day : "+t._s(t._f("formatDate")(t.contrat.date_debut))),e("br"),t._v(" End Day : "+t._s(t._f("formatDate")(t.contrat.date_fin))+" ")],2)],1)],1)],1)],1)],1)],1)])},Ir=[],Or={data(){return{contrat:{}}},components:{},created:function(){this.getcontratById()},methods:{getcontratById(){Z.get("contrats/getcontratById/"+this.$route.params.id).then(t=>{this.contrat=t.data}).then(t=>console.log(t))}}},Pr=Or,Lr=Object(l["a"])(Pr,Tr,Ir,!1,null,null,null),Dr=Lr.exports,$r=a("a4f6"),zr=a("8dd9"),Mr=a("71d9"),Nr=function(){var t=this,e=t._self._c;return e(p["a"],[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"10px"}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"last"}},[e("strong",[t._v(" Filtrer par : ")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",attrs:{id:"inputState",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"client"}},[t._v("Clients")]),e("option",{attrs:{value:"machine"}},[t._v("Machines")])])])])]),e("div",{staticClass:"row"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"client"==t.selected,expression:"selected == 'client'"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:"all"!==t.selectedclient,expression:"selectedclient !== 'all'"}],staticClass:"cercle",style:{"background-color":t.selectedclient}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:"client"==t.selected,expression:"selected == 'client'"}],staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"last"}},[t._v("Clients ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedclient,expression:"selectedclient"}],staticClass:"form-control",attrs:{id:"inputState",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedclient=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("all")]),t._l(t.clients,(function(a){return e("option",{key:a._id,attrs:{value:"007bff"}},[e("i",{staticClass:"mdi mdi-delete icone text-danger",staticStyle:{color:"red"}}),e("a",[t._v(t._s(a.name))])])}))],2)])]),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"client"==t.selected,expression:"selected == 'client'"}],staticStyle:{"margin-top":"37px"},attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.filter()}}},[t._v("filtrer ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"machine"==t.selected,expression:"selected == 'machine'"}],staticClass:"marker"},[e("i",{staticClass:"mdi mdi-map-marker-radius",staticStyle:{"font-size":"22px","margin-bottom":"10px"}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:"machine"==t.selected,expression:"selected == 'machine'"}],staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"last"}},[t._v("Machines ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedmachine,expression:"selectedmachine"}],staticClass:"form-control",attrs:{id:"inputState",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedmachine=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("all")]),t._l(t.machines,(function(a){return e("option",{key:a._id,domProps:{value:a.reference}},[e("i",{staticClass:"mdi mdi-delete icone text-danger",staticStyle:{color:"red"}}),e("a",[t._v(t._s(a.reference))])])}))],2)])]),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"machine"==t.selected,expression:"selected == 'machine'"}],staticStyle:{"margin-top":"37px"},attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.filtrermachine()}}},[t._v("filtrer")])],1),e(V["a"],{staticClass:"fill-height"},[e(F["a"],[e(zr["a"],{attrs:{height:"64"}},[e(Mr["a"],{attrs:{flat:""}},[e(b["a"],{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),e(b["a"],{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[e(_["a"],{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),e(b["a"],{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[e(_["a"],{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?e(B["a"],[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),e(S["a"]),e(q["a"],{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",s,!1),a),[e("span",[t._v(t._s(t.typeToLabel[t.type]))]),e(_["a"],{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[e(k["a"],[e(x["a"],{on:{click:function(e){t.type="day"}}},[e(C["c"],[t._v("Day")])],1),e(x["a"],{on:{click:function(e){t.type="week"}}},[e(C["c"],[t._v("Week")])],1),e(x["a"],{on:{click:function(e){t.type="month"}}},[e(C["c"],[t._v("Month")])],1),e(x["a"],{on:{click:function(e){t.type="4day"}}},[e(C["c"],[t._v("4 days")])],1)],1)],1)],1)],1),e(zr["a"],{attrs:{height:"600"}},[e($r["a"],{ref:"calendar",attrs:{color:"primary",events:t.eventsbase,"event-color":t.getEventColor,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.viewDay},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),e(q["a"],{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[e(lt["a"],{attrs:{color:"grey lighten-4","min-width":"800px",flat:""}},[e(Mr["a"],{attrs:{color:t.selectedEvent.color,dark:""}},[e(B["a"],{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),e(S["a"]),e(b["a"],{attrs:{icon:""}},[e(_["a"],[t._v("mdi-eye")])],1)],1),e(ct["b"],[e(lt["a"],{staticClass:"mx-auto my-12",attrs:{loading:t.loading,"max-width":"800"}},[e("template",{slot:"progress"},[e(ut["a"],{attrs:{color:"deep-purple",height:"50",indeterminate:""}})],1),e(ct["c"],[t._v("Affected customer : "),e("span",{domProps:{innerHTML:t._s(t.selectedEvent.nom_client)}})]),e(H["a"],{staticClass:"mx-4"}),e(ct["b"],[e("div",{staticClass:"my-4 text-subtitle-1"},[e("h5",[e("i",{staticClass:"mdi mdi-account-group",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v("   List of assigned Technicians : ")]),t._l(t.selectedEvent.listetechniciens,(function(a,s){return e("h6",{key:s},[e("i",{staticClass:"mdi mdi-account",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v(" "+t._s(a.name)+" ")])}))],2),e("div",{staticClass:"my-4 text-subtitle-1"},[e("i",{staticClass:"mdi mdi-calendar-check",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),e(Ct["a"],[e("span",{domProps:{innerHTML:t._s(t.selectedEvent.start)}})])],1),e("div",{staticClass:"my-4 text-subtitle-1"},[e("h5",[e("i",{staticClass:"mdi mdi-format-list-group",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v("   machine list : ")]),e("div",{staticClass:"my-8 text-subtitle-8"},t._l(t.selectedEvent.listemachines,(function(a,s){return e("h6",{key:s},[e("i",{staticClass:"mdi mdi-slot-machine",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v(" "+t._s(a.reference)+" "+t._s(a.marque)+" ")])})),0)])]),e(H["a"],{staticClass:"mx-4"}),e(ct["a"])],2)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)},Fr=[],Hr={data:()=>({selected:"",selectedclient:"",selectedmachine:"",focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},items:["Foo","Bar","Fizz","Buzz"],selectedEvent:{},selectedElement:null,selectedOpen:!1,clients:[],machines:[],eventsbase:[],eventsbaseall:[]}),created(){this.getevents(),this.getclients(),this.getmachines()},mounted(){this.$refs.calendar.checkChange()},methods:{getmachines(){Z.get("stocks/getstocksproduits").then(t=>{this.machines=t.data}).then(t=>console.log(t))},getclients(){Z.get("clients/getclients").then(t=>{this.clients=t.data}).then(t=>console.log(t))},getevents(){Z.get("events/getevents").then(t=>{t.data.forEach((t,e,a)=>{var s=new Date(t.date_debut),i=new Date(t.date_fin);this.eventsbase.push({end:i,start:s,name:t.subject,color:t.color,nom_client:t.client_id["name"],listemachines:t.listemachines,listetechniciens:t.listetechniciens})}),this.eventsbaseall=this.eventsbase}).then(t=>console.log(t))},filter(){if(""==this.selectedclient)this.eventsbase=this.eventsbaseall;else if("all"==this.selectedclient)this.eventsbase=this.eventsbaseall;else{this.eventsbase=this.eventsbaseall;let t=this.eventsbase.filter(t=>t.color==this.selectedclient);this.eventsbase=t,console.log(this.eventsbase)}},filtrermachine(){if(""==this.selectedmachine)this.eventsbase=this.eventsbaseall;else if("all"==this.selectedmachine)this.eventsbase=this.eventsbaseall;else{this.eventsbase=this.eventsbaseall;let t=this.eventsbase.filter(t=>t.machine==this.selectedmachine);console.log(this.eventsbase),this.eventsbase=t}},viewDay({date:t}){this.focus=t,this.type="day"},getEventColor(t){return t.color},setToday(){this.focus=""},prev(){this.$refs.calendar.prev()},next(){this.$refs.calendar.next()},showEvent({nativeEvent:t,event:e}){const a=()=>{console.log(e),this.selectedEvent=e,this.selectedElement=t.target,requestAnimationFrame(()=>requestAnimationFrame(()=>this.selectedOpen=!0))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame(()=>requestAnimationFrame(()=>a()))):a(),t.stopPropagation()}}},Gr=Hr,Yr=(a("e205"),Object(l["a"])(Gr,Nr,Fr,!1,null,null,null)),Qr=Yr.exports,Vr=function(){var t=this,e=t._self._c;return e(p["a"],[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"10px"}})]),e(V["a"],{staticClass:"fill-height"},[e(F["a"],[e(zr["a"],{attrs:{height:"64"}},[e(Mr["a"],{attrs:{flat:""}},[e(b["a"],{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),e(b["a"],{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[e(_["a"],{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),e(b["a"],{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[e(_["a"],{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?e(B["a"],[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),e(S["a"]),e(q["a"],{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",s,!1),a),[e("span",[t._v(t._s(t.typeToLabel[t.type]))]),e(_["a"],{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[e(k["a"],[e(x["a"],{on:{click:function(e){t.type="day"}}},[e(C["c"],[t._v("Day")])],1),e(x["a"],{on:{click:function(e){t.type="week"}}},[e(C["c"],[t._v("Week")])],1),e(x["a"],{on:{click:function(e){t.type="month"}}},[e(C["c"],[t._v("Month")])],1),e(x["a"],{on:{click:function(e){t.type="4day"}}},[e(C["c"],[t._v("4 days")])],1)],1)],1)],1)],1),e(zr["a"],{attrs:{height:"600"}},[e($r["a"],{ref:"calendar",attrs:{color:"primary",events:t.eventsbase,"event-color":t.getEventColor,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.viewDay},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),e(q["a"],{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[e(lt["a"],{attrs:{color:"grey lighten-4","min-width":"800px",flat:""}},[e(Mr["a"],{attrs:{color:t.selectedEvent.color,dark:""}},[e(B["a"],{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),e(S["a"]),e(b["a"],{attrs:{icon:""}},[e(_["a"],[t._v("mdi-eye")])],1)],1),e(ct["b"],[e(lt["a"],{staticClass:"mx-auto my-12",attrs:{loading:t.loading,"max-width":"800"}},[e("template",{slot:"progress"},[e(ut["a"],{attrs:{color:"deep-purple",height:"50",indeterminate:""}})],1),e(ct["c"],[t._v("Affected customer : "),e("span",{domProps:{innerHTML:t._s(t.selectedEvent.nom_client)}})]),e(H["a"],{staticClass:"mx-4"}),e(ct["b"],[e("div",{staticClass:"my-4 text-subtitle-1"},[e("h5",[e("i",{staticClass:"mdi mdi-account-group",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v("   List of assigned Technicians :")]),t._l(t.selectedEvent.listetechniciens,(function(a,s){return e("h6",{key:s},[e("i",{staticClass:"mdi mdi-account",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v(" "+t._s(a.name)+" ")])}))],2),e("div",{staticClass:"my-4 text-subtitle-1"},[e("i",{staticClass:"mdi mdi-calendar-check",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v(" "),e(Ct["a"],[e("span",{domProps:{innerHTML:t._s(t.selectedEvent.start)}})])],1),e("div",{staticClass:"my-4 text-subtitle-1"},[e("h5",[e("i",{staticClass:"mdi mdi-format-list-group",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v("   machine list :")]),e("div",{staticClass:"my-8 text-subtitle-8"},t._l(t.selectedEvent.listemachines,(function(a,s){return e("h6",{key:s},[e("i",{staticClass:"mdi mdi-slot-machine",staticStyle:{"font-size":"22px","margin-bottom":"10px"}}),t._v(" "+t._s(a.reference)+" "+t._s(a.marque)+" ")])})),0)])]),e(H["a"],{staticClass:"mx-4"}),e(ct["a"])],2)],1),e(ct["a"],[e(b["a"],{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)},Wr=[],Jr={data:()=>({selected:"",focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},items:["Foo","Bar","Fizz","Buzz"],selectedEvent:{},selectedElement:null,selectedOpen:!1,eventsbase:[],eventsbaseall:[]}),created(){this.getevents()},mounted(){this.$refs.calendar.checkChange()},methods:{getevents(){let t=JSON.parse(window.localStorage.getItem("userData")),e=t[0]["_id"];Z.get("events/geteventsbytechnicien/"+e).then(t=>{t.data.forEach((t,e,a)=>{var s=new Date(t.date_debut),i=new Date(t.date_fin);this.eventsbase.push({end:i,start:s,name:t.subject,color:t.color,nom_client:t.client_id["name"],listemachines:t.listemachines,listetechniciens:t.listetechniciens})}),this.eventsbaseall=this.eventsbase}).then(t=>console.log(t))},filter(){if(""==this.selecteduser)this.eventsbase=this.eventsbaseall;else if("all"==this.selecteduser)this.eventsbase=this.eventsbaseall;else{this.eventsbase=this.eventsbaseall;let t=this.eventsbase.filter(t=>t.color==this.selecteduser);this.eventsbase=t}},filterzone(){if(""==this.selectedzone)this.eventsbase=this.eventsbaseall;else if("all"==this.selectedzone)this.eventsbase=this.eventsbaseall;else{this.eventsbase=this.eventsbaseall;let t=this.eventsbase.filter(t=>t.zone==this.selectedzone);this.eventsbase=t}},viewDay({date:t}){this.focus=t,this.type="day"},getEventColor(t){return t.color},setToday(){this.focus=""},prev(){this.$refs.calendar.prev()},next(){this.$refs.calendar.next()},showEvent({nativeEvent:t,event:e}){const a=()=>{console.log(e),this.selectedEvent=e,this.selectedElement=t.target,requestAnimationFrame(()=>requestAnimationFrame(()=>this.selectedOpen=!0))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame(()=>requestAnimationFrame(()=>a()))):a(),t.stopPropagation()}}},Ur=Jr,Zr=(a("5aa2"),Object(l["a"])(Ur,Vr,Wr,!1,null,null,null)),Xr=Zr.exports,Kr=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("machines")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/addmachine"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Add machine")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste of machines")]),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left"},[t._v("Modele")]),e("th",{staticClass:"text-left"},[t._v("Marque")]),e("th",{staticClass:"text-left"},[t._v("Type")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.machines,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.modele))]),e("td",[t._v(t._s(a.marque))]),e("td",[t._v(t._s(a.type))]),e("td",[e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e(k["a"],[e(yt["a"],{attrs:{persistent:"","max-width":"390"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(x["a"],[e(C["c"],t._g(t._b({},"v-list-item-title",s,!1),a),[t._v(" delete ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h5"},[t._v(" delete machine? ")]),e(ct["b"],[t._v("are you sure you want to delete this machine ?")]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e(b["a"],{attrs:{color:"red",text:""},on:{click:function(e){return t.deletemachine(a._id)}}},[t._v(" Confirmer ")])],1)],1)],1)],1)],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},tn=[],en={data(){return{machines:[],dialog:!1}},computed:{searchFunction(){return this.machines.filter(t=>t.modele.toLowerCase().indexOf(this.search.toLowerCase())>-1)}},created(){this.getmachines()},methods:{getmachines(){Z.get("machines/getmachines").then(t=>{this.machines=t.data}).then(t=>console.log(t))},deletemachine(t){Z.delete("machines/deletemachine/"+t).then(e=>{console.log(t),this.$toast.success("machine supprimé!",{position:"top-right"}),this.getmachines(),this.dialog=!1,this.$router.push("/machines")})}}},an=en,sn=Object(l["a"])(an,Kr,tn,!1,null,null,null),rn=sn.exports,nn=a("2e4b"),on=function(){var t=this,e=t._self._c;return e(Je["a"],{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(Ze["a"],[e(Xe["a"],{attrs:{complete:t.e1>1,step:"1"}},[t._v(" Choisir Catégorie ")]),e(H["a"]),e(Xe["a"],{attrs:{complete:t.e1>2,step:"2"}},[t._v(" Enregistrer ")])],1),e(Ze["b"],[e(Ue["a"],{attrs:{step:"1"}},[e(wt["a"],[e(lt["a"],{staticClass:"mb-0",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{height:"200px"}},[e(It["a"],{attrs:{items:t.items,"search-input":t.search,clearable:"",dense:"",filled:"","hide-selected":"",outlined:"","persistent-hint":"","small-chips":"",solo:"",label:"Select a category",size:"55",rules:[()=>!!t.categorie||"Category is required"]},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.categorie,callback:function(e){t.categorie=e},expression:"categorie"}})],1),e(lt["a"],{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{height:"200px"}},[e(It["a"],{attrs:{items:t.filteredSubItems,"search-input":t.subSearch,"item-text":"name","item-value":"name",clearable:"",dense:"",filled:"","hide-selected":"",outlined:"","persistent-hint":"",label:"Select a subcategory","small-chips":"",solo:"",size:32,rules:[()=>!!t.subCategorie||"Subcategory is required"]},on:{"update:searchInput":function(e){t.subSearch=e},"update:search-input":function(e){t.subSearch=e}},model:{value:t.subCategorie,callback:function(e){t.subCategorie=e},expression:"subCategorie"}})],1),e(b["a"],{attrs:{color:"primary",disabled:!t.valid1},on:{click:function(e){t.e1=2}}},[t._v("Continue")]),e(b["a"],{attrs:{text:""}},[t._v("Cancel")])],1)],1),t.subCategorie?e(Ue["a"],{attrs:{step:"2"}},[e(lt["a"],{staticClass:"mb-12",attrs:{height:"600px"}},[e(ct["b"],["Voiture"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(q["a"],{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ft["a"],t._g(t._b({attrs:{label:"Année Fabrication",readonly:"",rules:t.anneefabricationRules,required:"",id:"anneefabrication",outlined:""},model:{value:t.anneefabrication,callback:function(e){t.anneefabrication=e},expression:"anneefabrication"}},"v-text-field",s,!1),a))]}}],null,!1,3137122573)},[e(nn["a"],{attrs:{id:"anneefabrication-picker",type:"month","picker-date":t.anneefabrication},on:{"update:pickerDate":function(e){t.anneefabrication=e},"update:picker-date":function(e){t.anneefabrication=e}},model:{value:t.anneefabrication,callback:function(e){t.anneefabrication=e},expression:"anneefabrication"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Type Carburant",type:"text",rules:t.typecarburantRules,outlined:"",required:"",id:"typecarburant"},model:{value:t.typecarburant,callback:function(e){t.typecarburant=e},expression:"typecarburant"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"puissance",rules:t.puissanceRules,type:"text",required:"",outlined:"",id:"puissance"},model:{value:t.puissance,callback:function(e){t.puissance=e},expression:"puissance"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"numero chassis",type:"text",outlined:"",required:"",rules:t.numerochassisRules,id:"numerochassis"},model:{value:t.numerochassis,callback:function(e){t.numerochassis=e},expression:"numerochassis"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date vidange",type:"date",outlined:"",required:"",rules:t.datevidangeRules,id:"datevidange"},model:{value:t.datevidange,callback:function(e){t.datevidange=e},expression:"datevidange"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date assurance",type:"date",outlined:"",required:"",rules:t.dateassuranceRules,id:"dateassurance"},model:{value:t.dateassurance,callback:function(e){t.dateassurance=e},expression:"dateassurance"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date visite technique",type:"date",outlined:"",required:"",rules:t.datevisitetechniqueRules,id:"datevisitetechnique"},model:{value:t.datevisitetechnique,callback:function(e){t.datevisitetechnique=e},expression:"datevisitetechnique"}})],1)],1)]:"Camion"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.matriculeRules,counter:20,outlined:"",label:"matricule",required:""},model:{value:t.matricule,callback:function(e){t.matricule=e},expression:"matricule"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(q["a"],{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(Ft["a"],t._g(t._b({attrs:{label:"Année Fabrication",rules:t.anneefabricationRules,readonly:"",required:"",id:"anneefabrication",outlined:""},model:{value:t.anneefabrication,callback:function(e){t.anneefabrication=e},expression:"anneefabrication"}},"v-text-field",s,!1),a))]}}],null,!1,3835423757)},[e(nn["a"],{attrs:{id:"anneefabrication-picker",type:"month","picker-date":t.anneefabrication},on:{"update:pickerDate":function(e){t.anneefabrication=e},"update:picker-date":function(e){t.anneefabrication=e}},model:{value:t.anneefabrication,callback:function(e){t.anneefabrication=e},expression:"anneefabrication"}})],1)],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Type Carburant",rules:t.typecarburantRules,type:"text",outlined:"",required:"",id:"typecarburant"},model:{value:t.typecarburant,callback:function(e){t.typecarburant=e},expression:"typecarburant"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.puissanceRules,label:"puissance",type:"text",required:"",outlined:"",id:"puissance"},model:{value:t.puissance,callback:function(e){t.puissance=e},expression:"puissance"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"numero chassis",type:"text",outlined:"",required:"",rules:t.numerochassisRules,id:"numerochassis"},model:{value:t.numerochassis,callback:function(e){t.numerochassis=e},expression:"numerochassis"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date vidange",type:"date",outlined:"",required:"",rules:t.datevidangeRules,id:"datevidange"},model:{value:t.datevidange,callback:function(e){t.datevidange=e},expression:"datevidange"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date vignette",type:"date",outlined:"",required:"",rules:t.datevignetteRules,id:"datevignette"},model:{value:t.datevignette,callback:function(e){t.datevignette=e},expression:"datevignette"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date assurance",type:"date",outlined:"",required:"",rules:t.dateassuranceRules,id:"dateassurance"},model:{value:t.dateassurance,callback:function(e){t.dateassurance=e},expression:"dateassurance"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Date visite technique",type:"date",outlined:"",required:"",rules:t.datevisitetechniqueRules,id:"datevisitetechnique"},model:{value:t.datevisitetechnique,callback:function(e){t.datevisitetechnique=e},expression:"datevisitetechnique"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.kilometrageRules,counter:20,outlined:"",label:"kilométrage",required:""},model:{value:t.kilometrage,callback:function(e){t.kilometrage=e},expression:"kilometrage"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.capaciteRules,counter:20,outlined:"",label:"capacite",required:""},model:{value:t.capacite,callback:function(e){t.capacite=e},expression:"capacite"}})],1)],1)]:t._e(),"Réfrigirateur"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.capaciterefrigidaireRules,label:"Capacite Refrigidaire",type:"text",outlined:"",required:"",id:"capaciterefrigidaire"},model:{value:t.capaciterefrigidaire,callback:function(e){t.capaciterefrigidaire=e},expression:"capaciterefrigidaire"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.classerefrigidaireRules,label:"Classe Refrigidaire",type:"text",outlined:"",required:"",id:"classerefrigidaire"},model:{value:t.classerefrigidaire,callback:function(e){t.classerefrigidaire=e},expression:"classerefrigidaire"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Type Refrigidaire",rules:t.typerefrigidaireRules,type:"text",required:"",outlined:"",id:"typerefrigidaire"},model:{value:t.typerefrigidaire,callback:function(e){t.typerefrigidaire=e},expression:"typerefrigidaire"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Poids Refrigidaire",rules:t.poidsrefrigidaireRules,type:"text",outlined:"",required:"",id:"poidsrefrigidaire"},model:{value:t.poidsrefrigidaire,callback:function(e){t.poidsrefrigidaire=e},expression:"poidsrefrigidaire"}})],1)],1)]:t._e(),"climatiseur"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Capacité Refroidissement",rules:t.capaciterefroidissementRules,type:"text",required:"",outlined:"",id:"capaciterefroidissement"},model:{value:t.capaciterefroidissement,callback:function(e){t.capaciterefroidissement=e},expression:"capaciterefroidissement"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Puissance Climatiseur",rules:t.puissanceclimatiseurRules,type:"text",required:"",outlined:"",id:"puissanceclimatiseur"},model:{value:t.puissanceclimatiseur,callback:function(e){t.puissanceclimatiseur=e},expression:"puissanceclimatiseur"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.classeclimatiseurRules,label:"Classe climatiseur",type:"text",required:"",outlined:"",id:"classeclimatiseur"},model:{value:t.classeclimatiseur,callback:function(e){t.classeclimatiseur=e},expression:"classeclimatiseur"}})],1)],1)]:t._e(),"machine à laver"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.capacitemachineRules,label:"Capacité Machine",type:"text",required:"",id:"capacitemachine",outlined:""},model:{value:t.capacitemachine,callback:function(e){t.capacitemachine=e},expression:"capacitemachine"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.vitessemachineRules,label:"Vitesse Machine",type:"text",required:"",id:"vitessemachine",outlined:""},model:{value:t.vitessemachine,callback:function(e){t.vitessemachine=e},expression:"vitessemachine"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.classemachineRules,label:"Classe Machine",type:"text",required:"",id:"classemachine",outlined:""},model:{value:t.classemachine,callback:function(e){t.classemachine=e},expression:"classemachine"}})],1)],1)]:t._e(),"aspirateur"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Type Aspirateur",rules:t.typeaspirateurRules,type:"text",required:"",id:"typeaspirateur",outlined:""},model:{value:t.typeaspirateur,callback:function(e){t.typeaspirateur=e},expression:"typeaspirateur"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.puissanceaspirateurRules,label:"Puissance Aspirateur",type:"text",required:"",id:"puissanceaspirateur",outlined:""},model:{value:t.puissanceaspirateur,callback:function(e){t.puissanceaspirateur=e},expression:"puissanceaspirateur"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.capaciteaspirateurRules,label:"Capacité Aspirateur",type:"text",required:"",id:"capaciteaspirateur",outlined:""},model:{value:t.capaciteaspirateur,callback:function(e){t.capaciteaspirateur=e},expression:"capaciteaspirateur"}})],1)],1)]:t._e(),"cafitiére"===t.subCategorie.name?[e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.marqueRules,counter:20,label:"brand",outlined:"",required:""},model:{value:t.marque,callback:function(e){t.marque=e},expression:"marque"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.modeleRules,counter:20,outlined:"",label:"model",required:""},model:{value:t.modele,callback:function(e){t.modele=e},expression:"modele"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(pt["a"],{attrs:{label:"Emplacement",items:t.emplacements,rules:t.emplacementRules,outlined:"","item-text":"nom","item-value":"_id","return-object":""},model:{value:t.emplacement_id,callback:function(e){t.emplacement_id=e},expression:"emplacement_id"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{label:"Type Cafitiere",rules:t.typecafitiereRules,type:"text",required:"",id:"typecafitiere",outlined:""},model:{value:t.typecafitiere,callback:function(e){t.typecafitiere=e},expression:"typecafitiere"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.capacitecafitiereRules,label:"Capacité Cafitiere",type:"text",required:"",id:"capacitecafitiere",outlined:""},model:{value:t.capacitecafitiere,callback:function(e){t.capacitecafitiere=e},expression:"capacitecafitiere"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.puissancecafitiereRules,label:"puissance Cafitiere",type:"text",required:"",id:"puissancecafitiere",outlined:""},model:{value:t.puissancecafitiere,callback:function(e){t.puissancecafitiere=e},expression:"puissancecafitiere"}})],1),e(F["a"],{attrs:{cols:"12",md:"4"}},[e(Ft["a"],{attrs:{rules:t.filtrationcafitiereRules,label:"filtration Cafitiere",type:"text",required:"",id:"filtrationcafitiere",outlined:""},model:{value:t.filtrationcafitiere,callback:function(e){t.filtrationcafitiere=e},expression:"filtrationcafitiere"}})],1)],1)]:t._e()],2)],1),e(b["a"],{attrs:{color:"primary"},on:{click:function(e){return t.save(t.subCategorie)}}},[t._v(" Save ")]),e(b["a"],{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v(" Cancel ")])],1):t._e()],1)],1)},ln=[],cn={data(){return{valid1:!1,machine:{},emplacements:[],categorie:null,items:["Machine mobile","Grand-electroménager","petit-électroménager"],search:"",subCategorie:null,subItems:[{name:"Voiture",categorie:"Machine mobile"},{name:"Camion",categorie:"Machine mobile"},{name:"Réfrigirateur",categorie:"Grand-electroménager"},{name:"machine à laver",categorie:"Grand-electroménager"},{name:"climatiseur",categorie:"Grand-electroménager"},{name:"aspirateur",categorie:"petit-électroménager"},{name:"cafitiére",categorie:"petit-électroménager"}],subSearch:"",e1:1,marque:"",modele:"",numlot:"",emplacement_id:"",anneefabrication:"",typecarburant:"",numerochassis:"",puissance:"",capacitemachine:"",vitessemachine:"",classemachine:"",capaciterefrigidaire:"",classerefrigidaire:"",typerefrigidaire:"",poidsrefrigidaire:"",capaciterefroidissement:"",puissanceclimatiseur:"",classeclimatiseur:"",typeaspirateur:"",puissanceaspirateur:"",capaciteaspirateur:"",typecafitiere:"",capacitecafitiere:"",puissancecafitiere:"",filtrationcafitiere:"",datevidange:"",matricule:"",datevignette:"",datevisitetechnique:"",kilometrage:"",capacite:"",dateassurance:"",matriculeRules:[t=>!!t||"registration number is required"],kilometrageRules:[t=>!!t||"mileage  is required"],capaciteRules:[t=>!!t||"capacity is required"],puissanceRules:[t=>!!t||"power is required"],numerochassisRules:[t=>!!t||"chassis number is required"],datevidangeRules:[t=>!!t||"emptying date is required"],dateassuranceRules:[t=>!!t||"insurance date is required"],typecarburantRules:[t=>!!t||"fuel type is required"],anneefabricationRules:[t=>!!t||"year of manufacture is required"],emplacementRules:[t=>!!t||"emplacement is required"],marqueRules:[t=>!!t||"brand is required"],modeleRules:[t=>!!t||"modele is required"],datevignetteRules:[t=>!!t||"this date is required",t=>new Date(t)<=new Date||"The date must be after today"],datevisitetechniqueRules:[t=>!!t||"La date is required",t=>new Date(t)>=new Date||"The date must be before today"],capaciterefrigidaireRules:[t=>!!t||"fridge capacity is required"],classerefrigidaireRules:[t=>!!t||"refrigerator class is required"],typerefrigidaireRules:[t=>!!t||"fridge type is required"],poidsrefrigidaireRules:[t=>!!t||"fridge weight is required"],capaciterefroidissementRules:[t=>!!t||"cooling capacity is required"],puissanceclimatiseurRules:[t=>!!t||"powerair conditioner is required"],classeclimatiseurRules:[t=>!!t||"air conditioner class is required"],capacitemachineRules:[t=>!!t||"machine capacity is required"],vitessemachineRules:[t=>!!t||"machine speed is required"],classemachineRules:[t=>!!t||"machine class is required"],typeaspirateurRules:[t=>!!t||"type is required"],puissanceaspirateurRules:[t=>!!t||"vacuum cleaner power is required"],capaciteaspirateurRules:[t=>!!t||"vacuum cleaner capacity is required"],typecafitiereRules:[t=>!!t||"coffee maker type is required"],capacitecafitiereRules:[t=>!!t||"coffee capacity is required"],puissancecafitiereRules:[t=>!!t||"coffee maker power is required"],filtrationcafitiereRules:[t=>!!t||"coffee filtration is required"],subCategorieRules:[t=>!!t||"subCategorie is required"],CategoryRules:[t=>!!t||"Categorie is required"]}},computed:{filteredSubItems(){return this.categorie?this.subItems.filter(t=>t.categorie===this.categorie):[]}},created(){this.getemplacements()},watch:{categorie(t){this.subCategorie="",this.validateForm()},subCategorie(t){this.validateForm()}},methods:{validateForm(){this.valid1=!!this.categorie&&!!this.subCategorie,console.log(this.valid1)},getemplacements(){Z.get("stocks/getemplacementsstockage").then(t=>{console.log(t.data),this.emplacements=t.data}).then(t=>console.log(t))},save(t){switch(t.name){case"Voiture":this.machine={marque:this.marque,modele:this.modele,type:"Voiture",emplacement_id:this.emplacement_id,anneefabrication:this.anneefabrication,typecarburant:this.typecarburant,puissance:this.puissance,numerochassis:this.numerochassis,datevidange:this.datevidange,dateassurance:this.dateassurance,datevisitetechnique:this.datevisitetechnique,categorie:this.categorie};break;case"Camion":this.machine={marque:this.marque,modele:this.modele,matricule:this.matricule,type:"Camion",emplacement_id:this.emplacement_id,anneefabrication:this.anneefabrication,typecarburant:this.typecarburant,puissance:this.puissance,numerochassis:this.numerochassis,datevidange:this.datevidange,datevignette:this.datevignette,dateassurance:this.dateassurance,datevisitetechnique:this.datevisitetechnique,kilometrage:this.kilometrage,capacite:this.capacite,categorie:this.categorie};break;case"Réfrigirateur":this.machine={marque:this.marque,modele:this.modele,type:"Réfrigirateur",emplacement_id:this.emplacement_id,categorie:this.categorie,capaciterefrigidaire:this.capaciterefrigidaire,classerefrigidaire:this.classerefrigidaire,poidsrefrigidaire:this.poidsrefrigidaire,typerefrigidaire:this.typerefrigidaire};break;case"machine à laver":this.machine={marque:this.marque,modele:this.modele,type:"machine à laver",emplacement_id:this.emplacement_id,categorie:this.categorie,capacitemachine:this.capacitemachine,vitessemachine:this.vitessemachine,classemachine:this.classemachine};break;case"climatiseur":this.machine={marque:this.marque,modele:this.modele,type:"climatiseur",emplacement_id:this.emplacement_id,categorie:this.categorie,capaciterefroidissement:this.capaciterefroidissement,puissanceclimatiseur:this.puissanceclimatiseur,classeclimatiseur:this.classeclimatiseur};break;case"cafitiére":this.machine={marque:this.marque,modele:this.modele,type:"cafitiére",emplacement_id:this.emplacement_id,categorie:this.categorie,typecafitiere:this.typecafitiere,capacitecafitiere:this.capacitecafitiere,filtrationcafitiere:this.filtrationcafitiere,puissancecafitiere:this.puissancecafitiere};break;case"aspirateur":this.machine={marque:this.marque,modele:this.modele,type:"aspirateur",emplacement_id:this.emplacement_id,categorie:this.categorie,typeaspirateur:this.typeaspirateur,puissanceaspirateur:this.puissanceaspirateur,capaciteaspirateur:this.capaciteaspirateur};break}console.log(this.machine),Z.post("machines/addmachine",this.machine).then(t=>{this.$toast.success("Machine Successfully Created!",{position:"top-right"}),this.$router.push("/machines")})}}},dn=cn,un=Object(l["a"])(dn,on,ln,!1,null,null,null),pn=un.exports,mn=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Offres")]),e("br"),e("br"),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("div",{attrs:{id:"fb-editor"}}),e(H["a"]),e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des Offres")]),e("br"),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Ticket")]),e("th",{staticClass:"text-left"},[t._v("Prix Maintenance")]),e("th",{staticClass:"text-left"},[t._v("Labor price:")]),e("th",{staticClass:"text-left"},[t._v("Dureé")]),e("th",{staticClass:"text-left"},[t._v("Date confirmation")]),e("th",{staticClass:"text-left"},[t._v("Voir")]),e("th",{staticClass:"text-left"},[t._v("Réception")]),e("th",{staticClass:"text-left"},[t._v("Client")]),e("th",{staticClass:"text-left"},[t._v("Etat Ticket")]),e("th",{staticClass:"text-left"},[t._v("Facture")])])]),e("tbody",t._l(t.offres,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.ticket_id["numero"]))]),e("td",[t._v(" "+t._s(a.prixmain)+" ")]),e("td",[t._v(" "+t._s(a.prix_oeuvre)+" ")]),e("td",[t._v(t._s(a.duree))]),e("td",[t._v(t._s(a.date_confirmation))]),e("td",[e("router-link",{attrs:{to:{name:"voir_devis",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"blue darken-2"}},[t._v(" mdi-file ")])],1)],1),e("td",[e("span",{directives:[{name:"show",rawName:"v-show",value:"confirmé"==a.etat_reception,expression:"offre.etat_reception == 'confirmé'"}],staticStyle:{color:"green","font-weight":"bold","font-size":"15px"}},[t._v("Confirmé ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"refusé"==a.etat_reception,expression:"offre.etat_reception == 'refusé'"}],staticStyle:{color:"red","font-weight":"bold","font-size":"15px"}},[t._v(" Refusé")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"en attente"==a.etat_reception,expression:"offre.etat_reception == 'en attente'"}],staticStyle:{color:"blue","font-weight":"bold","font-size":"15px"}},[t._v(" En attente")])]),e("td",[e("span",{directives:[{name:"show",rawName:"v-show",value:"confirmé"==a.etat_confirmation,expression:"offre.etat_confirmation == 'confirmé'"}],staticStyle:{color:"green","font-weight":"bold","font-size":"15px"}},[t._v("Confirmé ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"refusé"==a.etat_confirmation,expression:"offre.etat_confirmation == 'refusé'"}],staticStyle:{color:"red","font-weight":"bold","font-size":"15px"}},[t._v(" Refusé")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"en attente"==a.etat_confirmation,expression:"offre.etat_confirmation == 'en attente'"}],staticStyle:{color:"blue","font-weight":"bold","font-size":"15px"}},[t._v(" En attente")])]),e("td",["en cours"===a.ticket_id["etat"]?e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" En cours ")]):t._e(),"clôturée"===a.ticket_id["etat"]?e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Clôturée ")]):t._e(),"devis_attente_accord_client_final"===a.ticket_id["etat"]?e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" devis attente accord client final ")]):t._e(),"refusparréception"===a.ticket_id["etat"]?e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Clôturée ")]):t._e(),"en attente de facturation"===a.ticket_id["etat"]?e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" en attente de facturation ")]):t._e()],1),e("td",[e("router-link",{directives:[{name:"show",rawName:"v-show",value:"confirmé"==a.etat_confirmation,expression:"offre.etat_confirmation == 'confirmé'"}],attrs:{to:{name:"voir_factures",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"green"}},[t._v(" mdi-cash ")])],1),e("span",{directives:[{name:"show",rawName:"v-show",value:"confirmé"!==a.etat_confirmation,expression:"offre.etat_confirmation !== 'confirmé'"}],staticStyle:{color:"gray","font-weight":"bold","font-size":"15px"}},[t._v(" Non Facturé ")])],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},hn=[],vn={data(){return{form:{parent_id:{name:"",prenom:""}},offres:[],search:"",dialog:!1}},mounted(){Ut()(t=>{t("#fb-editor").formBuilder()})},created(){this.getoffres()},methods:{getoffres(){Z.get("offres/getoffres").then(t=>{this.offres=t.data,console.log(t.data)}).then(t=>console.log(t))},acceptoffre(t){let e={_id:t._id,client_id:t.ticket_id.client_id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/acceptoffre",e).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})},refusoffre(t){let e={_id:t._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/refusoffre",e).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})}}},fn=vn,gn=Object(l["a"])(fn,mn,hn,!1,null,null,null),bn=gn.exports,_n=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Devis Interne")]),e("br"),e("br"),e(q["a"],{attrs:{"offset-y":""}})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("div",{attrs:{id:"fb-editor"}}),e(H["a"]),e(lt["a"],{staticClass:"support-requests mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0 white--text info"},[e("p",{staticClass:"white--text"},[t._v("Liste des Offres")]),e("br"),e(S["a"])],1),e(ct["b"],{staticClass:"pa-0"},[e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",{staticClass:"pl-2"},[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("Ticket")]),e("th",{staticClass:"text-left"},[t._v("Voir")])])]),e("tbody",t._l(t.offres,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.ticket_id["numero"]))]),e("td",[e("router-link",{attrs:{to:{name:"voir_devis",params:{id:a._id}}}},[e(_["a"],{attrs:{large:"",color:"blue darken-2"}},[t._v(" mdi-file ")])],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)])},kn=[],xn={data(){return{form:{parent_id:{name:"",prenom:""}},offres:[],search:"",dialog:!1}},mounted(){Ut()(t=>{t("#fb-editor").formBuilder()})},created(){this.getoffres()},methods:{getoffres(){Z.get("offres/getoffresinterne").then(t=>{this.offres=t.data,console.log(t.data)}).then(t=>console.log(t))},acceptoffre(t){let e={_id:t._id,client_id:t.ticket_id.client_id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/acceptoffre",e).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})},refusoffre(t){let e={_id:t._id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(t=>{t.isConfirmed&&Z.put("offres/refusoffre",e).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.$router.go(0),this.getoffres()})}}},Cn=xn,yn=Object(l["a"])(Cn,_n,kn,!1,null,null,null),wn=yn.exports,qn=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Voir Devi")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/appels_doffres"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("body",[e("div",{attrs:{id:"invoiceholder"}},[e("div",{staticClass:"effect2",attrs:{id:"invoice"}},[e("div",{attrs:{id:"invoice-top"}},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"title"},[e("h1",[t._v("Devis #"),e("span",{staticClass:"invoiceVal invoice_num"},[t._v(t._s(t.devi.ticket_id.numero))])]),e("p",[t._v(" Date émission: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.created_at)))]),e("br")]),e("p",[t._v(" Date confirmation: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.date_confirmation)))]),e("br")])])]),e("div",{attrs:{id:"invoice-mid"}},[e("div",{attrs:{id:"message"}}),e("div",{staticClass:"cta-group mobile-btn-group"},[e("a",{staticClass:"btn-primary",attrs:{href:"javascript:void(0);"}},[t._v("Approve")]),e("a",{staticClass:"btn-default",attrs:{href:"javascript:void(0);"}},[t._v("Reject")])]),e("div",{staticClass:"clearfix"},[e("div",{staticClass:"col-left"},[e("div",{staticClass:"clientlogo"},[e("img",{attrs:{src:"https://cdn3.iconfinder.com/data/icons/daily-sales/512/Sale-card-address-512.png",alt:"Sup"}})]),e("div",{staticClass:"clientinfo"},[e("h2",{attrs:{id:"supplier"}},[t._v(t._s(t.devi.ticket_id.numero))])])]),e("div",{staticClass:"col-right"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[e("span",[t._v("Adresse")]),e("label",{attrs:{id:"invoice_total"}},[t._v("client, 54 rue du mercure Z.I 2013 Ben Arous - Tunis")])])]),e("tr",[e("td",[e("span",[t._v("Téléphone")]),e("label",{attrs:{id:"currency"}},[t._v(" +216 70 029 400")])])]),e("tr",[e("td",[e("span",[t._v("Fax ")]),e("label",{attrs:{id:"payment_term"}},[t._v(" +216 71 384 885")])])]),e("tr",[e("td",[e("span",[t._v("Email")]),e("label",{attrs:{id:"invoice_type"}},[t._v("client@client.tn")])])])])])])])]),e("div",{attrs:{id:"invoice-bot"}},[e("div",{attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("ID")]),e("th",[t._v("piece de rechange ")]),e("th",[t._v("quantité")]),e("th",[t._v("prix unitaire ")]),e("th",[t._v("Total")])])]),t._l(t.devi.piecesderechanges,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(t._s(s+1))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(t._s(a.produit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(t._s(a.quantite))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Unit Price"}},[t._v(t._s(a.prixunit)+" dt")]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.prixunit*a.quantite)+" dt")])])})),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("Labor price:")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prix_oeuvre)+" dt")])]),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("prix maintenance")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prixmain)+" dt")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total HT")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt ")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total TTC ")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalttc)+" dt ")])])],2)])]),e("footer",[e("div",{staticClass:"clearfix",attrs:{id:"legalcopy"}},[t._v("                        "),e("h7",{staticClass:"col-center"},[t._v("Ce devis est valable 15 jours "),e("span",{staticClass:"email"},[e("a",[t._v(", merci de confirmer ce devis .")])])])],1)])])]),e("div",{staticClass:"text-center"},[e("div",[e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){return t.acceptoffre()}}},[t._v(" Accepter "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-checkbox-marked-circle ")])],1),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.refuseoffre()}}},[t._v(" Refuser "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1)])])])],1)],1)])},Sn=[],Bn={data(){return{devi:[],total:0,totalttcc:0}},created(){this.getdevi()},mounted(){Ut()(document).ready((function(){Ut()("button").click((function(){Ut()(document).scrollTop(Ut()(document).height())}))}))},computed:{totalPrice(){for(let t of this.devi.piecesderechanges)this.total+=parseInt(t.prixunit)*parseInt(t.quantite);return this.total+=parseInt(this.devi.prix_oeuvre),this.total+=parseInt(this.devi.prixmain),this.total},totalttc(){return this.totalttcc=1.19*parseInt(this.total),this.totalttcc+=1,this.totalttcc}},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},getdevi(){Z.get("offres/getdevibyid/"+this.$route.params.id).then(t=>{this.devi=t.data}).then(t=>console.log(t))},acceptoffre(){let t={_id:this.devi._id,client_id:this.devi.ticket_id.client_id};ye.a.fire({title:"etes vous sure?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmer!"}).then(e=>{e.isConfirmed&&Z.put("offres/acceptoffre",t).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.getdevi(),window.location.reload()})},refuseoffre(){let t={_id:this.devi._id};ye.a.fire({title:"etes vous sure?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmer!"}).then(e=>{e.isConfirmed&&Z.put("offres/refusoffre",t).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right",timeout:3e3})}),this.getdevi(),window.location.reload()})}}},Rn=Bn,En=(a("289a"),Object(l["a"])(Rn,qn,Sn,!1,null,"7562c9d8",null)),jn=En.exports,An=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"dashboard-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h3",{staticClass:"page-title"},[t._v("Voir Facture")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("router-link",{attrs:{to:"/appels_doffres"}},[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow mr-1",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Back")])],1)]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e("body",[e("div",{attrs:{id:"invoiceholder"}},[e("div",{staticClass:"effect2",attrs:{id:"invoice"}},[e("div",{attrs:{id:"invoice-top"}},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("9209"),alt:"Logo"}})]),e("div",{staticClass:"title"},[e("h1",[t._v("Facture #"),e("span",{staticClass:"invoiceVal invoice_num"},[t._v(t._s(t.devi.ticket_id.numero))])]),e("p",[t._v(" Date Réception: "),e("span",{attrs:{id:"invoice_date"}},[t._v(t._s(t._f("formatDate")(t.devi.ticket_id.datereception)))]),e("br")])])]),e("div",{attrs:{id:"invoice-mid"}},[e("div",{staticClass:"cta-group mobile-btn-group"},[e("a",{staticClass:"btn-primary",attrs:{href:"javascript:void(0);"}},[t._v("Approve")]),e("a",{staticClass:"btn-default",attrs:{href:"javascript:void(0);"}},[t._v("Reject")])]),e("div",{staticClass:"clearfix"},[e("div",{staticClass:"col-left"},[e("div",{staticClass:"clientlogo"},[e("img",{attrs:{src:"https://cdn3.iconfinder.com/data/icons/daily-sales/512/Sale-card-address-512.png",alt:"Sup"}})]),e("div",{staticClass:"clientinfo"},[e("h2",{attrs:{id:"supplier"}},[t._v(t._s(t.devi.ticket_id.numero))])])]),e("div",{staticClass:"col-right"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[e("span",[t._v("Adresse")]),e("label",{attrs:{id:"invoice_total"}},[t._v("client, 54 rue du mercure Z.I 2013 Ben Arous - Tunis")])])]),e("tr",[e("td",[e("span",[t._v("Téléphone")]),e("label",{attrs:{id:"currency"}},[t._v(" +216 70 029 400")])])]),e("tr",[e("td",[e("span",[t._v("Fax ")]),e("label",{attrs:{id:"payment_term"}},[t._v(" +216 71 384 885")])])]),e("tr",[e("td",[e("span",[t._v("Email")]),e("label",{attrs:{id:"invoice_type"}},[t._v("client@client.tn")])])])])])])])]),e("div",{attrs:{id:"invoice-bot"}},[e("div",{attrs:{id:"table"}},[e("table",{staticClass:"table-main"},[e("thead",[e("tr",{staticClass:"tabletitle"},[e("th",[t._v("ID")]),e("th",[t._v("piece de rechange ")]),e("th",[t._v("quantité")]),e("th",[t._v("prix unitaire ")]),e("th",[t._v("Total")])])]),t._l(t.devi.piecesderechanges,(function(a,s){return e("tr",{key:s,staticClass:"list-item"},[e("td",{staticClass:"tableitem",attrs:{"data-label":"Type"}},[t._v(t._s(s+1))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Description"}},[t._v(t._s(a.produit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Quantity"}},[t._v(t._s(a.quantite))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Unit Price"}},[t._v(t._s(a.prixunit))]),e("td",{staticClass:"tableitem",attrs:{"data-label":"Taxable Amount"}},[t._v(" "+t._s(a.prixunit*a.quantite))])])})),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("Labor price:")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prix_oeuvre)+" dt")])]),e("tr",{staticClass:"tabletitle"},[e("th",[t._v("prix maintenance")]),e("th"),e("th"),e("th"),e("th",{staticClass:"tableitem"},[t._v(t._s(t.devi.prixmain)+" dt")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total HT")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalPrice)+" dt ")])]),e("tr",{staticClass:"list-item total-row"},[e("th",{staticClass:"tableitem",attrs:{colspan:"4"}},[t._v(" Total TTC ")]),e("td",{attrs:{"data-label":"Grand Total",id:"val"}},[t._v(" "+t._s(t.totalttc)+" dt ")])])],2)])]),e("footer",[e("div",{staticClass:"clearfix",attrs:{id:"legalcopy"}})])])]),e("div",{staticClass:"text-center"},[e("div",[e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){return t.acceptoffre()}}},[t._v(" Accept "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-checkbox-marked-circle ")])],1),e(b["a"],{directives:[{name:"show",rawName:"v-show",value:"en attente"==t.devi.etat_reception,expression:"devi.etat_reception=='en attente'"}],staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.refuseoffre()}}},[t._v(" Decline "),e(_["a"],{attrs:{dark:"",right:""}},[t._v(" mdi-cancel ")])],1),e(b["a"],{staticClass:"ma-2",attrs:{color:"primary"},on:{click:function(e){return t.printContent("invoiceholder")}}},[e(_["a"],{attrs:{left:"",dark:""}},[t._v(" mdi-cloud-upload ")]),t._v("Print ")],1)],1)])])])],1)],1)])},Tn=[],In={data(){return{devi:[],total:0,totalttcc:0}},created(){this.getdevi()},mounted(){Ut()(document).ready((function(){Ut()("button").click((function(){Ut()(document).scrollTop(Ut()(document).height())}))}))},computed:{totalPrice(){for(let t of this.devi.piecesderechanges)this.total+=parseInt(t.prixunit)*parseInt(t.quantite);return this.total+=parseInt(this.devi.prix_oeuvre),this.total+=parseInt(this.devi.prixmain),this.total},totalttc(){return this.totalttcc=1.19*parseInt(this.total),this.totalttcc+=1,this.totalttcc}},methods:{printContent(t){var e=Ut()("body").html(),a=Ut()("#"+t).clone();Ut()("#text").val();Ut()("body").empty().html(a),window.print(),Ut()("body").html(e)},getdevi(){Z.get("offres/getdevibyid/"+this.$route.params.id).then(t=>{this.devi=t.data}).then(t=>console.log(t))},acceptoffre(){let t={_id:this.devi._id,client_id:this.devi.ticket_id.client_id};ye.a.fire({title:"Are you sure?",text:"You won't be able to revert thiss!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept!"}).then(e=>{e.isConfirmed&&Z.put("offres/acceptoffre",t).then(t=>{console.log(t),this.$toast.success("offre accepté!",{position:"top-right"})}),this.getdevi(),window.location.reload()})},refuseoffre(){let t={_id:this.devi._id};ye.a.fire({title:"etes vous sure?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmer!"}).then(e=>{e.isConfirmed&&Z.put("offres/refusoffre",t).then(t=>{console.log(t),this.$toast.success("offre refusé!",{position:"top-right"})}),this.getdevi(),window.location.reload()})}}},On=In,Pn=(a("fae2"),Object(l["a"])(On,An,Tn,!1,null,"144fad02",null)),Ln=Pn.exports,Dn=function(){var t=this,e=t._self._c;return e(dt["a"],{staticClass:"typography-page",attrs:{fluid:""}},[e("h1",{staticClass:"page-title mt-10 mb-6"},[t._v("Typography")]),e(V["a"],[e(F["a"],{attrs:{lg:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Headings")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{staticClass:"typography-widget pb-6",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"card-dark-grey",attrs:{cols:"12"}},[e("h1",[t._v("h1. Heading")]),e("h2",[t._v("h2. Heading")]),e("h3",[t._v("h3. Heading")]),e("h4",[t._v("h4. Heading")]),e("h5",[t._v("h5. Heading")]),e("h6",[t._v("h6. Heading")])])],1)],1)],1)],1),e(F["a"],{attrs:{lg:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Typography Colors")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{staticClass:"typography-widget pb-6",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"card-dark-grey",attrs:{cols:"12"}},[e("h1",{staticClass:"primary--text"},[t._v("h1. Heading")]),e("h2",{staticClass:"success--text"},[t._v("h2. Heading")]),e("h3",{staticClass:"secondary--text"},[t._v("h3. Heading")]),e("h4",{staticClass:"warning--text"},[t._v("h4. Heading")]),e("h5",{staticClass:"primary--text"},[t._v("h5. Heading")]),e("h6",{staticClass:"info--text"},[t._v("h6. Heading")])])],1)],1)],1)],1)],1),e(V["a"],[e(F["a"],{attrs:{lg:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Basic Text Settings")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{staticClass:"typography-widget pb-6",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"card-dark-grey",attrs:{cols:"12"}},[e("p",{staticClass:"font-weight-regular"},[t._v("Basic text")]),e("p",{staticClass:"font-weight-light"},[t._v("Basic light text")]),e("p",{staticClass:"font-weight-medium"},[t._v("Basic medium text")]),e("p",{staticClass:"font-weight-bold"},[t._v("Basic bold text")]),e("p",{staticClass:"text-uppercase"},[t._v("Basic Uppercase Text")]),e("p",{staticClass:"text-lowercase"},[t._v("Basic Lowercase Text")]),e("p",{staticClass:"text-capitalize"},[t._v("Basic Capitalized Text")]),e("p",{staticClass:"font-italic"},[t._v("Basic Cursive Text")])])],1)],1)],1)],1),e(F["a"],{attrs:{lg:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Text Size")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{staticClass:"typography-widget pb-6",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"card-dark-grey",attrs:{cols:"12"}},[e("p",{staticClass:"text-caption"},[t._v("Heading Typography SM Font Size")]),e("p",{staticClass:"text-body-1"},[t._v("Heading Typography Regular Font Size")]),e("p",{staticClass:"text-h5"},[t._v("Heading Typography MD Font Size")]),e("p",{staticClass:"text-h4"},[t._v("Heading Typography XL Font Size")]),e("p",{staticClass:"text-h3"},[t._v("Heading Typography XXL Font Size")])])],1)],1)],1)],1)],1)],1)},$n=[],zn={name:"Typography"},Mn=zn,Nn=(a("1fcd"),Object(l["a"])(Mn,Dn,$n,!1,null,"3bd5b45f",null)),Fn=Nn.exports,Hn=a("8fea"),Gn=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"tables-basic"},[e("h1",{staticClass:"page-title mt-10 mb-6"},[t._v("Tables")]),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"employee-list mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Employee List")]),e(S["a"]),e(Ft["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search",clearable:"","single-line":"","hide-details":""},model:{value:t.mock.employeeTable.search,callback:function(e){t.$set(t.mock.employeeTable,"search",e)},expression:"mock.employeeTable.search"}})],1),e(Hn["a"],{attrs:{headers:t.mock.employeeTable.headers,items:t.mock.employeeTable.employee,search:t.mock.employeeTable.search,"item-key":"name","show-select":""},model:{value:t.mock.employeeTable.selected,callback:function(e){t.$set(t.mock.employeeTable,"selected",e)},expression:"mock.employeeTable.selected"}})],1)],1),e(F["a"],{attrs:{cols:"12"}},[e(lt["a"],{staticClass:"mb-1"},[e(ct["c"],{staticClass:"pa-5 pb-3"},[e("p",[t._v("Material-UI Table")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.mock.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(qt["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left pa-6"},[t._v("NAME")]),e("th",{staticClass:"text-left"},[t._v("EMAIL")]),e("th",{staticClass:"text-left"},[t._v("PRODUCT")]),e("th",{staticClass:"text-left"},[t._v("PRICE")]),e("th",{staticClass:"text-left"},[t._v("DATE")]),e("th",{staticClass:"text-left"},[t._v("CITY")]),e("th",{staticClass:"text-left"},[t._v("STATUS")])])]),e("tbody",t._l(t.mock.materialUITable,(function(a){return e("tr",{key:a.name},[e("td",{staticClass:"pa-6"},[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.product))]),e("td",[t._v(t._s(a.price))]),e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.city))]),"Sent"===a.status?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"success"}},[t._v(" Sent ")])],1):"Pending"===a.status?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"warning"}},[t._v(" Pending ")])],1):"Declined"===a.status?e("td",[e(Ct["a"],{staticClass:"ma-2 ml-0",attrs:{link:"",color:"secondary"}},[t._v(" Declined ")])],1):t._e()])})),0)]},proxy:!0}])})],1)],1)],1)],1)])},Yn=[],Qn={employeeTable:{selected:[],search:"",headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Company",value:"company"},{text:"City",value:"city"},{text:"State",value:"state"}],employee:[{name:"Joe James",company:"Example Inc.",city:"Yonkers",state:"NY",select:!1},{name:"John Walsh",company:"Example Inc.",city:"Hartford",state:"CT",select:!1},{name:"Bob Herm",company:"Example Inc.",city:"Tampa",state:"FL",select:!1},{name:"James Houston",company:"Example Inc.",city:"Dallas",state:"TX",select:!1},{name:"Prabhakar Linwood",company:"Example Inc.",city:"Hartford",state:"CT",select:!1},{name:"Jelly bean",company:"Example Inc.",city:"Yonkers",state:"NY",select:!1},{name:"Kaui Ignace",company:"Example Inc.",city:"Hartford",state:"CT",select:!1},{name:"Esperanza Susanne",company:"Example Inc.",city:"Tampa",state:"FL",select:!1},{name:"Christian Birgitte",company:"Example Inc.",city:"Hartford",state:"CT",select:!1},{name:"Meral Elias",company:"Example Inc.",city:"Yonkers",state:"NY",select:!1},{name:"Deep Pau",company:"Example Inc.",city:"Dallas",state:"TX",select:!1},{name:"Sebastiana Hani",company:"Example Inc.",city:"Yonkers",state:"NY",select:!1},{name:"Marciano Oihana",company:"Example Inc.",city:"Yonkers",state:"TX",select:!1},{name:"Brigid Ankur",company:"Example Inc.",city:"Dallas",state:"NY",select:!1},{name:"Anna Siranush",company:"Example Inc.",city:"Hartford",state:"CT",select:!1},{name:"Avram Sylva",company:"Example Inc.",city:"Tampa",state:"FL",select:!1},{name:"Serafima Babatunde",company:"Example Inc.",city:"Tampa",state:"FL",select:!1},{name:"Gaston Festus",company:"Example Inc.",city:"Yonkers",state:"NY",select:!1}]},materialUITable:[{id:0,name:"Mark Otto",email:"ottoto@wxample.com",product:"ON the Road",price:"$25 224.2",date:"11 May 2017",city:"Otsego",status:"Sent"},{id:1,name:"Jacob Thornton",email:"thornton@wxample.com",product:"HP Core i7",price:"$1 254.2",date:"4 Jun 2017",city:"Fivepointville",status:"Sent"},{id:2,name:"Larry the Bird",email:"bird@wxample.com",product:"Air Pro",price:"$1 570.0",date:"27 Aug 2017",city:"Leadville North",status:"Pending"},{id:3,name:"Joseph May",email:"josephmay@wxample.com",product:"Version Control",price:"$5 224.5",date:"19 Feb 2018",city:"Seaforth",status:"Declined"},{id:4,name:"Peter Horadnia",email:"horadnia@wxample.com",product:"Let's Dance",price:"$43 594.7",date:"1 Mar 2018",city:"Hanoverton",status:"Sent"}],menu:["Edit","Copy","Delete","Print"]},Vn={name:"Tables",data(){return{mock:Qn}}},Wn=Vn,Jn=(a("2a6b"),Object(l["a"])(Wn,Gn,Yn,!1,null,null,null)),Un=Jn.exports,Zn=function(){var t=this,e=t._self._c;return e(dt["a"],{staticClass:"notification-page",attrs:{fluid:""}},[e("h1",{staticClass:"page-title mt-10 mb-9"},[t._v("Notifications")]),e(V["a"],{staticClass:"mb-5"},[e(lt["a"],{staticClass:"d-flex flex-row mx-3",attrs:{width:"100%"}},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{lg:"4",cols:"12"}},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Layout Options")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e("p",[t._v(" There are few position options available for notifications. You can click any of them to change notifications position: ")]),e("div",{staticClass:"location-selector"},[e("div",{staticClass:"bit top left",class:"top-left"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("top-left")}}}),e("div",{staticClass:"bit top right",class:"top-right"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("top-right")}}}),e("div",{staticClass:"bit top center",class:"top-center"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("top-center")}}}),e("div",{staticClass:"bit bottom left",class:"bottom-left"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("bottom-left")}}}),e("div",{staticClass:"bit bottom right",class:"bottom-right"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("bottom-right")}}}),e("div",{staticClass:"bit bottom center",class:"bottom-center"===t.position?"active":"",on:{click:function(e){return t.toggleLocation("bottom-center")}}}),e("div",{staticClass:"text-position"},[t._v("Click any position")])])])],1),e(F["a"],{attrs:{lg:"4",cols:"12"}},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Notifications Types")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e("p",[t._v(" Different types of notifications for lost of use cases. Custom classes are also supported. ")]),e(V["a"],{staticClass:"action-buttons pb-6",attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e(b["a"],{staticClass:"text-capitalize my-2",attrs:{block:"",color:"primary"},on:{click:t.addInfoNotification}},[t._v("Info Message")]),e("div",{staticClass:"w-100"}),e(b["a"],{staticClass:"text-capitalize my-2",attrs:{block:"",color:"error"},on:{click:t.addErrorNotification}},[t._v("Error + Retry Message")]),e("div",{staticClass:"w-100"}),e(b["a"],{staticClass:"text-capitalize my-2",attrs:{block:"",color:"success"},on:{click:t.addSuccessNotification}},[t._v("Success Message")])],1)],1)],1)],1),e(F["a"],{attrs:{lg:"4",cols:"12"}},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Usage")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e("p",[t._v(" Notifications are created with the help of "),e("a",{attrs:{href:"https://maronato.github.io/vue-toastification/"}},[t._v("vue-toastification")])]),e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("pre",{staticClass:"text-caption pa-3",staticStyle:{"background-color":"#f3f5ff"}},[e("span",[t._v("// register the plugin on vue")]),t._v("\n"),e("span",[t._v('import Toast from "vue-toastification";\nimport "vue-toastification/dist/index.css";')]),t._v("\n\n"),e("span",[t._v("Vue.use(Toast)")]),t._v("\n\n"),e("span",[t._v("// you can call like this in your component")]),t._v("\n"),e("span",[t._v('this.$toast.show("I\'m a toast!", {options})')])]),e("p",{staticClass:"pt-4"},[t._v(" For more API information refer to the library documentation ")])])],1)],1)],1)],1)],1)],1),e(V["a"],[e(F["a"],{attrs:{lg:"4",md:"12",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0"},[e("p",[t._v("Notification Types Examples")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[t._l(t.notificationsType,(function(a){return[e(Ct["a"],{key:a.text,staticClass:"d-block mt-4",attrs:{large:"",color:a.color}},[e(_["a"],{staticClass:"ml-0 mr-2",attrs:{left:"",size:"28",color:"rgba(255,255,255, 0.5)"}},[t._v(t._s(a.icon))]),t._v(" "+t._s(a.text)+" ")],1)]}))],2)],1)],1)],1)],1),e(F["a"],{attrs:{lg:"4",md:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0"},[e("p",[t._v("Notification Types Examples")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[t._l(t.notificationsTypeLight,(function(a){return[e(Ct["a"],{key:a.text,staticClass:"d-block mt-4 font-weight-regular",attrs:{large:"","text-color":"black",color:a.color}},[e(_["a"],{staticClass:"ml-0 mr-2",attrs:{color:a.iconColor,left:"",size:"28"}},[t._v(t._s(a.icon))]),t._v(" "+t._s(a.text)+" ")],1)]}))],2)],1)],1)],1)],1),e(F["a"],{attrs:{lg:"4",md:"6",cols:"12"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-0"},[e("p",[t._v("Notification Types Examples")])]),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[t._l(t.notificationsTypeButton,(function(a){return[e("div",{key:a.text,staticClass:"mt-4"},[e(b["a"],{staticClass:"mr-2",attrs:{small:"",height:"45",width:"45",fab:"",elevation:"0",color:a.color}},[e(_["a"],{attrs:{size:"28",color:a.iconColor}},[t._v(t._s(a.icon))])],1),e("span",[t._v(t._s(a.text))])],1)]}))],2)],1)],1)],1)],1)],1)],1)},Xn=[],Kn={name:"Notifications",data(){return{notificationsType:[{icon:"mdi-email",text:"Thanks for Checking out Messenger",color:"error"},{icon:"mdi-message-alert",text:"New user feedback received",color:"primary"},{icon:"mdi-account-box",text:"New customer is registered",color:"success"},{icon:"mdi-check",text:"The order was shipped",color:"warning"},{icon:"mdi-briefcase-variant",text:"The order was deliver",color:"primary"},{icon:"mdi-information-outline",text:"5 Defence alerts",color:"info"}],notificationsTypeLight:[{icon:"mdi-alert-octagon",text:"New report has been received",color:"#ff5c9326",iconColor:"error"},{icon:"mdi-message-alert",text:"New user feedback received",color:"#e5e9ff",iconColor:"primary"},{icon:"mdi-check",text:"The item was shipped",color:"#e2f9f1",iconColor:"success"},{icon:"mdi-email",text:"The new message from user @nahawaii",iconColor:"warning",color:"#fff6e7"},{icon:"mdi-arrow-collapse-up",text:"Your file is ready to upload",iconColor:"primary",color:"#e5e9ff"},{icon:"mdi-disc-alert",text:"The disc is full",iconColor:"info",color:"#eedcff"}],notificationsTypeButton:[{icon:"mdi-alert-octagon",text:"New report has been received",iconColor:"error",color:"#ff5c9326"},{icon:"mdi-message-alert",text:"New user feedback received",iconColor:"primary",color:"#e5e9ff"},{icon:"mdi-check",text:"The item was shipped",iconColor:"success",color:"#e2f9f1"},{icon:"mdi-email",text:"The new message from user @nahawaii",iconColor:"warning",color:"#fff6e7"},{icon:"mdi-arrow-collapse-up",text:"Your file is ready to upload",iconColor:"primary",color:"#e5e9ff"},{icon:"mdi-disc-alert",text:"The disc is full",iconColor:"info",color:"#eedcff"}],position:"top-right"}},methods:{addInfoNotification(){this.$toast.info("New user feedback received",{position:this.position,timeout:6e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0})},addErrorNotification(){this.$toast.error("Message was not sent!",{position:this.position,timeout:6e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0})},addSuccessNotification(){this.$toast.success("The item was shipped",{position:this.position,timeout:6e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0})},toggleLocation(t){this.position=t,this.$toasted.options.position=this.position,this.$toasted.show(null)}}},to=Kn,eo=(a("2d4e"),Object(l["a"])(to,Zn,Xn,!1,null,null,null)),ao=eo.exports,so=a("9a96"),io=function(){var t=this,e=t._self._c;return e(dt["a"],{staticClass:"icons-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Icons")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow",attrs:{color:"error"}},"v-btn",s,!1),a),[t._v("Actions")])]}}])},[e(k["a"],t._l(t.lastReports,(function(a,s){return e(x["a"],{key:s,attrs:{link:""}},[e(w["a"],[e(_["a"],{domProps:{textContent:t._s(a.icon)}})],1),e(C["c"],[t._v(t._s(a.title))])],1)})),1)],1)],1),e(V["a"],[e(F["a"],{attrs:{cols:"12"}},[e(fa["a"],{attrs:{light:"",centered:"",grow:""}},[e(so["a"]),e(ha["a"],{attrs:{href:"#tab-font-awesome"}},[t._v(" Font Awesome ")]),e(ha["a"],{attrs:{href:"#tab-material-icons"}},[t._v(" Material Icons ")]),e(va["a"],{attrs:{value:"tab-material-icons"}},[e(lt["a"],{attrs:{flat:"",tile:""}},[e(ct["b"],[e(V["a"],{attrs:{"no-gutters":""}},[t._l(t.materialIcons,(function(a){return[e(F["a"],{key:a,staticClass:"mb-5",attrs:{md:"3",lg:"2",sm:"6",cols:"12"}},[e(_["a"],{staticClass:"mr-3"},[t._v(" "+t._s(a)+" ")]),e("span",[t._v(" "+t._s(a))])],1)]}))],2)],1)],1)],1),e(va["a"],{attrs:{value:"tab-font-awesome"}},[e(lt["a"],{attrs:{flat:"",tile:""}},[e(ct["b"],[e(V["a"],{attrs:{"no-gutters":""}},[t._l(t.fontAwesome,(function(a){return[e(F["a"],{key:a,staticClass:"mb-5",attrs:{md:"3",lg:"2",sm:"6",cols:"12"}},[e(_["a"],{staticClass:"mr-3"},[t._v(" "+t._s(t.toFontAwesomeText(a))+" ")]),e("span",[t._v(" "+t._s(a))])],1)]}))],2)],1)],1)],1)],1)],1)],1)],1)},ro=[],no={data(){return{fontAwesome:["Bed","Bank","Behance","Behance-square","Bomb","Building","Cab","Car","Child","Circle-o-notch","Circle-thin","Codepen","Cube","Cubes","Database","Delicious","Deviantart","Digg","Drupal","Empire","Envelope-square","Fax","File-archive-o","File-audio-o","File-code-o","File-excel-o","File-image-o","File-movie-o","File-pdf-o","File-photo-o","File-picture-o","File-powerpoint-o","File-sound-o","File-video-o","File-word-o","File-zip-o","Ge","Git","Git-square","Google","Graduation-cap","Hacker-news","Header","History","Institution","Joomla","Jsfiddle","Language","Life-bouy","Life-ring","Life-saver","Mortar-board","Openid","Paper-plane","paper-plane-o","Paragraph","Paw","Pied-piper","Pied-piper-alt","Pied-piper-pp","Qq","Ra","Rebel","Recycle","Reddit","Reddit-square","Send","Send-o","Share-alt","Share-alt-square","Slack","Sliders","Soundcloud","Space-shuttle","Spoon","Spotify","Steam","Steam-square","Stumbleupon","Stumbleupon-circle","Support","Taxi","Tencent-weibo","Tree","University","Vine","Wechat","Weixin","Wordpress","Yahoo"],materialIcons:["mdi-access-point","mdi-access-point-network","mdi-account","mdi-account-alert","mdi-account-box","mdi-account-box-outline","mdi-account-check","mdi-account-circle","mdi-account-convert","mdi-account-key","mdi-account-minus","mdi-account-multiple","mdi-account-multiple-minus","mdi-account-multiple-outline","mdi-account-multiple-plus","mdi-account-network","mdi-account-off","mdi-account-outline","mdi-account-plus","mdi-account-remove","mdi-account-search","mdi-account-settings","mdi-account-star","mdi-account-switch","mdi-adjust","mdi-air-conditioner","mdi-airballoon","mdi-airplane","mdi-airplane-landing","mdi-airplane-off","mdi-airplane-takeoff","mdi-alarm","mdi-alarm-check","mdi-alarm-multiple","mdi-alarm-off","mdi-alarm-plus","mdi-alarm-snooze","mdi-album","mdi-alert","mdi-alert-box","mdi-alert-circle","mdi-alert-circle-outline","mdi-alert-octagon","mdi-alert-outline","mdi-alpha","mdi-alphabetical","mdi-altimeter","mdi-amazon","mdi-ambulance","mdi-amplifier","mdi-anchor","mdi-android","mdi-android-debug-bridge","mdi-android-studio","mdi-angular","mdi-animation","mdi-apple","mdi-apple-finder","mdi-apple-ios","mdi-apple-keyboard-caps","mdi-apple-keyboard-command","mdi-arrow-up-drop-circle-outline","mdi-assistant","mdi-at","mdi-car-connected","mdi-car-wash","mdi-cards","mdi-cards-outline","mdi-cards-playing-outline","mdi-music-circle","mdi-music-note","mdi-music-note-bluetooth","mdi-music-note-bluetooth-off","mdi-music-note-eighth","mdi-steam","mdi-steering","mdi-step-backward","mdi-step-backward-2","mdi-step-forward","mdi-step-forward-2","mdi-stethoscope","mdi-sticker","mdi-stocking","mdi-stop","mdi-stop-circle","mdi-stop-circle-outline","mdi-store","mdi-store-24-hour","mdi-stove","mdi-subdirectory-arrow-left","mdi-thumb-down-outline","mdi-thumb-up","mdi-thumb-up-outline","mdi-thumbs-up-down","mdi-ticket","mdi-ticket-account","mdi-ticket-confirmation","mdi-tie","mdi-timelapse","mdi-timer","mdi-timer-3","mdi-timer-10","mdi-timer-off","mdi-timer-sand","mdi-timer-sand-empty","mdi-timetable","mdi-toggle-switch","mdi-toggle-switch-off","mdi-tooltip","mdi-tooltip-edit","mdi-tooltip-image","mdi-tooltip-outline","mdi-tooltip-text","mdi-tooth","mdi-tower-beach","mdi-tower-fire","mdi-traffic-light","mdi-train","mdi-tram","mdi-transcribe","mdi-transcribe-close","mdi-transfer","mdi-transit-transfer","mdi-translate","mdi-tree","mdi-trello","mdi-trending-down","mdi-trending-neutral","mdi-trending-up","mdi-triangle","mdi-triangle-outline","mdi-trophy","mdi-trophy-award","mdi-trophy-outline","mdi-trophy-variant","mdi-trophy-variant-outline","mdi-truck","mdi-truck-delivery","mdi-tshirt-crew","mdi-tshirt-v","mdi-tune","mdi-tune-vertical","mdi-twitch","mdi-twitter","mdi-twitter-retweet","mdi-ubuntu","mdi-umbraco","mdi-umbrella","mdi-umbrella-outline","mdi-undo","mdi-ungroup","mdi-unity","mdi-untappd","mdi-update","mdi-upload","mdi-usb","mdi-vector-arrange-above","mdi-vector-arrange-below","mdi-vector-circle","mdi-vector-circle-variant","mdi-vector-combine","mdi-vector-curve","mdi-vector-difference","mdi-vector-difference-ab","mdi-vector-difference-ba","mdi-vector-intersection","mdi-vector-line","mdi-vector-point","mdi-vector-polygon","mdi-vector-polyline","mdi-vector-rectangle","mdi-vector-selection","mdi-vector-square","mdi-view-module","mdi-view-quilt","mdi-view-stream","mdi-view-week","mdi-vimeo","mdi-violin","mdi-vk","mdi-wordpress","mdi-wrap","mdi-wrench","mdi-xing","mdi-xml","mdi-yeast","mdi-yin-yang","mdi-zip-box"],lastReports:[{title:"Print PDF",icon:"mdi-printer"},{title:"Download",icon:"mdi-download"},{title:"Send by mail",icon:"mdi-email"},{title:"Share",icon:"mdi-share-variant"}]}},methods:{toFontAwesomeText(t){return"fa-"+t.toLowerCase()}}},oo=no,lo=(a("7f52"),Object(l["a"])(oo,io,ro,!1,null,null,null)),co=lo.exports,uo=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("div",{staticClass:"charts-page"},[e(V["a"],{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[e("h1",{staticClass:"page-title"},[t._v("Charts")]),e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"text-capitalize button-shadow",attrs:{color:"secondary"}},"v-btn",s,!1),a),[t._v("Latest Reports")])]}}])})],1),e(V["a"],[e(F["a"],{attrs:{cols:"12",md:"6"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Apex Line Chart")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{attrs:{cols:"12"}},[e("ApexChart",{attrs:{type:"area",height:"350",options:t.apexArea.options,series:t.apexArea.series}})],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Apex Heatmap Chart")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],[e("ApexChart",{attrs:{type:"heatmap",height:"350",options:t.heatMap.options,series:t.heatMap.series}})],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Apex Dashed Line Chart")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0 pb-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"my-auto",attrs:{cols:"12"}},[e("ApexChart",{attrs:{type:"line",height:"350",options:t.apexLines.options,series:t.apexLines.series}})],1)],1)],1)],1)],1),e(F["a"],{attrs:{cols:"12",md:"6"}},[e(lt["a"],{staticClass:"mx-1 mb-1"},[e(ct["c"],{staticClass:"pa-6 pb-3"},[e("p",[t._v("Apex Pie Chart")]),e(S["a"]),e(q["a"],{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(_["a"],{attrs:{color:"textColor"}},[t._v("mdi-dots-vertical")])],1)]}}])},[e(k["a"],t._l(t.menu,(function(a,s){return e(x["a"],{key:s,on:{click:()=>{}}},[e(C["c"],[t._v(t._s(a))])],1)})),1)],1)],1),e(ct["b"],{staticClass:"pa-6 pt-0"},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"pb-7",attrs:{cols:"12"}},[e("ApexChart",{attrs:{type:"donut",height:t.$vuetify.breakpoint.smAndDown?300:350,options:t.apexPie.options,series:t.apexPie.series}})],1)],1)],1)],1)],1)],1)],1)])},po=[],mo={name:"Charts",components:{ApexChart:gt.a},data(){return{menu:["Edit","Copy","Delete","Print"],apexArea:{options:{chart:{toolbar:{show:!1}},colors:[A.light.primary,A.light.success],dataLabels:{enabled:!1},xaxis:{type:"datetime",categories:["2020-09-18T00:00:00","2020-09-19T01:30:00","2020-09-20T02:30:00","2020-09-21T03:30:00","2020-09-22T04:30:00","2020-09-23T05:30:00","2020-09-24T06:30:00"]},tooltip:{x:{format:"dd/MM/yy HH:mm"}},legend:{show:!1},fill:{type:"solid",opacity:.2,colors:[A.light.primary,A.light.success]},stroke:{width:4,curve:"smooth"}},series:[{name:"series1",data:[31,40,28,51,42,109,100]},{name:"series2",data:[11,32,45,32,34,52,41]}]},apexPie:{options:{dataLabels:{enabled:!1},colors:[A.light.primary,A.light.secondary,A.light.success,A.light.warning,A.light.info],labels:["Team A","Team B","Team C","Team D","Team E"],legend:{position:"bottom",horizontalAlign:"center"}},series:this.generatePieSeries()},apexLines:{options:{chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},colors:[A.light.primary,A.light.warning,A.light.secondary],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth",dashArray:[0,8,5]},markers:{size:0,hover:{sizeOffset:6}},xaxis:{categories:["01 Jan","02 Jan","03 Jan","04 Jan","05 Jan","06 Jan","07 Jan","08 Jan","09 Jan","10 Jan","11 Jan","12 Jan"]},tooltip:{y:[{title:{formatter:function(t){return t+" (mins)"}}},{title:{formatter:function(t){return t+" per session"}}},{title:{formatter:function(t){return t}}}]},legend:{show:!1},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}},series:[{name:"Session Duration",data:[45,52,38,24,33,26,21,20,6,8,15,10]},{name:"Page Views",data:[35,41,62,42,13,18,29,37,36,51,32,35]},{name:"Total Visits",data:[87,57,74,99,75,38,62,47,82,56,45,47]}]},heatMap:{options:{chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},colors:[A.light.primary],xaxis:{type:"category"}},series:[{name:"Metric1",data:this.generateData(18,{min:0,max:90})},{name:"Metric2",data:this.generateData(18,{min:0,max:90})},{name:"Metric3",data:this.generateData(18,{min:0,max:90})},{name:"Metric4",data:this.generateData(18,{min:0,max:90})},{name:"Metric5",data:this.generateData(18,{min:0,max:90})},{name:"Metric6",data:this.generateData(18,{min:0,max:90})},{name:"Metric7",data:this.generateData(18,{min:0,max:90})},{name:"Metric8",data:this.generateData(18,{min:0,max:90})},{name:"Metric9",data:this.generateData(18,{min:0,max:90})}]}}},methods:{generateData(t,e){let a=0,s=[];while(a<t){let t="w"+(a+1).toString(),i=Math.floor(Math.random()*(e.max-e.min+1))+e.min;s.push({x:t,y:i}),a++}return s},generatePieSeries(){let t=[];for(let e=0;e<5;e++){let e=Math.floor(500*Math.random())+100;t.push(e)}return t}}},ho=mo,vo=Object(l["a"])(ho,uo,po,!1,null,null,null),fo=vo.exports,go=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mapContainer"},[e("GmapMap",{staticStyle:{width:"100%",height:"inherit"},attrs:{center:{lat:-37.813179,lng:144.950259},zoom:12}},[e("GmapMarker",{attrs:{position:{lat:-37.813179,lng:144.950259}}})],1)],1)},bo=[],_o={name:"GoogleMap"},ko=_o,xo=(a("abde"),Object(l["a"])(ko,go,bo,!1,null,"a80bb3ce",null)),Co=xo.exports,yo=function(){var t=this,e=t._self._c;return e(p["a"],[e(dt["a"],{staticClass:"error-page",attrs:{fluid:""}},[e(V["a"],{staticClass:"logo-wrapper"},[e("span",{staticClass:"logo-title"},[t._v("TRUSTLINK")])]),e(V["a"],{staticClass:"d-flex justify-center"},[e(F["a"],{attrs:{cols:"8"}},[e("div",{staticClass:"card"},[e("span",{staticClass:"error-logo"},[t._v("404")]),e("p",{staticClass:"error-text"},[t._v("Vous n'avez pas l'autorisation d'accéder à thiste page")]),e("p",{staticClass:"error-subtext"},[t._v("Mais nous sommes là pour vous ramener en sécurité ")]),e(b["a"],{staticClass:"text-capitalize",attrs:{dark:"","x-large":"",color:t.config.light.primary,to:"dashboard"}},[t._v(" Back à l’accueil ")])],1)])],1)],1)],1)},wo=[],qo={name:"Error",data(){return{config:A}}},So=qo,Bo=(a("2983"),Object(l["a"])(So,yo,wo,!1,null,null,null)),Ro=Bo.exports,Eo=function(){var t=this,e=t._self._c;return e(p["a"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"main-part d-none d-md-none d-lg-flex",attrs:{cols:"12",md:"9"}}),e(F["a"],{staticClass:"login-part d-flex align-center justify-center",attrs:{cols:"12",md:"3"}},[e(V["a"],{staticClass:"align-start",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"login-part d-flex align-center justify-center flex-column",attrs:{cols:"12"}},[e("img",{attrs:{src:a("37ab")}}),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),e("div",{staticClass:"login-wrapper pt-md-4 pt-0"},[e(fa["a"],{attrs:{grow:""}},[e(so["a"]),e(ha["a"],{attrs:{href:"#tab-login"}},[t._v(" S'identifier ")]),e(va["a"],{attrs:{value:"tab-login"}},[e("br"),e(wt["a"],[e(dt["a"],[e(V["a"],{staticClass:"flex-column"},[e(F["a"],{staticClass:"d-flex align-center my-8",attrs:{cols:"12"}},[e(H["a"]),e(H["a"])],1),e(F["a"],{attrs:{cols:"12"}},[t.errors.length?e("div",[e("ul",t._l(t.errors,(function(a){return e("li",{key:a,staticClass:"invalid-feedback"},[t._v(" - "+t._s(a)+" ")])})),0)]):t._e(),e(Ft["a"],{attrs:{rules:t.emailRules,label:"Email Address",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(Ft["a"],{attrs:{rules:t.passRules,type:"password",label:"Password",hint:"Au moins 8 caractères",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e(F["a"],{staticClass:"d-flex justify-space-between"},[e(b["a"],{staticClass:"text-capitalize",attrs:{large:"",disabled:0===t.password.length||0===t.email.length,color:"primary"},on:{click:t.login}},[t._v(" Login ")]),e("router-link",{attrs:{to:"/resetpassword"}},[e(b["a"],{staticClass:"text-capitalize primary--text",attrs:{large:"",text:""}},[t._v("Mot de passe oublié ?")])],1)],1)],1)],1)],1)],1),e(va["a"],{attrs:{value:"tab-newUser"}},[e(wt["a"],[e(dt["a"],[e(V["a"],{staticClass:"flex-column"},[e(F["a"]),e(F["a"],{attrs:{cols:"12"}},[e(Ft["a"],{attrs:{label:"Full Name",required:""},model:{value:t.createFullName,callback:function(e){t.createFullName=e},expression:"createFullName"}}),e(Ft["a"],{attrs:{rules:t.emailRules,label:"Email Address",required:""},model:{value:t.createEmail,callback:function(e){t.createEmail=e},expression:"createEmail"}}),e(Ft["a"],{attrs:{rules:t.passRules,type:"password",label:"Password",hint:"At least 6 characters",required:""},model:{value:t.createPassword,callback:function(e){t.createPassword=e},expression:"createPassword"}})],1),e(F["a"],{staticClass:"d-flex justify-space-between"},[e(b["a"],{attrs:{large:"",block:"",disabled:0===t.createFullName.length||0===t.createEmail.length||0===t.createPassword,color:"primary"},on:{click:t.register}},[t._v(" Créer votre compte ")])],1)],1)],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1)},jo=[],Ao={name:"Login",data(){return{errors:[],email:"",emailRules:[t=>!!t||"L'e-mail est obligatoire",t=>/.+@.+/.test(t)||"L'e-mail doit être valide"],password:"",passRules:[t=>!!t||"Le mot de passe est obligatoire",t=>t.length>=8||"Au moins 8 caractères"],createFullName:"",createEmail:"",createPassword:""}},methods:{login(){let t={email:this.email,password:this.password};console.log(t),Z.post("auth/login",t).then(t=>{if(200===t.status){var e=[];console.log(t.data.user),e.push(t.data.user),localStorage.setItem("token",t.data.token),localStorage.setItem("userData",JSON.stringify(e)),this.$router.push("/dashboard")}}).catch(t=>{this.error=t.response.data.error,this.errors.push(this.error),console.log(this.error)})},register(){let t={email:this.createEmail,name:this.createFullName,password:this.createPassword};Z.post("auth/register",t).then(()=>{this.$toast.success("Welcome!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/dashboard")}).catch(t=>{console.log(t)})}},created(){}},To=Ao,Io=(a("9ad4"),Object(l["a"])(To,Eo,jo,!1,null,null,null)),Oo=Io.exports,Po=function(){var t=this,e=t._self._c;return e(p["a"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"main-part d-none d-md-none d-lg-flex",attrs:{cols:"9"}}),e(F["a"],{staticClass:"login-part d-flex align-center justify-center",attrs:{cols:"3"}},[e(V["a"],{staticClass:"align-start",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"login-part d-flex align-center justify-center flex-column",attrs:{cols:"12"}},[e("img",{attrs:{src:a("37ab")}}),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),e("div",{staticClass:"login-wrapper pt-md-4 pt-0"},[e(wt["a"],[e(F["a"],[e(Ft["a"],{attrs:{rules:t.emailRules,label:"Email ",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e(F["a"],{staticClass:"d-flex justify-space-between"},[e(b["a"],{staticClass:"text-capitalize",attrs:{large:"",disabled:0===t.email.length,color:"primary"},on:{click:function(e){return t.envoyer()}}},[t._v(" Envoyer")]),e("router-link",{attrs:{to:"/login"}},[e(b["a"],{staticClass:"text-capitalize primary--text",attrs:{large:"",text:""}},[t._v("Back ")])],1)],1)],1)],1)])],1)],1)],1)],1)],1)},Lo=[],Do={name:"Login",data(){return{errors:[],email:"",emailRules:[t=>!!t||"E-mail est obligatoire",t=>/.+@.+/.test(t)||"E-mail doit etre valid"],password:"",passRules:[t=>!!t||"Password est obligatoire",t=>t.length>=6||"Min 8 characters"],createFullName:"",createEmail:"",createPassword:""}},methods:{envoyer(){Z.get("auth/getemail/"+this.email).then(t=>{"adresse mail existe"==t.data?(this.$toast.success("veuillez vérifier votre boite mail!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/login")):this.$toast.error("adresse n'existe pas , veuillez vérifier!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},t=>{this.error=t.response.data.error,this.errors.push(this.error),console.log(this.error)})},register(){let t={email:this.createEmail,name:this.createFullName,password:this.createPassword};Z.post("auth/register",t).then(()=>{this.$toast.success("Welcome!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/dashboard")})}},created(){}},$o=Do,zo=Object(l["a"])($o,Po,Lo,!1,null,null,null),Mo=zo.exports,No=function(){var t=this,e=t._self._c;return e(p["a"],[e(dt["a"],{attrs:{fluid:""}},[e(V["a"],{attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"main-part d-none d-md-none d-lg-flex",attrs:{cols:"9"}}),e(F["a"],{staticClass:"login-part d-flex align-center justify-center",attrs:{cols:"3"}},[e(V["a"],{staticClass:"align-start",attrs:{"no-gutters":""}},[e(F["a"],{staticClass:"login-part d-flex align-center justify-center flex-column",attrs:{cols:"12"}},[e("img",{attrs:{src:a("37ab")}}),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),e("div",{staticClass:"login-wrapper pt-md-4 pt-0"},[e(wt["a"],[e(F["a"],[e(Ft["a"],{attrs:{rules:t.passRules,label:"mot de passe ",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(Ft["a"],{attrs:{rules:t.confirmpassRules,type:"password",label:"confirmer mot de passe ",required:""},model:{value:t.confirmpassword,callback:function(e){t.confirmpassword=e},expression:"confirmpassword"}})],1),e(F["a"],{staticClass:"d-flex justify-space-between"},[e(b["a"],{staticClass:"text-capitalize",attrs:{large:"",disabled:0===t.password.length||0===t.confirmpassword.length,color:"primary"},on:{click:function(e){return t.reset()}}},[t._v(" Changer")]),e("router-link",{attrs:{to:"/login"}},[e(b["a"],{staticClass:"text-capitalize primary--text",attrs:{large:"",text:""}},[t._v("Back ")])],1)],1)],1)],1)])],1)],1)],1)],1)],1)},Fo=[],Ho={name:"Login",data(){return{errors:[],email:"",confirmpassword:"",password:"",passRules:[t=>!!t||"mot de passe est obligatoire",t=>t.length>=6||"Min 8 characters"],confirmpassRules:[t=>!!t||"confirmation mot de passe est obligatoire",t=>t==this.password||"La confirmation du mot de passe ne correspond pas",t=>t.length>=6||"Min 8 characters"]}},methods:{reset(){let t={token:this.$route.params.token,password:this.password};Z.post("auth/changerpassword",t).then(()=>{this.$toast.success("votre mot de passe à été changé!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/login")})},register(){let t={email:this.createEmail,name:this.createFullName,password:this.createPassword};Z.post("auth/register",t).then(()=>{this.$toast.success("Welcome!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.$router.push("/dashboard")})}},created(){}},Go=Ho,Yo=Object(l["a"])(Go,No,Fo,!1,null,null,null),Qo=Yo.exports,Vo=function(){var t=this,e=t._self._c;return e(dt["a"],{attrs:{fluid:""}},[e("section",{staticClass:"py-8 bg-light-primary"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center text-center mb-5"},[e("div",{staticClass:"col-xl-11 col-lg-4 col-sm-10"},[e("h1",{staticStyle:{color:"#0f78cc","font-size":"45px"}},[t._v("Liste des imports")])])]),e("div",{staticClass:"row row-cols-lg-3 row-cols-md-2 row-cols-1 text-center justify-content-center px-xl-6 aos-init aos-animate",attrs:{"data-aos":"fade-up"}},[e("div",{staticClass:"col my-3"},[e("div",{staticClass:"card border-hover-primary hover-scale"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-primary mb-5"},[e("svg",{attrs:{width:"60",height:"60",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[e("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),e("path",{attrs:{d:"M8,3 L8,3.5 C8,4.32842712 8.67157288,5 9.5,5 L14.5,5 C15.3284271,5 16,4.32842712 16,3.5 L16,3 L18,3 C19.1045695,3 20,3.8954305 20,5 L20,21 C20,22.1045695 19.1045695,23 18,23 L6,23 C4.8954305,23 4,22.1045695 4,21 L4,5 C4,3.8954305 4.8954305,3 6,3 L8,3 Z",fill:"currentColor",opacity:"0.3"}}),e("path",{attrs:{d:"M11,2 C11,1.44771525 11.4477153,1 12,1 C12.5522847,1 13,1.44771525 13,2 L14.5,2 C14.7761424,2 15,2.22385763 15,2.5 L15,3.5 C15,3.77614237 14.7761424,4 14.5,4 L9.5,4 C9.22385763,4 9,3.77614237 9,3.5 L9,2.5 C9,2.22385763 9.22385763,2 9.5,2 L11,2 Z",fill:"currentColor"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"10",y:"9",width:"7",height:"2",rx:"1"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"7",y:"9",width:"2",height:"2",rx:"1"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"7",y:"13",width:"2",height:"2",rx:"1"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"10",y:"13",width:"7",height:"2",rx:"1"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"7",y:"17",width:"2",height:"2",rx:"1"}}),e("rect",{attrs:{fill:"currentColor",opacity:"0.3",x:"10",y:"17",width:"7",height:"2",rx:"1"}})])])]),e("h6",{staticClass:"font-weight-bold mb-3"},[t._v("Clients")]),e("p",{staticClass:"text-muted mb-0"},[e(b["a"],{staticClass:"ma-2 white--text",attrs:{color:"secondary"},on:{click:t.downloadCSVData}},[t._v(" Exporter Structure "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-tray-arrow-up ")])],1),e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"ma-2 white--text",attrs:{color:"info",dark:""}},"v-btn",s,!1),a),[t._v(" Importer "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h6 grey lighten-2"},[t._v(" Import Client ")]),e(ct["b"],[e("br"),e("br"),e("input",{ref:"file",staticClass:"input-file",attrs:{accept:"application/vnd.openxmlformats- \n                    officedocument.spreadsheetml.sheet, application/vnd.ms-excel",type:"file"},on:{change:t.uploadFile}})]),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"primary",text:""},on:{click:t.importclient}},[t._v(" Valider ")])],1)],1)],1)],1)])])]),e("div",{staticClass:"col my-3"},[e("div",{staticClass:"card border-hover-primary hover-scale"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-primary mb-5"},[e("svg",{attrs:{width:"60",height:"60",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[e("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),e("path",{attrs:{d:"M22,17 L22,21 C22,22.1045695 21.1045695,23 20,23 L4,23 C2.8954305,23 2,22.1045695 2,21 L2,17 L6.27924078,17 L6.82339262,18.6324555 C7.09562072,19.4491398 7.8598984,20 8.72075922,20 L15.381966,20 C16.1395101,20 16.8320364,19.5719952 17.1708204,18.8944272 L18.118034,17 L22,17 Z",fill:"currentColor"}}),e("path",{attrs:{d:"M2.5625,15 L5.92654389,9.01947752 C6.2807805,8.38972356 6.94714834,8 7.66969497,8 L16.330305,8 C17.0528517,8 17.7192195,8.38972356 18.0734561,9.01947752 L21.4375,15 L18.118034,15 C17.3604899,15 16.6679636,15.4280048 16.3291796,16.1055728 L15.381966,18 L8.72075922,18 L8.17660738,16.3675445 C7.90437928,15.5508602 7.1401016,15 6.27924078,15 L2.5625,15 Z",fill:"currentColor",opacity:"0.3"}}),e("path",{attrs:{d:"M11.1288761,0.733697713 L11.1288761,2.69017121 L9.12120481,2.69017121 C8.84506244,2.69017121 8.62120481,2.91402884 8.62120481,3.19017121 L8.62120481,4.21346991 C8.62120481,4.48961229 8.84506244,4.71346991 9.12120481,4.71346991 L11.1288761,4.71346991 L11.1288761,6.66994341 C11.1288761,6.94608579 11.3527337,7.16994341 11.6288761,7.16994341 C11.7471877,7.16994341 11.8616664,7.12798964 11.951961,7.05154023 L15.4576222,4.08341738 C15.6683723,3.90498251 15.6945689,3.58948575 15.5161341,3.37873564 C15.4982803,3.35764848 15.4787093,3.33807751 15.4576222,3.32022374 L11.951961,0.352100892 C11.7412109,0.173666017 11.4257142,0.199862688 11.2472793,0.410612793 C11.1708299,0.500907473 11.1288761,0.615386087 11.1288761,0.733697713 Z",fill:"currentColor","fill-rule":"nonzero",transform:"translate(11.959697, 3.661508) rotate(-270.000000) translate(-11.959697, -3.661508) "}})])])]),e("h6",{staticClass:"font-weight-bold mb-3"},[t._v("Piéces de rechanges")]),e("p",{staticClass:"text-muted mb-0"},[e(b["a"],{staticClass:"ma-2 white--text",attrs:{color:"secondary"},on:{click:t.downloadCSVst}},[t._v(" Exporter Structure "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-tray-arrow-up ")])],1),e(yt["a"],{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(b["a"],t._g(t._b({staticClass:"ma-2 white--text",attrs:{color:"info"}},"v-btn",s,!1),a),[t._v(" Importer "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[e(lt["a"],[e(ct["c"],{staticClass:"text-h6 grey lighten-2"},[t._v(" Import Pieces de Rechanges ")]),e(ct["b"],[e("br"),e("br"),e("input",{ref:"file",staticClass:"input-file",attrs:{accept:"application/vnd.openxmlformats- \n                    officedocument.spreadsheetml.sheet, application/vnd.ms-excel",type:"file"},on:{change:t.uploadFile}})]),e(H["a"]),e(ct["a"],[e(S["a"]),e(b["a"],{attrs:{color:"primary",text:""},on:{click:t.importpiece}},[t._v(" Valider ")])],1)],1)],1)],1)])])]),e("div",{staticClass:"col my-3"},[e("div",{staticClass:"card border-hover-primary hover-scale"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-primary mb-5"},[e("svg",{attrs:{width:"60",height:"60",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[e("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),e("path",{attrs:{d:"M3.5,21 L20.5,21 C21.3284271,21 22,20.3284271 22,19.5 L22,8.5 C22,7.67157288 21.3284271,7 20.5,7 L10,7 L7.43933983,4.43933983 C7.15803526,4.15803526 6.77650439,4 6.37867966,4 L3.5,4 C2.67157288,4 2,4.67157288 2,5.5 L2,19.5 C2,20.3284271 2.67157288,21 3.5,21 Z",fill:"currentColor",opacity:"0.3"}}),e("path",{attrs:{d:"M12.6706167,18.7881514 L15.9697449,13.8394592 C16.1995092,13.4948127 16.1063788,13.0291607 15.7617323,12.7993963 C15.6385316,12.7172626 15.4937759,12.673434 15.3457071,12.673434 L12.659208,12.673434 L12.659208,9.69999981 C12.659208,9.28578625 12.3234215,8.94999981 11.909208,8.94999981 C11.6584431,8.94999981 11.4242696,9.07532566 11.2851703,9.28397466 L7.98604212,14.2326669 C7.75627777,14.5773134 7.84940818,15.0429654 8.19405469,15.2727297 C8.31725533,15.3548635 8.4620111,15.398692 8.61007984,15.398692 L11.296579,15.398692 L11.296579,18.3721263 C11.296579,18.7863398 11.6323654,19.1221263 12.046579,19.1221263 C12.2973439,19.1221263 12.5315174,18.9968004 12.6706167,18.7881514 Z",fill:"currentColor",opacity:"0.3"}})])])]),e("h6",{staticClass:"font-weight-bold mb-3"},[t._v("Accessoires")]),e("p",{staticClass:"text-muted mb-0"},[e(b["a"],{staticClass:"ma-2 white--text",attrs:{color:"secondary"},on:{click:t.downloadCSVacc}},[t._v(" Exporter Structure "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-tray-arrow-up ")])],1),e(b["a"],{staticClass:"ma-2 white--text",attrs:{color:"info"}},[t._v(" Importer "),e(_["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)])])])])])])])},Wo=[],Jo={data(){return{clients:[],dialog:!1,dialog1:!1,uploadfile:"",error:""}},created(){this.getclients()},methods:{uploadFile(){this.uploadfile=this.$refs.file.files[0]},importclient(){this.dialog=!1;const t=new FormData;t.append("file",this.uploadfile),Z.post("clients/uploadfile",t).then(t=>{200===t.status&&("error"===t.data.title?ye.a.fire({icon:"error",title:"Oops...",text:" Client existe déjà!",footer:""}):(ye.a.fire({icon:"success",title:"file ajouté"}),this.getclients()))},t=>{this.error=t.response.data})},downloadCSVData(){let t="name,prenom,email,code,telephone,adresse\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structureclient.csv",e.click()},downloadCSVst(){let t="reference,marque,emplacement_id,type,quantite\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structurestocks.csv",e.click()},downloadCSVacc(){let t="libelle,reference,produit\n";const e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),e.target="_blank",e.download="structureaccessoire.csv",e.click()}}},Uo=Jo,Zo=(a("c6b2"),Object(l["a"])(Uo,Vo,Wo,!1,null,null,null)),Xo=Zo.exports;function Ko(t,e,a){var s=!1,i=localStorage.getItem("token");s=null!=i&&1!=i[0],s?a():a("/")}function tl(t,e,a){var s=!1,i=localStorage.getItem("token");s=null!=i&&1!=i[0],s?a("/dashboard"):a()}function el(t,e,a){if(window.localStorage.getItem("userData")){var s=!1;let t=JSON.parse(window.localStorage.getItem("userData"));"admin"===t[0]["role"]&&(s=!0),s?a():a("/Error")}}function al(t,e,a){if(window.localStorage.getItem("userData")){var s=!1;let t=JSON.parse(window.localStorage.getItem("userData"));"admin"!==t[0]["role"]&&"réception"!==t[0]["role"]||(s=!0),s?a():a("/Error")}}function sl(t,e,a){if(window.localStorage.getItem("userData")){var s=!1;let t=JSON.parse(window.localStorage.getItem("userData"));"admin"!==t[0]["role"]&&"technicien"!==t[0]["role"]||(s=!0),s?a():a("/Error")}}function il(t,e,a){if(window.localStorage.getItem("userData")){var s=!1;let t=JSON.parse(window.localStorage.getItem("userData"));"technicien"===t[0]["role"]&&(s=!0),s?a():a("/Error")}}function rl(t,e,a){if(window.localStorage.getItem("userData")){var s=!1;let t=JSON.parse(window.localStorage.getItem("userData"));"client"===t[0]["role"]&&(s=!0),s?a():a("/Error")}}s["a"].use(u["a"]);var nl=new u["a"]({routes:[{path:"/login",name:"Login",beforeEnter:tl,component:Oo},{path:"/resetpassword",name:"Resetpassword",beforeEnter:tl,component:Mo},{path:"/forgetpassword/:token",name:"Forgetpassword",beforeEnter:tl,component:Qo},{path:"/",redirect:"login",beforeEnter:Ko,name:"Layout",component:ot,children:[{path:"dashboard",name:"Dashboard",component:xt},{beforeEnter:al,path:"tickets",name:"tickets",component:Be},{beforeEnter:il,path:"tickets_technicien",name:"tickets_technicien",component:Ie},{beforeEnter:al,path:"addticket",name:"addticket",component:Fe},{beforeEnter:sl,path:"/viewticket/:id",name:"viewticket",component:We},{beforeEnter:al,path:"/editticket/:id",name:"editticket",component:oa},{beforeEnter:sl,path:"/rapportticket/:id",name:"rapportticket",component:ma},{beforeEnter:el,path:"clients",name:"clients",component:Cs},{beforeEnter:el,path:"addclient",name:"addclient",component:Rs},{beforeEnter:el,path:"updateclient/:id",name:"updateclient",component:Os},{beforeEnter:rl,path:"client_area",name:"client_area",component:Ri},{beforeEnter:rl,path:"voir_facture/:id",name:"voir_facture",component:Oi},{beforeEnter:rl,path:"voir_devi/:id",name:"voir_devi",component:Mi},{beforeEnter:el,path:"stocks",name:"stocks",component:Ca},{beforeEnter:el,path:"demandes",name:"demandes",component:Qa},{beforeEnter:el,path:"addstock/:id",name:"addstock",component:Ra},{beforeEnter:el,path:"addpr",name:"addpr",component:Oa},{beforeEnter:el,path:"/editstock/:id",name:"editstock",component:Ma},{beforeEnter:el,path:"acheteurs",name:"acheteurs",component:Xs},{beforeEnter:el,path:"addacheteur",name:"addacheteur",component:ii},{beforeEnter:el,path:"interventions",name:"interventions",component:mr},{beforeEnter:el,path:"addintervention",name:"addintervention",component:_r},{beforeEnter:el,path:"contrats",name:"contrats",component:qr},{beforeEnter:el,path:"addcontrat",name:"addcontrat",component:Ar},{beforeEnter:el,path:"detailscontrat/:id",name:"detailscontrat",component:Dr},{beforeEnter:el,path:"events",name:"events",component:Qr},{beforeEnter:il,path:"eventstechnicien",name:"eventstechnicien",component:Xr},{beforeEnter:el,path:"machines",name:"machines",component:rn},{beforeEnter:el,path:"addmachine",name:"addmachine",component:pn},{beforeEnter:al,path:"factures",name:"atelier_production",component:Hi},{beforeEnter:al,path:"appels_doffres",name:"appels_doffres",component:bn},{beforeEnter:al,path:"devis_interne",name:"devis_interne",component:wn},{beforeEnter:al,path:"voir_devis/:id",name:"voir_devis",component:jn},{beforeEnter:al,path:"voir_factures/:id",name:"voir_factures",component:Ln},{beforeEnter:el,path:"users",name:"users",component:di},{beforeEnter:el,path:"adduser",name:"adduser",component:fi},{beforeEnter:el,path:"edituser/:id",name:"edituser",component:Ci},{beforeEnter:el,path:"emplacements",name:"emplacements",component:Xa},{beforeEnter:el,path:"addemplacement",name:"addemplacement",component:is},{beforeEnter:el,path:"detailsproduits/:id",name:"detailsproduits",component:ds},{beforeEnter:el,path:"editemplacement/:id",name:"editemplacement",component:fs},{beforeEnter:el,path:"accessoires",name:"accessoires",component:Ji},{beforeEnter:el,path:"addaccessoire",name:"addaccessoire",component:er},{beforeEnter:el,path:"editaccessoire",name:"editaccessoire",component:or},{beforeEnter:el,path:"diagnostics",name:"diagnostics",component:At},{beforeEnter:sl,path:"/viewticketdiagnostic/:id",name:"viewticketdiagnostic",component:te},{beforeEnter:sl,path:"/viewdiagnosticenattentepr/:id",name:"viewdiagnosticenattentepr",component:ne},{beforeEnter:il,path:"diagnostics_technicien",name:"diagnostics_technicien",component:pe},{beforeEnter:il,path:"/Diagnostics_technicienview/:id",name:"Diagnostics_technicienview",component:be},{beforeEnter:el,path:"pannes",name:"pannes",component:Ms},{beforeEnter:el,path:"addpanne",name:"addpanne",component:Qs},{path:"offres",name:"offres",component:bn},{path:"imports",name:"import",component:Xo},{path:"typography",name:"Typography",component:Fn},{path:"tables",name:"Tables",component:Un},{path:"notifications",name:"Notifications",component:ao},{path:"icons",name:"Icons",component:co},{path:"charts",name:"Charts",component:fo},{path:"maps",name:"Maps",component:Co}]},{path:"*",name:"Error",component:Ro}]});s["a"].use(j["a"]);var ol=new j["a"].Store({namespace:!0,state:{drawer:!0},mutations:{toggleDrawer(t){t.drawer=!t.drawer}},actions:{TOGGLE_DRAWER({commit:t}){t("toggleDrawer")}},getters:{DRAWER_STATE(t){return t.drawer}}}),ll=a("f309");a("7f10");s["a"].use(ll["a"]);var cl=new ll["a"]({theme:{themes:{light:A.light}}}),dl=a("755e"),ul=a("6c42"),pl=(a("da96"),a("7898")),ml=a.n(pl);s["a"].use(gt.a),s["a"].component("apexchart",gt.a),s["a"].component("barcode",$e.a),s["a"].prototype.moment=sa.a,s["a"].use(sa.a),s["a"].use(Ut.a);const hl={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["styles/app.scss"]};s["a"].use(ml.a,hl),s["a"].prototype.moment=sa.a,s["a"].filter("formatDate",(function(t){if(t)return sa()(String(t)).format("DD/MM/YYYY")})),s["a"].use(ul["a"]),s["a"].use(dl,{load:{key:"AIzaSyB7OXmzfQYua_1LEhRdqsoYzyJOPh9hGLg"}}),s["a"].config.productionTip=!1,new s["a"]({vuetify:cl,router:nl,render:t=>t(d),store:ol}).$mount("#app")},5883:function(t,e,a){"use strict";a("be84")},"5aa2":function(t,e,a){"use strict";a("70f7")},"5ab5":function(t,e,a){"use strict";a("428b")},"5c58":function(t,e,a){},"5d05":function(t,e,a){},"5dcd":function(t,e,a){},"60d9":function(t,e,a){t.exports=a.p+"img/client logo.e813019b.jpg"},"70f7":function(t,e,a){},"71b3":function(t,e,a){},"733d":function(t,e,a){},7680:function(t,e,a){"use strict";a("80f9")},"7e20":function(t,e,a){},"7f52":function(t,e,a){"use strict";a("3bc9")},"80f9":function(t,e,a){},"811d":function(t,e,a){"use strict";a("8da9")},"84b4":function(t,e,a){"use strict";a("71b3")},8660:function(t,e,a){"use strict";a("e3a6")},"8da9":function(t,e,a){},9209:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAIAAAD2HxkiAAALiklEQVR4Xu3dT0yU+R3H8VmVFQYMNAwRJjvSuJZZPSzLwkVI7DS1hybIpYfi3tZt4GDTi9oekWMj9rYHSUNvSJPtBUl6kKRsE+llJiwX7YO4CYsZNDOThTg84KKmh2ejFgae5zc8w+eZ8f06wo+J/97+vvM8zzzPe59+8VUIgM4htwUASosIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEiBAQI0JAjAgBMSIExIgQECNCQIwIATEiBMSIEBAjQkCMCAExIgTEjrgtAAQajj9v/tBuOP589enRxw/q8t9Xuf1EGSNCBEh13cvmk+vNH9rVtS+drzSftJtP2pvrhx8/qMs+rtnMH3Z7jfJDhNA78v6rSGyz+aTdcPx5wQXVtS9Pda2d6lrLLldnH9c8eRQuuKxMESGUnLEzEts8UvXKbW0oFApFYpuR2KZTY8WMqUQIgZ1jp5EjVa8qaUwlQhwc17HTVGWMqUSIg2A6dpoq6zGVCFFC+xw7TZXpmEqE8J/vY6ep8hpTiRB+KvXYaaosxlQihA8OeOw0FfAxlQhRPPnYaSqYY2olRBiPNbREwvFYQzQSbmks8Me6krPTWdtaXl1YXk1n7UKvATNBGztNBWpMLdcIo5FwZ7wp0RHtijfV1Rj8Ca7k7Jm59L/m0ikr47bWk9Rff+O2pFQ6f/ePXb8Vbxq9dm63724zOvng1uR9t1X/56cfPyuX3W8PzphaXfvym7sRt7UlVH4RXuhpTXREE59E3RYW1tIYvnj+1MXzp1Zy9vj0wzv3lp7ZW24/BJRQOUV4oad1sO9MwYGzCC2N4Su/bR/sOzN+d9F0HwB8VB4RJjqiV/vb/crvbXU1VQN9pxMd0etjSWt51W054L+gR3gsXHX9UlfRw6dHbbH68aFfFvHWCCWyuX74yaPw6tOjkdhmJLYRzDMffgl0hPFYw+gfzxkdd9mPgb7T0Uh4aCzpthCl8mLrUHa52snP+crq06OLyXonxeaTlXlkO7gRXuhpvf55l9sqn/V2t7bFGgZufM3RmgO2+vTok2/D2eXqFz8UuO9Rdrk6u1zt1PjBR/m6n1TU305AI5QU6GiL1d+8fHbgxr/dFsIHztj55NtaL5ewvPjh0JNH4SePwtV1Lz/4KF8xY2oQIxQW6OiMNw1f6mIuLZ2dY6eRzfzhxWR9xYypgYsw0RHVFujo7W5NWpk795bcFsLM3mOnqcoYU4MVYTQSHr6kL9Bxtb89ZWW4zM0XRmOnqXIfU4MV4c3L3Qd2LNRVXU3V9c+7eHO4H/scO02V6ZgaoAgH+860xerdVu1qJWenrEzSyqSz9kpuPZ21o5FwS2NtV7wp0REt7pU7400Xelr9GkrzG1vWd+/K9QD+jp2mymtMDUqEx8JVn/3qlNuqwlJWZnx6cWYuve3r6aydztopK3Nr8n40Eh7sO9Pb3brLaxSQ39gamZj3q8BQKGR9t1rx+2pJx05T5TKmBiXCq/3tRQyi+Y2tobHkzvx2SmftobHk5L2l4Utdrpe/5Te2xu8ujk8/5GyhRwc8dpoK+JgaiAiPhauM9ihHyspc+fI/Rp2krMzF4enRaz/fbTolP1PasdNUMMfUQET42fmfuS3Zbmp2qbjzeM/srYEbXxfscHTyAfl5lP++avXp+wEZO01tG1PdlpdcICK80GO2DS4sr41MzLut2pXT4e2h86/n0qnZpVuT9zkb4d1ispgDXUHjjKluq0pOH2E81uD6Ju1t+Y2tK1/O7nO/emZvDY0lR6+dIz/I6SM03Qb9aiZlZRJ/mNxnzMD+6d9MG53BW8nZ43cX3VZ5RYEIAv1O2Blvclvyxvj0Q7clwRU/0eD95kuu7swu+XgOE0LiCI0KDIVCXk4JBlZdTZXp73cPKSvrtgTlQRzhsbDBCfqF5TUv7wbjsYY6k5f1Lm9vcR8a+E4cYTzW4LbkDY93Cr3S/7GPG87bUlam4q87w8HTH5jxjl0IFUkcodE46mUWBcqOOEKj8xNARRJHWF4WltfclgDGxBGu5MppwuTkPkpBHKHR27xoxOAS01JI59bdlgDGxBEaiTbWui0pLaP/MgCPxBEa7S2dceVD5EKh0ALnSFAC6ghN9pbOeJPRKQ1/reRs3hOiFMRXzHi8COa1Cz2tPn6Kwsj+LxXgghsUJN4JTY/7F3EjDL+Y/n8BeCTeCZ1/3N5P2bc0hl1vBHpndsnjJww64xHvV5mm/uvpNQFT+giTVubieYM7jl7tb5+ZS+/x9sz7p+ym/vxrtyU/WsnZ+x9HgYL04+jMXDq/YXDAo66m6ubls26r3A32nfF+b5uy/hwjAk4fodHe5XAeXea2ai+JjuhA32m3VW+Y/goB7/TjqHPTCqOJ1Hl0WSgUGpmYL+K0QaIjatRwysowi25ztb/d+zv5gNvnHTT3LxARprP21OyS6U24nUdbj0zMGx23HOw7Y7QHOkd63Ja8c9pi9d6PaWFvgRhHnRsZui0poC1WP3rt3PClLi+f0O+MN90eOm9a4ErOZhZFSQViJ3Q2w9vTi6ZDqaO3u7W3u3VheW1mLp20Ms5z0ZxvOU9H+0VHNNER9X4Y5m3F3Wy/IH/vthYKhTj1XxmCEqGzGRadirMrtsXqB0JmG93eUlbGaNbdm793W0PFCMo4+vrW9G6rDk5+Y+v63wL060GlClCEzs5z8+/K41RvGxpLGl1fDhQnWBGGQqHxu4tTATgaebvQo3+BUghchM4WpO1wanZJe+II75QgRqjtsOjHjwLFCWiEToejkw/cVvmMAnHwAnSKYqdbk/eTVuYvvz9bV1PyD9TnN7ZGJuY5L4+DF9yd0JGyMr1/+mepR9OUlbk4PE2BkAj0Tuhwzh9O3lsa7Dvt+8nulZx9a/I++UGoDCJ0pKzMwI1MZ7ypr6fV9FLvglJWhudsIgjKJkKHcx3ZyMR8oiOa6IgmPom6/cR2KSsz8016Zi7NiXgExHuffvGV25pA64w3xU/URxtrnY+3xU80vD6Ks5Kz09n1H58umlu3vlvz8UJQwC9lthPu5O811sDBC/rRUaDiESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiBEhIEaEgBgRAmJECIgRISBGhIAYEQJiRAiIESEgRoSAGBECYkQIiP0POu5BiiWMGNIAAAAASUVORK5CYII="},9425:function(t,e,a){},"95cd":function(t,e,a){"use strict";a("a5fc")},"9ad4":function(t,e,a){"use strict";a("5c58")},"9ef3":function(t,e,a){},"9fd2":function(t,e,a){"use strict";a("9ef3")},a37d:function(t,e,a){},a4cd:function(t,e,a){},a5fc:function(t,e,a){},a819:function(t,e,a){"use strict";a("5dcd")},ab0b:function(t,e,a){"use strict";a("1975")},abde:function(t,e,a){"use strict";a("d4ce")},b9a5:function(t,e,a){},be84:function(t,e,a){},c0ef:function(t,e,a){"use strict";a("733d")},c596:function(t,e,a){"use strict";a("7e20")},c6b2:function(t,e,a){"use strict";a("5d05")},c9aa:function(t,e,a){},cc82:function(t,e,a){},d4ce:function(t,e,a){},d6cf:function(t,e,a){},dab5:function(t,e,a){},e18a:function(t,e,a){},e205:function(t,e,a){"use strict";a("a37d")},e3a6:function(t,e,a){},e87c:function(t,e,a){},ed0c:function(t,e,a){},ee9e:function(t,e,a){"use strict";a("ed0c")},ef8d:function(t,e,a){},f35c:function(t,e,a){},fae2:function(t,e,a){"use strict";a("0ecf")}});
//# sourceMappingURL=app.864dc2b4.js.map